function openShortcodeGenerator(e){var t,i,o,n;"object"==typeof e&&void 0!==e[0].$el&&(e=e[0].$el),o="#"+e.parent().parent().find(".wp-editor-area").attr("id"),n=e.closest(".fusion-builder-module-settings").attr("data-element-cid"),window.cursorPosition=0,window.editorArea=o,FusionPageBuilderApp.shortcodeGenerator=!0,FusionPageBuilderApp.isTinyMceActive()?window.SCmoduleContentEditorMode="tinymce":window.SCmoduleContentEditorMode="html","tinymce"!==window.SCmoduleContentEditorMode&&(window.cursorPosition=jQuery(o).getCursorPosition()),i={collection:FusionPageBuilderElements,view:this,targetCid:n},t=new FusionPageBuilder.GeneratorElementsView(i),jQuery(t.render().el).dialog({title:"Select Element",draggable:!1,modal:!0,resizable:!1,dialogClass:"fusion-builder-dialog fusion-builder-large-library-dialog fusion-builder-element-library-dialog",open:function(e,t){window.FusionApp.dialog.resizeDialog()},close:function(e,i){t.remove()}})}jQuery,window.fusionBuilderInsertIntoEditor=function(e,t){var i,o;"tinymce"!==window.SCmoduleContentEditorMode||""!==t&&void 0!==t?("excerpt"===(i=null===t||""===t||void 0===t?jQuery(window.editorArea):jQuery("#"+t)).attr("id")&&(FusionPageBuilderApp.fromExcerpt=!0),void 0===window.cursorPosition?0===i.getCursorPosition()?i.val(e+i.val()):i.val().length===i.getCursorPosition()?i.val(i.val()+e):i.val(i.val().slice(0,i.getCursorPosition())+e+i.val().slice(i.getCursorPosition())):i.val([i.val().slice(0,window.cursorPosition),e,i.val().slice(window.cursorPosition)].join("")),i.trigger("change")):void 0!==window.tinyMCE&&((o=FusionPageBuilderApp.shortcodeGeneratorActiveEditor).focus(),"excerpt"===o.id&&(FusionPageBuilderApp.fromExcerpt=!0),window.tinyMCE.activeEditor.execCommand("mceInsertContent",!1,e),window.tinyMCE.activeEditor.execCommand("mceCleanup",!1)),!1===FusionPageBuilderApp.manuallyAdded&&(FusionPageBuilderApp.shortcodeGeneratorActiveEditor="")},jQuery,jQuery.fn.getCursorPosition=function(){var e,t,i=jQuery(this).get(0),o=0;return"selectionStart"in i?o=i.selectionStart:"selection"in document&&(i.focus(),e=document.selection.createRange(),t=document.selection.createRange().text.length,e.moveStart("character",-i.value.length),o=e.text.length-t),o};var FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.BuilderHistory=window.wp.Backbone.View.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-front-end-history").html()),className:"fusion-builder-history-list submenu-trigger-target",tagName:"ul",initialize:function(){var e=FusionApp.data;this.fusionCommands=new Array("[]"),this.fusionCommandsStates=new Array("[]"),this.maxSteps=25,this.currStep=1,this.allElements=e.postDetails.post_content,this.fusionHistoryState="",this.tracking="on",this.trackingPaused="off",this.unsavedStep=1,this.fusionCommands[this.currStep]={allElements:e.postDetails.post_content},this.fusionCommandsStates[this.currStep]=fusionBuilderText.empty,this.listenTo(FusionEvents,"fusion-history-pause-tracking",this.pauseTracking),this.listenTo(FusionEvents,"fusion-history-resume-tracking",this.resumeTracking),this.listenTo(FusionEvents,"fusion-history-save-step",this.saveHistoryStep),this.listenTo(FusionEvents,"fusion-history-turn-on-tracking",this.turnOnTracking),this.listenTo(FusionEvents,"fusion-history-turn-off-tracking",this.turnOffTracking),this.listenTo(FusionEvents,"fusion-history-go-to-step",this.historyStep),this.listenTo(FusionEvents,"fusion-history-clear",this.clearEditor),this.listenTo(FusionEvents,"fusion-history-capture-editor",this.captureEditor),this.listenTo(FusionEvents,"fusion-history-undo",this.doUndo),this.listenTo(FusionEvents,"fusion-history-redo",this.doRedo),this.listenTo(FusionEvents,"fusion-app-saved",this.clearEditor),this.listenTo(FusionEvents,"fusion-builder-reset",this.resetStates),this.listenTo(FusionEvents,"fusion-element-removed",this.resetStates)},resetStates:function(e){var t=this;"object"==typeof this.fusionCommands&&_.each(this.fusionCommands,function(i,o){(void 0===e||!e||"param"===i.type&&void 0!==i.cid&&e===i.cid)&&(t.fusionCommands[o]={allElements:i.allElements})})},render:function(){var e=this;return this.$el.html(this.template({steps:this.fusionCommandsStates,currentStep:this.currStep})),this.$el.attr("aria-expanded",!1),this.$el.find("li").on("click",function(t){t&&t.preventDefault(),e.historyStep(t)}),this.updateUI(),this},saveHistoryStep:function(e,t){this.fusionHistoryState=e,this.turnOnTracking(),this.captureEditor(t),this.turnOffTracking()},captureEditor:function(e){"object"!=typeof e&&(e={}),"undefined"!=typeof FusionPageBuilderApp&&(FusionPageBuilderApp.builderToShortcodes(),this.isTrackingOn()&&!this.isTrackingPaused()&&(this.currStep==this.maxSteps?(this.fusionCommands.shift(),this.fusionCommandsStates.shift()):(this.currStep+=1,this.unsavedStep+=1),this.currStep!==this.fusionCommands.length&&(this.fusionCommandsStates.length=this.currStep,this.fusionCommands.length=this.currStep),this.allElements=FusionApp.data.postDetails.post_content,e.allElements=this.allElements,this.fusionCommands[this.currStep]=e,this.fusionCommandsStates[this.currStep]=this.fusionHistoryState,FusionApp.contentChange("page","builder-content"),this.fusionHistoryState="",this.render()))},turnOnTracking:function(){this.tracking="on"},turnOffTracking:function(){this.tracking="off"},pauseTracking:function(){this.trackingPaused="on"},resumeTracking:function(){this.trackingPaused="off"},canApplyStep:function(e){return"object"==typeof e&&void 0!==e.type&&("param"===e.type||"price-param"===e.type||"pricefooter-param"===e.type||"pricefeatures-param"===e.type)},canApplySteps:function(e){var t=this,i=[],o=!0;return i=e<this.currStep?this.fusionCommands.slice(e+1,this.currStep+1):this.fusionCommands.slice(this.currStep+1,e+1),_.each(i,function(e){t.canApplyStep(e)||(o=!1)}),o},applySteps:function(e){var t=this,i=!(e<this.currStep),o=[];o=i?this.fusionCommands.slice(this.currStep+1,e+1):this.fusionCommands.slice(e+1,this.currStep+1).reverse(),_.each(o,function(e){t.applyStep(e,i)})},applyStep:function(e,t){var i,o;switch(t=void 0!==t&&t,e.type){case"param":(i=window.FusionPageBuilderViewManager.getView(e.cid))&&(i.model.get("params"),t?(i.historyUpdateParam(e.param,e.newValue),FusionEvents.trigger("fusion-param-changed",e.param,e.newValue),FusionEvents.trigger("fusion-param-changed-"+e.cid,e.param,e.newValue)):(i.historyUpdateParam(e.param,e.oldValue),FusionEvents.trigger("fusion-param-changed",e.param,e.oldValue),FusionEvents.trigger("fusion-param-changed-"+e.cid,e.param,e.oldValue)));break;case"price-param":(i=window.FusionPageBuilderViewManager.getView(e.cid))&&(t?(i.updatePricingTablePrice(e.param,e.newValue),FusionEvents.trigger("fusion-param-changed",e.param,e.newValue),FusionEvents.trigger("fusion-param-changed-"+e.cid,e.param,e.newValue)):(i.updatePricingTablePrice(e.param,e.oldValue),FusionEvents.trigger("fusion-param-changed",e.param,e.oldValue),FusionEvents.trigger("fusion-param-changed-"+e.cid,e.param,e.oldValue)));break;case"pricefooter-param":(i=window.FusionPageBuilderViewManager.getView(e.cid))&&(t?(i.updatePricingTableFooter(e.newValue),FusionEvents.trigger("fusion-param-changed","footer_content",e.newValue),FusionEvents.trigger("fusion-param-changed-"+e.cid,"footer_content",e.newValue)):(i.updatePricingTableFooter(e.oldValue),FusionEvents.trigger("fusion-param-changed","footer_content",e.oldValue),FusionEvents.trigger("fusion-param-changed-"+e.cid,"footer_content",e.oldValue)));break;case"pricefeatures-param":(i=window.FusionPageBuilderViewManager.getView(e.cid))&&(t?(i.updatePricingTableFeatures(e.newValue),FusionEvents.trigger("fusion-param-changed","footer_content",e.newValue),FusionEvents.trigger("fusion-param-changed-"+e.cid,"feature_rows",e.newValue)):(i.updatePricingTableFeatures(e.oldValue),FusionEvents.trigger("fusion-param-changed","footer_content",e.oldValue),FusionEvents.trigger("fusion-param-changed-"+e.cid,"feature_rows",e.oldValue)));break;case"add-element":t?FusionPageBuilderApp.collection.add(e.model):(i=window.FusionPageBuilderViewManager.getView(e.model.cid))&&i.removeElement();break;case"remove-element":t?(i=window.FusionPageBuilderViewManager.getView(e.model.cid))&&i.removeElement():FusionPageBuilderApp.collection.add(e.model);break;case"move-element":(i=window.FusionPageBuilderViewManager.getView(e.cid)).$el.addClass("ignore-me"),t?(o=window.FusionPageBuilderViewManager.getView(e.newParent),i&&o&&(o.$el.find(".fusion-builder-column-content").first().find("> span, > div").not(".ignore-me").eq(e.newIndex-1).after(i.$el),FusionPageBuilderApp.onDropCollectionUpdate(i.model,e.newIndex,e.newParent))):(o=window.FusionPageBuilderViewManager.getView(e.oldParent),i&&o&&(o.$el.find(".fusion-builder-column-content").first().find("> span, > div").not(".ignore-me").eq(e.oldIndex-1).after(i.$el),FusionPageBuilderApp.onDropCollectionUpdate(i.model,e.oldIndex,e.oldParent))),i.$el.removeClass("ignore-me")}},updateActiveStyling:function(){FusionApp.builderToolbarView.$el.find(".fusion-builder-history-list li").removeClass("fusion-history-active-state"),FusionApp.builderToolbarView.$el.find(".fusion-builder-history-list").find('[data-state-id="'+this.currStep+'"]').addClass("fusion-history-active-state")},fullContentReplace:function(e){this.resetStates(),FusionPageBuilderApp.clearBuilderLayout(),FusionPageBuilderApp.$el.find(".fusion_builder_container").remove(),FusionPageBuilderApp.createBuilderLayout(e)},doUndo:function(e){var t,i={};e&&e.preventDefault(),this.hasUndo()&&(this.closeNestedCols(),this.turnOffTracking(),i=this.fusionCommands[this.currStep],this.canApplyStep(i)?(this.applyStep(i,!1),this.currStep-=1):(this.currStep-=1,(t="object"==typeof(i=this.fusionCommands[this.currStep])&&i.allElements)&&"[]"!==t&&this.fullContentReplace(t)),this.updateActiveStyling(),FusionPageBuilderApp.wireframeActive&&FusionEvents.trigger("fusion-undo-state"))},doRedo:function(e){var t;e&&e.preventDefault(),this.hasRedo()&&(this.closeNestedCols(),this.turnOffTracking(),this.currStep+=1,window.historyStep=this.fusionCommands[this.currStep],t="object"==typeof window.historyStep&&window.historyStep.allElements,this.canApplyStep(window.historyStep)?this.applyStep(window.historyStep,!0):t&&"[]"!==t&&this.fullContentReplace(t),this.updateActiveStyling())},historyStep:function(e){var t,i;e&&e.preventDefault(),this.closeNestedCols(),t=jQuery(e.currentTarget).data("state-id"),this.turnOffTracking(),this.canApplySteps(t)?(this.applySteps(t),this.currStep=t):(this.currStep=t,(i="object"==typeof this.fusionCommands[this.currStep]&&this.fusionCommands[this.currStep].allElements)&&"[]"!==i&&(this.fullContentReplace(i),FusionPageBuilderApp.wireframeActive&&FusionEvents.trigger("fusion-undo-state"))),this.updateActiveStyling()},isTrackingOn:function(){return"on"===this.tracking},isTrackingPaused:function(){return"on"===this.trackingPaused},logStacks:function(){},clearEditor:function(){this.fusionCommands=new Array("[]"),this.fusionCommandsStates=new Array("[]"),this.currStep=1,this.unsavedStep=1,this.fusionHistoryState="",this.fusionCommands[this.currStep]={allElements:FusionApp.data.postDetails.post_content},this.fusionCommandsStates[this.currStep]=fusionBuilderText.empty,this.render()},hasUndo:function(){return 1!==this.currStep},hasRedo:function(){return this.currStep<this.fusionCommands.length-1},getCommands:function(){return this.fusionCommands},updateUI:function(){1<this.unsavedStep?FusionApp.builderToolbarView.$el.find("#fusion-builder-toolbar-history-menu").attr("data-has-unsaved",!0):FusionApp.builderToolbarView.$el.find("#fusion-builder-toolbar-history-menu").attr("data-has-unsaved",!1),this.updateActiveStyling()},closeNestedCols:function(){var e=FusionPageBuilderApp.$el.find(".fusion-nested-columns.editing").length;e&&e.find(".fusion-builder-cancel-row").trigger("click")}});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.BuilderToolbar=window.wp.Backbone.View.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-front-end-toolbar").html()),className:"fusion-toolbar-nav fb",tagName:"ul",events:{"click .fusion-builder-clear-layout":"clearLayout","click .fusion-builder-open-library":"openLibrary","click .fusion-builder-save-template":"openLibrary","click #fusion-builder-toolbar-new-post .add-new":"newPost","click .fusion-builder-preferences":"openPreferences","click #fusion-builder-toolbar-history-menu":"preventDefault","click .fusion-preview-only-link":"generatePreview"},toggleWireframe:function(e){void 0!==e&&e.preventDefault(),FusionPageBuilderApp.wireframe.toggleWireframe()},initialize:function(){this.builderHistory=new FusionPageBuilder.BuilderHistory,this.listenTo(FusionEvents,"fusion-post_title-changed",this.updatePreviewTitle)},render:function(){return this.$el.html(this.template()),this.$el.find(".fusion-builder-history-container").append(this.builderHistory.render().el),this.moveWireframe(),this.delegateEvents(),this},moveWireframe:function(){FusionApp.toolbarView.$el.find(".fusion-wireframe-holder").remove(),FusionApp.toolbarView.$el.find(".fusion-builder-preview-viewport").after(this.$el.find(".fusion-wireframe-holder")),FusionApp.toolbarView.$el.find(".fusion-builder-wireframe-toggle").on("click",this.toggleWireframe)},generatePreview:function(e){var t=jQuery(e.currentTarget);void 0!==e&&(e.preventDefault(),e.stopPropagation()),t.attr("data-disabled")||(t.attr("data-disabled",!0),"undefined"!=typeof FusionPageBuilderApp&&FusionPageBuilderApp.builderToShortcodes(),this.sidebarView&&this.setGoogleFonts(),FusionApp.formPost(FusionApp.getAjaxData("fusion_app_preview_only"),!1,"_blank"),t.removeAttr("data-disabled"))},openLibrary:function(e){var t={model:{target:jQuery(e.currentTarget).data("target"),focus:jQuery(e.currentTarget).data("focus")}};void 0!==e&&(e.preventDefault(),e.stopPropagation()),jQuery(".fusion-builder-dialog").length&&jQuery(".fusion-builder-dialog").is(":visible")?FusionApp.multipleDialogsNotice():new FusionPageBuilder.LibraryView(t).render()},clearLayout:function(e){e&&e.preventDefault(),FusionApp.confirmationPopup({title:fusionBuilderText.are_you_sure,content:fusionBuilderText.are_you_sure_you_want_to_delete_this_layout,actions:[{label:fusionBuilderText.cancel,classes:"cancel",callback:function(){FusionApp.confirmationPopup({action:"hide"})}},{label:fusionBuilderText.remove,classes:"delete-layout",callback:function(){jQuery(".ui-dialog-content").length&&jQuery(".ui-dialog-content").dialog("close"),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.layout_cleared),FusionPageBuilderApp.clearLayout(e),FusionApp.confirmationPopup({action:"hide"})}}]})},newPost:function(e){var t=jQuery(e.currentTarget).data("post-type");e&&e.preventDefault(),jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,dataType:"JSON",data:{action:"fusion_create_post",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,post_type:t}}).done(function(t){FusionApp.checkLink(e,t.permalink)})},openPreferences:function(e){void 0!==e&&(e.preventDefault(),e.stopPropagation()),jQuery(".fusion-builder-dialog").length&&jQuery(".fusion-builder-dialog").is(":visible")?FusionApp.multipleDialogsNotice():(new FusionPageBuilder.PreferencesView).render()},preventDefault:function(e){e.preventDefault()},updatePreviewTitle:function(){this.$el.find(".fusion-preview-only-link strong").html(FusionApp.getPost("post_title"))}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.Element=Backbone.Model.extend({defaults:{type:"element"}});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.ExtraShortcodes=Backbone.Model.extend({defaults:{elementCount:0,shortcodes:{}},addData:function(e){var t=this,i=t.get("shortcodes"),o=t.get("elementCount");_.each(e,function(e){e.id=o,e.matcher=t.convert(e.shortcode),i[o]=e,o++}),this.set({elementCount:o}),this.set({shortcodes:i})},addShortcode:function(e,t,i){var o=this.get("shortcodes"),n=this.get("elementCount"),s=this.get("elementCount");return o[n]={shortcode:e,output:t,matcher:this.convert(e),id:n,tag:i},n++,this.set({elementCount:n}),this.set({shortcodes:o}),s},byId:function(e){return this.get("shortcodes")[e]},byShortcode:function(e){var t=this.get("shortcodes"),i=_.findWhere(t,{shortcode:e});return void 0===i&&(e=this.convert(e),i=_.findWhere(t,{matcher:e})),i},byOutput:function(e){var t=this.get("shortcodes");return _.findWhere(t,{ouput:e})},getAll:function(){return this.get("shortcodes")},convert:function(e){return(e=(e=(e=(e=(e=e.replace(/ /g,"")).replace(/\r?\n|\r/g,"")).replace(/(<p[^>]+?>|<p>|<\/p>)/g,"")).replace(/(<br[^>]+?>|<br>|<\/br>)/g,"")).replace(/\[fusion_text\]\[\/fusion_text\]/g,"")).trim()}});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.DynamicValues=Backbone.Model.extend({defaults:{values:{},options:{},orderedParams:!1},getOrderedParams:function(){var e=this.get("orderedParams"),t=this.getOptions();return e||(e={},_.each(t,function(t,i){var o,n;"object"==typeof t&&(n=o=t.group,"string"!=typeof t.group&&(o="other",n=fusionBuilderText.other),o=o.replace(/\s+/g,"_").toLowerCase(),"object"!=typeof e[o]&&(e[o]={label:"",params:{}}),e[o].label=n,e[o].params[i]=t)})),e},addData:function(e,t){this.set("values",e),this.set("options",t)},getOptions:function(){var e=this.get("options");return jQuery.extend(!0,{},e)},getOption:function(e){var t=this.getOptions();return void 0!==t[e]&&t[e]},getAll:function(){var e=this.get("values");return jQuery.extend(!0,{},e)},getValue:function(e){var t,i=this.getAll(),o=e.data,n=FusionApp.getDynamicPost("post_id"),s=!1;return void 0!==i[n]&&(s="object"==typeof i[n][o]&&i[n][o]),s&&(t=this.findMatch(s,e))?t.value:this.fetchValue(o,e)},findMatch:function(e,t,i){var o=!1;return i=void 0!==i&&i,_.each(e,function(e,n){var s=!0;return!!o||(void 0===e.args?(o=i?n:e,!0):void("object"==typeof e.args&&(_.each(e.args,function(e,i){if(void 0===t[i]||"before"===i||"after"===i||"fallback"===i)return!0;t[i]!==e&&(s=!1)}),s&&(o=i?n:e))))}),o},fetchValue:function(e,t){var i,o=this.getOptions(),n="object"==typeof o&&"object"==typeof o[e]&&o[e],s=!(!n||void 0===n.callback)&&n.callback,a=!(!s||"string"!=typeof s.function)&&s.function,r=!(!a||"function"!=typeof FusionApp.callback[a]),l=!(!r||void 0===s.ajax)&&s.ajax;return r||(a="defaultDynamicCallback",l=!0),n?!0===FusionApp.data.is_singular&&"fusion_tb_section"===FusionApp.data.postDetails.post_type&&-99===FusionApp.getDynamicPost("post_id")&&void 0!==n.default?n.default:!0===FusionApp.data.is_singular&&"fusion_tb_section"===FusionApp.data.postDetails.post_type&&void 0!==n.ajax_on_template&&!0===n.ajax_on_template?FusionApp.callback.defaultDynamicCallback(t):l?FusionApp.callback[a](t):(i=FusionApp.callback[a](t),this.setValue(t,i),i):(this.setValue(t,!1),!1)},setValue:function(e,t){var i,o,n=this.getAll(),s=e.data,a=FusionApp.getDynamicPost("post_id"),r={args:jQuery.extend(!0,{},e),value:t};"object"!=typeof n[a]&&(n[a]=[]),i=jQuery.extend(!0,{},n[a][s]),"object"!=typeof n[a][s]?n[a][s]=[]:"function"!=typeof n[a][s].push&&(n[a][s]=[i[0]]),(o=this.findMatch(n[a][s],e,!0))?n[a][s][o]=r:n[a][s].push(r),this.set("values",n),FusionEvents.trigger("fusion-dynamic-data-value",s)},removeValue:function(e){var t=this.getAll(),i=FusionApp.getDynamicPost("post_id");"object"==typeof t[i][e]&&delete t[i][e],this.set("values",t)}});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.DynamicParams=Backbone.Model.extend({defaults:{params:{},elementView:!1,listeners:[]},initialize:function(){this._historyPush=_.debounce(_.bind(this.historyPush,this),300)},setData:function(e){"object"==typeof e&&(this.set("params",e),this.setListeners())},getAll:function(){var e=this.get("params");return jQuery.extend(!0,{},e)},setListeners:function(){var e=this.getAll(),t=this;_.each(e,function(e){var i=FusionPageBuilderApp.dynamicValues.getOption(e.data);i&&"object"==typeof i.listeners&&_.each(i.listeners,function(i,o){t.setListener(o,i,e)})})},setListener:function(e,t,i){var o=void 0!==t.location&&t.location,n=this,s=this.cid,a=this.get("listeners");if(o)switch(o){case"postDetails":FusionEvents.on("fusion-"+e+"-changed",function(){FusionPageBuilderApp.dynamicValues.removeValue(i.data),n.getValueAndUpdate(i)},s),a.push("fusion-"+e+"-changed"),n.set("listeners",a);break;case"postMeta":FusionEvents.on("fusion-po-"+e+"-changed",function(){FusionPageBuilderApp.dynamicValues.removeValue(i.data),n.getValueAndUpdate(i)},s),a.push("fusion-po-"+e+"-changed"),n.set("listeners",a)}},hasDynamicParam:function(e){return void 0!==this.getAll()[e]},getParamValue:function(e){var t=FusionPageBuilderApp.dynamicValues.getValue(e),i="string"==typeof e.before?e.before:"",o="string"==typeof e.after?e.after:"",n=void 0!==e.fallback&&e.fallback,s=void 0!==t&&!1!==t&&""!==t,a=this.get("elementView");return!s&&n?n:s?"object"==typeof t&&"function"==typeof t.then?(t.then(function(){a.reRender()}),!1):"string"!=typeof t?t:i+t+o:void 0},addParam:function(e,t){var i,o=this,n=this.getAll(),s=FusionPageBuilderApp.dynamicValues.getOptions();"object"!=typeof t&&(t={data:t}),_.each(s[t.data].fields,function(e,i){void 0===t[i]&&(void 0!==e.default?t[i]=e.default:void 0!==e.value&&(t[i]=e.value))}),n[e]=t,(i=FusionPageBuilderApp.dynamicValues.getOption(t.data))&&"object"==typeof i.listeners&&_.each(i.listeners,function(t,i){o.setListener(i,t,e)}),this.set("params",n),this.saveData(),FusionEvents.trigger("fusion-dynamic-data-added",e),this.getValueAndUpdate(n[e])},updateParam:function(e,t,i){var o=this.getAll();"object"==typeof o[e]&&(o[e][t]=i,this.set("params",o),FusionEvents.trigger("fusion-dynamic-data-updated",e),this.saveData(),this.getValueAndUpdate(o[e]))},getValueAndUpdate:function(e){var t=this.get("elementView"),i=FusionPageBuilderApp.dynamicValues.getValue(e,t);"object"==typeof i&&"function"==typeof i.then?(t.addLoadingOverlay(),i.then(function(){t.reRender()})):t.reRender()},updateListeners:function(){var e=this.cid;_.each(this.get("listeners"),function(t){FusionEvents.off(t,null,e)}),this.setListeners()},removeParam:function(e){var t=this.getAll(),i=this.get("elementView");delete t[e],this.set("params",t),this.updateListeners(),this.saveData(),i.reRender(),FusionEvents.trigger("fusion-dynamic-data-removed",e)},historyPush:function(){var e=this.get("elementView"),t=fusionAllElements[e.model.get("element_type")];FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.edited+" "+t.name+" - "+fusionBuilderText.dynamic_data)},saveData:function(){var e=this.get("elementView"),t=e.model.get("params"),i=t.dynamic_params;t.dynamic_params=FusionPageBuilderApp.base64Encode(JSON.stringify(this.getAll())),e.model.set("params",t),"function"==typeof e.forceUpdateParent&&e.forceUpdateParent(),i!==t.dynamic_params&&this._historyPush()}});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.FormStyles=Backbone.Model.extend({initialize:function(){this.baseSelector=".fusion-form",this.dynamic_css={},this.formData=FusionApp.data.postMeta._fusion,this.buildStyles(),this.listenTo(FusionEvents,"fusion-form-styles",this.buildStyles),this.listenTo(FusionEvents,"fusion-builder-loaded",this.buildStyles)},addCssProperty:function(e,t,i,o){"object"==typeof e&&(e=Object.values(e)),"object"==typeof e&&(e=e.join(",")),"object"!=typeof this.dynamic_css[e]&&(this.dynamic_css[e]={}),void 0!==o&&o&&(i+=" !important"),(void 0===this.dynamic_css[e][t]||void 0!==o&&o||!this.dynamic_css[e][t].includes("important"))&&(this.dynamic_css[e][t]=i)},isDefault:function(e,t){return"string"==typeof t?void 0===this.formData[e]||void 0===this.formData[e][t]||""===this.formData[e][t]:void 0===this.formData[e]||""===this.formData[e]},parseCSS:function(){var e="";return"object"!=typeof this.dynamic_css?"":(_.each(this.dynamic_css,function(t,i){"object"==typeof t&&(e+=i+"{",_.each(t,function(t,i){e+=i+":"+t+";"}),e+="}")}),e)},buildStyles:function(){var e,t,i,o,n=[this.baseSelector+' input:not([type="submit"])',this.baseSelector+" select",this.baseSelector+" textarea"],s="";this.dynamic_css={},"fusion_form"===FusionApp.getPost("post_type")&&(this.addCssProperty(this.baseSelector+" .fusion-form-tooltip .fusion-form-tooltip-content","color",this.formData.tooltip_text_color,!0),this.addCssProperty(this.baseSelector+" .fusion-form-tooltip .fusion-form-tooltip-content","background-color",this.formData.tooltip_background_color,!0),this.addCssProperty(this.baseSelector+" .fusion-form-tooltip .fusion-form-tooltip-content","border-color",this.formData.tooltip_background_color,!0),this.isDefault("field_margin","top")||this.addCssProperty(this.baseSelector+" .fusion-form-field","margin-top",this.formData.field_margin.top),this.isDefault("field_margin","bottom")||this.addCssProperty(this.baseSelector+" .fusion-form-field","margin-bottom",this.formData.field_margin.bottom),this.isDefault("form_input_height")||(height_inputs=[this.baseSelector+' input:not([type="submit"])',this.baseSelector+" select"],this.addCssProperty(height_inputs,"height",this.formData.form_input_height),this.addCssProperty(this.baseSelector+" .fusion-form-input-with-icon > i","line-height",this.formData.form_input_height)),this.isDefault("form_bg_color")||this.addCssProperty(n,"background-color",this.formData.form_bg_color),this.isDefault("form_font_size")||(this.addCssProperty(n,"font-size",this.formData.form_font_size),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-input-with-icon>i","font-size",this.formData.form_font_size)),this.isDefault("form_text_color")||(placeholders_color=jQuery.Color(this.formData.form_text_color).alpha(.5).toRgbaString(),e=[this.baseSelector+" input::placeholder",this.baseSelector+" textarea::placeholder"],this.addCssProperty(e,"color",placeholders_color),this.addCssProperty(this.baseSelector+" select:invalid","color",placeholders_color,!0),this.addCssProperty(this.baseSelector+" option","color",this.formData.form_text_color),this.addCssProperty(this.baseSelector+" input.fusion-form-upload-field::placeholder","color",this.formData.form_text_color),this.addCssProperty(this.baseSelector+" input.fusion-form-upload-field:-ms-input-placeholder","color",this.formData.form_text_color),e=[this.baseSelector+" input:-ms-input-placeholder",this.baseSelector+" textarea:-ms-input-placeholder"],this.addCssProperty(e,"color",placeholders_color),this.addCssProperty(this.baseSelector+" .fusion-form-input-with-icon > i","color",this.formData.form_text_color,!0),this.addCssProperty(n,"color",this.formData.form_text_color),this.addCssProperty(this.baseSelector+" .fusion-select-wrapper .select-arrow path","stroke",this.formData.form_text_color,!0)),this.isDefault("form_label_color")||this.addCssProperty(this.baseSelector+" label","color",this.formData.form_label_color),this.isDefault("form_border_width","top")||(this.addCssProperty(n,"border-top-width",_.fusionGetValueWithUnit(this.formData.form_border_width.top,"px")),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-image-select label","border-top-width",_.fusionGetValueWithUnit(this.formData.form_border_width.top,"px"))),this.isDefault("form_border_width","bottom")||(this.addCssProperty(n,"border-bottom-width",_.fusionGetValueWithUnit(this.formData.form_border_width.bottom,"px")),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-image-select label","border-bottom-width",_.fusionGetValueWithUnit(this.formData.form_border_width.bottom,"px"))),this.isDefault("form_border_width","right")||(this.addCssProperty(n,"border-right-width",_.fusionGetValueWithUnit(this.formData.form_border_width.right,"px")),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-image-select label","border-right-width",_.fusionGetValueWithUnit(this.formData.form_border_width.right,"px")),jQuery("body").hasClass("rtl")?this.addCssProperty(this.baseSelector+" .fusion-form-field .fusion-form-input-with-icon > i","right","calc( 1em + "+_.fusionGetValueWithUnit(this.formData.form_border_width.right,"px")+")",!0):this.addCssProperty(this.baseSelector+" .fusion-select-wrapper .select-arrow","right","calc( 1em + "+_.fusionGetValueWithUnit(this.formData.form_border_width.right,"px")+")",!0)),this.isDefault("form_border_width","left")||(this.addCssProperty(n,"border-left-width",_.fusionGetValueWithUnit(this.formData.form_border_width.left,"px")),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-image-select label","border-left-width",_.fusionGetValueWithUnit(this.formData.form_border_width.left,"px")),jQuery("body").hasClass("rtl")?this.addCssProperty(this.baseSelector+" .fusion-select-wrapper .select-arrow","left","calc( 1em + "+_.fusionGetValueWithUnit(this.formData.form_border_width.left,"px")+")",!0):this.addCssProperty(this.baseSelector+" .fusion-form-field .fusion-form-input-with-icon > i","left","calc( 1em + "+_.fusionGetValueWithUnit(this.formData.form_border_width.left,"px")+")",!0)),this.isDefault("form_border_width","bottom")&&this.isDefault("form_border_width","top")||(i=this.isDefault("form_border_width","top")?"var(--form_border_width-top)":_.fusionGetValueWithUnit(this.formData.form_border_width.top,"px"),o=this.isDefault("form_border_width","bottom")?"var(--form_border_width-bottom)":_.fusionGetValueWithUnit(this.formData.form_border_width.bottom,"px"),this.addCssProperty(this.baseSelector+" .fusion-form-field:not( .fusion-form-upload-field ) .fusion-form-input-with-icon > i","top","calc( 50% + ("+i+" - "+o+" ) / 2 )",!0)),this.isDefault("form_border_color")||(e=[this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-checkbox label:before",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-radio label:before",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-image-select label"],this.addCssProperty(n,"border-color",this.formData.form_border_color),this.addCssProperty(e,"border-color",this.formData.form_border_color),e=[this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area .fusion-form-rating-icon"],this.addCssProperty(e,"color",this.formData.form_border_color),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field input[type=range]::-webkit-slider-runnable-track","background",this.formData.form_border_color),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field input[type=range]::-moz-range-track","background",this.formData.form_border_color)),this.isDefault("form_focus_border_color")||(s=jQuery.Color(this.formData.form_focus_border_color).alpha(.5).toRgbaString(),e=[this.baseSelector+' input:not([type="submit"]):focus',this.baseSelector+" select:focus",this.baseSelector+" textarea:focus",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field.focused.fusion-form-upload-field .fusion-form-upload-field",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-radio input:checked + label:before",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-radio input:hover + label:before",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-checkbox input:checked + label:before",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-checkbox input:hover + label:before",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-image-select .fusion-form-input:checked + label",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-image-select .fusion-form-input:hover + label",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-checkbox input:focus + label:before",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-radio input:focus + label:before",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-image-select .fusion-form-input:focus + label"],this.addCssProperty(e,"border-color",this.formData.form_focus_border_color),e=[this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-radio input:hover:not(:checked) + label:before",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-checkbox input:hover:not(:checked) + label:before",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-image-select .fusion-form-input:hover:not(:checked) + label",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-upload-field-container:hover .fusion-form-upload-field",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-range-field-container .fusion-form-range-value:hover:not(:focus)",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-input:hover:not(:focus)"],this.addCssProperty(e,"border-color",s),e=[this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area .fusion-form-input:checked ~ label i"],this.addCssProperty(e,"color",this.formData.form_focus_border_color),e=[this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area .fusion-form-input:checked:hover ~ label i",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area .fusion-form-rating-icon:hover i",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area .fusion-form-rating-icon:hover ~ label i",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area .fusion-form-input:hover ~ label i"],this.addCssProperty(e,"color",s),e=[this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-checkbox input:checked + label:after",this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-radio input:checked + label:after"],this.addCssProperty(e,"background",this.formData.form_focus_border_color),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field input[type=range]::-ms-track","background",this.formData.form_focus_border_color),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field input[type=range]::-webkit-slider-thumb","background",this.formData.form_focus_border_color),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field input[type=range]::-moz-range-thumb","background",this.formData.form_focus_border_color),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field input[type=range]::-ms-thumb","background",this.formData.form_focus_border_color)),this.isDefault("form_border_radius")||(this.addCssProperty(n,"border-radius",_.fusionGetValueWithUnit(this.formData.form_border_radius,"px")),this.addCssProperty(this.baseSelector+".fusion-form-form-wrapper .fusion-form-field .fusion-form-image-select label","border-radius",_.fusionGetValueWithUnit(this.formData.form_border_radius,"px"))),t=this.parseCSS(),jQuery("#fb-preview")[0].contentWindow.jQuery("head").find("#fusion-form-style-block").length?jQuery("#fb-preview")[0].contentWindow.jQuery("head").find("#fusion-form-style-block").html(t):jQuery("#fb-preview")[0].contentWindow.jQuery("head").append('<style id="fusion-form-style-block">'+t+"</style>"))}});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.Collection=Backbone.Collection.extend({model:FusionPageBuilder.Element}),window.FusionPageBuilderElements=new FusionPageBuilder.Collection;FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.BaseView=window.wp.Backbone.View.extend({modalDialogMoreView:null,events:{},initialize:function(){},beforeRender:function(){},filterRender:function(e){return e},onRender:function(){},onInit:function(){},beforeRemove:function(){},onCancel:function(){},refreshJs:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-"+this.model.attributes.element_type,this.model.attributes.cid)},updateResponsiveTypography:function(){document.querySelector("#fb-preview").contentWindow.document.body.dispatchEvent(new Event("fusion-force-typography-update",{bubbles:!0,cancelable:!0}))},reRender:function(e){e&&"object"==typeof e&&e.preventDefault(),this.patchView(e),this.model.get("inline_editor")&&!this.activeInlineEditing&&(FusionPageBuilderApp.inlineEditorHelpers.liveEditorEvent(this),this.activeInlineEditing=!1)},patchView:function(){var e,t,i="",o="",n={};"generated_element"!==this.model.get("type")&&(t=this.$el.outerHeight(),this.beforePatch(),FusionPageBuilderApp.disableDocumentWrite(),this.renderWireframePreview(),(o=(i=this.getElementContent()).clone()).html(this.getTemplate()),e=FusionPageBuilderApp._diffdom.diff(i[0],o[0]),"function"==typeof this.patcherFilter&&(e=this.patcherFilter(e)),FusionPageBuilderApp._diffdom.apply(i[0],e),"fusion_builder_column"!==this.model.get("element_type")&&(n={currentModel:this.model,handleType:"changeView",difference:e},fusionGlobalManager.handleMultiGlobal(n)),i.removeClass("fusion-loader"),FusionPageBuilderApp.enableDocumentWrite(),this.afterPatch(),t!==this.$el.outerHeight()&&"function"==typeof this._triggerColumn&&this._triggerColumn())},patcherFilter:function(e){var t=[],i=["aria-multiline","contenteditable","data-inline-fontsize","data-medium-editor-index","data-medium-editor-element","data-medium-focused","data-placeholder","medium-editor-index","role","spellcheck"],o=!1;return this.activeInlineEditing&&(_.each(e,function(e){if("removeAttribute"!==e.action||-1===jQuery.inArray(e.name,i))return"modifyAttribute"===e.action&&-1!==e.oldValue.indexOf("medium-editor-element")&&-1===e.oldValue.indexOf("medium-editor-element")?(e.newValue=e.newValue+" medium-editor-element",t.push(e),void(o=!0)):void t.push(e);o=!0}),e=t,this.activeInlineEditing=o,this.autoSelectEditor=!o),e},beforePatch:function(){},afterPatch:function(){this._refreshJs()},renderInlineSettings:function(){var e;void 0!==FusionPageBuilderApp.inlineEditors&&FusionPageBuilderApp.inlineEditors.shortcodeAdded&&void 0!==(e=this.model.inlineCollection.find(function(e){return"true"==e.get("params").open_settings}))&&(e.parentView=this,e.$target=this.$el.find('.fusion-disable-editing[data-id="'+e.get("cid")+'"]'),delete e.attributes.params.open_settings,"undefined"!=typeof FusionApp&&"off"!==FusionApp.preferencesData.open_settings&&(e.set("added",!0),FusionPageBuilderApp.inlineEditorHelpers.getInlineElementSettings(e)))},getTemplate:function(){var e=this.getTemplateAtts();if(void 0!==this.elementTemplate)return this.elementTemplate(e)},filterTemplateAtts:function(e){return e},getDynamicAtts:function(e){var t=this;return void 0!==this.dynamicParams&&this.dynamicParams&&!_.isEmpty(this.dynamicParams.getAll())&&_.each(this.dynamicParams.getAll(),function(i,o){var n=t.dynamicParams.getParamValue(i);void 0!==n&&!1!==n&&(e.values[o]=n)}),e},getValues:function(){var e=this.model.get("element_type"),t=fusionAllElements[e];return this.getDynamicAtts(jQuery.extend(!0,{},t.defaults,_.fusionCleanParameters(this.model.get("params"))))},getElementContent:function(){switch(this.model.get("type")){case"fusion_builder_column":case"fusion_builder_container":case"fusion_builder_column_inner":return this.$el;case"element":return"multi_element_child"!==this.model.get("multi")?this.$el.find(".fusion-builder-element-content"):this.$el.find(".fusion-builder-child-element-content")}},settings:function(e){var t,i,o,n,s,a=this,r={model:this.model,collection:this.collection},l="generated_element"===this.model.get("type"),u=localStorage.getItem("resizePopupClass");e&&e.preventDefault(),this.onSettingsOpen(),t=fusionAllElements[this.model.get("element_type")].custom_settings_view_name,"multi_element_child"===this.model.get("multi")&&(o=FusionPageBuilderViewManager.getView(this.model.get("parent")))&&"generated_element"===o.model.get("type")&&(l=!0,r.model.set("type","generated_element"),r.model.set("display","dialog")),i=void 0!==t&&""!==t?new FusionPageBuilder[t](r):new FusionPageBuilder.ElementSettingsView(r),"fusion_builder_column"!==this.model.get("element_type")&&"fusion_builder_column_inner"!==this.model.get("element_type")||(this.columnSpacing(),this.paddingDrag(),this.marginDrag(),this.$el.removeClass("active"),this.$el.closest(".fusion-builder-container").removeClass("fusion-column-sizer-active")),"fusion_builder_container"===this.model.get("element_type")&&(this.paddingDrag(),this.marginDrag()),"fusion_builder_container"!==this.model.get("element_type")&&"fusion_builder_column"!==this.model.get("element_type")&&"fusion_builder_column_inner"!==this.model.get("element_type")||this.$el.addClass("fusion-builder-element-edited"),n="undefined"!==this.model.get("multi")&&"multi_element_child"===this.model.get("multi")?" fusion-builder-child-element":"",s=this.getDialogTitle(),FusionPageBuilderApp.SettingsHelpers.shouldRenderSettings(i)&&("dialog"===FusionApp.preferencesData.editing_mode||l?jQuery(i.render().el).dialog({title:s,width:FusionApp.dialog.dialogData.width,height:FusionApp.dialog.dialogData.height,position:FusionApp.dialog.dialogData.position,dialogClass:"fusion-builder-dialog fusion-builder-settings-dialog"+n,minWidth:327,type:this.model.get("type"),dragStop:function(e,t){FusionApp.dialog.saveDialogPosition(t.offset)},resizeStart:function(){FusionApp.dialog.addResizingClasses()},resizeStop:function(e,t){var i=jQuery(e.target).closest(".ui-dialog"),o=i.find(".fusion-tabs-menu > li").length;o&&(o*=100),o&&t.size.width>o?i.find(".fusion-tabs-menu").addClass("show-text"):i.find(".fusion-tabs-menu").removeClass("show-text"),FusionApp.dialog.saveDialogSize(t.size),450>t.size.width&&!i.hasClass("fusion-builder-dialog-narrow")?i.addClass("fusion-builder-dialog-narrow"):450<=t.size.width&&i.hasClass("fusion-builder-dialog-narrow")&&i.removeClass("fusion-builder-dialog-narrow"),FusionApp.dialog.removeResizingClasses()},open:function(e){var t,o=jQuery(e.target),n=o.closest(".ui-dialog");FusionApp.dialog.addResizingHoverEvent(),i.$el.find(".has-group-options").length&&n.addClass("fusion-builder-group-options"),o.find(".fusion-builder-section-name").blur(),jQuery(".ui-dialog").not(n).hide(),jQuery(".fusion-back-menu-item").on("click",function(){i.openParent(),a.onSettingsClose()}),a.modalDialogMoreView=new FusionPageBuilder.modalDialogMore({model:a.model}),FusionPageBuilderApp.SettingsHelpers.renderDialogMoreOptions(i),null!==u&&(jQuery("body").addClass(u),a.modalDialogMoreView.resizePopup(u)),jQuery("#fb-preview")[0].contentWindow.jQuery("body").addClass("fusion-dialog-ui-active"),450>n.width()&&!n.hasClass("fusion-builder-dialog-narrow")?n.addClass("fusion-builder-dialog-narrow"):450<=n.width()&&n.hasClass("fusion-builder-dialog-narrow")&&n.removeClass("fusion-builder-dialog-narrow"),FusionApp.dialog.maybeRepositionDialog(n)&&FusionApp.dialog.saveDialogPosition(n.offset()),(t=n.find(".fusion-tabs-menu > li").length)&&(t*=100),t&&n.width()>t&&n.find(".fusion-tabs-menu").addClass("show-text")},dragStart:function(e){jQuery(e.target).trigger("click")},beforeClose:function(e){FusionApp.dialogCloseResets(i),a.modalDialogMoreView=null,i.saveSettings(e),FusionEvents.trigger("fusion-content-changed")}}):(i.model.set("title",s),i.model.set("display","sidebar"),FusionApp.sidebarView.renderElementSettings(i)))},getDialogTitle:function(){var e,t=fusionAllElements[this.model.get("element_type")].name;return"multi_element_child"===this.model.get("multi")&&(t="Item",void 0!==(e=jQuery.extend(!0,{},this.model.get("params"))).title&&e.title.length?t=e.title:void 0!==e.title_front&&e.title_front.length?t=e.title_front:void 0!==e.name&&e.name.length?t=e.name:void 0!==e.image&&e.image.length?-1!==(t=e.image).indexOf("/")&&-1===t.indexOf("[")&&(t=(t=t.split("/")).slice(-1)[0]):"image"===this.model.attributes.element_name&&void 0!==e.element_content&&e.element_content.length?-1!==(t=e.element_content).indexOf("/")&&-1===t.indexOf("[")&&(t=(t=t.split("/")).slice(-1)[0]):void 0!==e.video&&e.video.length?t=e.video:void 0!==e.element_content&&e.element_content.length&&(t=e.element_content),t=jQuery("<div/>").html(t).text(),t=(t=jQuery("<div/>").html(t).text())&&15<t.length?t.substring(0,15)+"...":t,t=_.fusionUcFirst(t)),t},renderWireframePreview:function(){var e,t,i,o=this.model.get("element_type"),n=this;FusionPageBuilderApp.wireframeActive&&("fusion_builder_container"===o&&(t=this.model.get("params"),i=fusionBuilderText.empty_section,""!==t.background_image&&(i=fusionBuilderText.empty_section_with_bg),this.$el.find(".fusion-builder-empty-section").html(i)),!this.model.get("parent")||"true"!==this.model.get("child_element")&&!0!==this.model.get("child_element")||(o=(n=FusionPageBuilderViewManager.getView(this.model.get("parent"))).model.get("element_type")),void 0===fusionAllElements[o].preview&&"element"!==n.model.get("type")||(void 0!==n.previewView&&n.previewView||(e={model:n.model,collection:FusionPageBuilderElements,dynamicParams:n.dynamicParams},n.previewView=new FusionPageBuilder.ElementPreviewView(e)),n.$el.find(".fusion-builder-module-preview").html(n.previewView.render().el)))},onSettingsOpen:function(){},onSettingsClose:function(){var e=jQuery(".ui-dialog:not( .fusion-video-dialog ):not( .fusion-builder-preferences-dialog )").first();0<e.length&&!jQuery("body").hasClass("fusion-settings-dialog-large")&&(jQuery(e).css("width",FusionApp.dialog.dialogData.width+"px"),jQuery(e).css("height",FusionApp.dialog.dialogData.height+"px"),jQuery(e).position({my:FusionApp.dialog.dialogData.position.my,at:FusionApp.dialog.dialogData.position.at,of:window}))},renderContent:function(){},addLoadingOverlay:function(){var e,t="element";_.isObject(this.model.attributes)&&("fusion_builder_container"===this.model.attributes.element_type?t="container":"fusion_builder_column"===this.model.attributes.element_type&&(t="columns")),(e=this.$el.find(".fusion-builder-"+t+"-content")).hasClass("fusion-loader")||(e.addClass("fusion-loader"),e.append('<span class="fusion-builder-loader"></span>'))},removeElement:function(e){var t=this.model.get("parent");e&&(e.preventDefault(),FusionEvents.trigger("fusion-content-changed")),FusionPageBuilderViewManager.removeView(this.model.get("cid")),this.model.destroy(),FusionEvents.trigger("fusion-element-removed",this.model.get("cid")),this.triggerColumn(t),this.dynamicParam&&this.dynamicParam.destroy(),this.remove()},openLibrary:function(e){var t={model:{target:jQuery(e.currentTarget).data("target"),focus:jQuery(e.currentTarget).data("focus"),element_cid:this.model.get("cid"),element_name:void 0!==this.model.get("admin_label")&&""!==this.model.get("admin_label")?this.model.get("admin_label"):""}};e&&(e.preventDefault(),e.stopPropagation(),FusionPageBuilderApp.sizesHide(e)),new FusionPageBuilder.LibraryView(t).render(),FusionPageBuilderApp.removeContextMenu()},disableLink:function(e){jQuery(e.target).closest(".fusion-builder-module-controls-container").length||"lightbox"===jQuery(e.currentTarget).attr("target")||(e.preventDefault(),FusionApp.modifierActive&&!jQuery(e.target).parent().hasClass("fusion-lightbox")&&FusionApp.checkLink(e))},droppableElement:function(){var e=this,t=this.$el,i=this.model.get("cid"),o=jQuery("#fb-preview")[0].contentWindow.jQuery("body");t&&(void 0!==this.elementTarget&&this.elementTarget.length||(this.elementTarget=this.$el.find(".fusion-element-target")),t.draggable({appendTo:FusionPageBuilderApp.$el,zIndex:999999,delay:100,cursorAt:{top:15,left:15},iframeScroll:!0,containment:o,cancel:".fusion-live-editable, .fusion-builder-live-child-element:not( [data-fusion-no-dragging] ), .variations select",helper:function(){var t=FusionPageBuilderApp.DraggableHelpers.draggableClasses(i);return jQuery('<div class="fusion-element-helper '+t+'" data-cid="'+i+'"><span class="'+fusionAllElements[e.model.get("element_type")].icon+'"></span></div>')},start:function(){o.addClass("fusion-element-dragging fusion-active-dragging"),t.addClass("fusion-being-dragged"),t.prev(".fusion-builder-live-element").find(".target-after").addClass("target-disabled")},stop:function(){setTimeout(function(){o.removeClass("fusion-element-dragging fusion-active-dragging")},10),t.removeClass("fusion-being-dragged"),FusionPageBuilderApp.$el.find(".target-disabled").removeClass("target-disabled")}}),this.elementTarget.droppable({tolerance:"touch",hoverClass:"ui-droppable-active",accept:".fusion-builder-live-element, .fusion_builder_row_inner",drop:function(e,i){var o,n,s=jQuery(e.target).closest(".fusion-builder-column").data("cid"),a=FusionPageBuilderViewManager.getView(s),r=i.draggable.data("cid"),l=FusionPageBuilderViewManager.getView(r);jQuery(e.target).hasClass("target-after")?t.after(i.draggable):t.before(i.draggable),n=i.draggable.parent().children(".fusion-builder-live-element, .fusion_builder_row_inner").index(i.draggable),FusionPageBuilderApp.onDropCollectionUpdate(l.model,n,s),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.moved+" "+fusionAllElements[l.model.get("element_type")].name+" "+fusionBuilderText.element),o={currentModel:l.model,handleType:"save",attributes:l.model.attributes},fusionGlobalManager.handleMultiGlobal(o),FusionEvents.trigger("fusion-content-changed"),a._equalHeights()}}),FusionPageBuilderApp.wireframeActive&&this.disableDroppableElement())},disableDroppableElement:function(){var e=this.$el;void 0!==e.draggable("instance")&&e.draggable("disable"),void 0!==this.elementTarget&&this.elementTarget.length&&void 0!==this.elementTarget.droppable("instance")&&this.elementTarget.droppable("disable")},enableDroppableElement:function(){var e=this.$el;void 0!==e.draggable("instance")&&void 0!==this.elementTarget&&this.elementTarget.length&&void 0!==this.elementTarget.droppable("instance")?(e.draggable("enable"),this.elementTarget.droppable("enable")):this.droppableElement()},wireFrameToggled:function(){FusionPageBuilderApp.wireframeActive?(this.renderWireframePreview(),this.disableDroppableElement()):this.enableDroppableElement()},getEditLabel:function(){var e=fusionBuilderText.element_settings,t=this.model.get("element_type");return void 0!==fusionAllElements[t]&&(e=(e=fusionBuilderText.custom_element_settings).replace("%s",fusionAllElements[t].name)),e},preventDefault:function(e){e.preventDefault()},updateDragSettings:function(e,t){var i,o,n=jQuery('[data-element-cid="'+this.model.get("cid")+'"] '+e);n.length&&((i=n.closest(".fusion_builder_module_settings")).find('.fusion-tabs-menu a[href="#design"]').parent().hasClass("current")||i.find('.fusion-tabs-menu a[href="#design"]').parent().trigger("click"),(o=i.find('.fusion-tabs-menu a[href="#design"]').closest(".fusion-sidebar-section, .ui-dialog-content")).scrollTop(n.position().top+o.scrollTop()),n.val(t).trigger("change"))},baseInit:function(){var e=this.model.get("element_type");this.initialValue={},this.logHistory={},"string"==typeof e&&-1===jQuery.inArray(e,FusionPageBuilderApp.inlineElements)&&(this.listenTo(FusionEvents,"fusion-global-update-"+e,this.updateDefault),this.listenTo(FusionEvents,"fusion-extra-update-"+e,this.updateExtra)),this.initDynamicParams()},initDynamicParams:function(){var e=this.model.get("params"),t=e.dynamic_params;if(this.dynamicParams=new FusionPageBuilder.DynamicParams({elementView:this}),"string"==typeof e.dynamic_params&&""!==e.dynamic_params)try{FusionPageBuilderApp.base64Encode(FusionPageBuilderApp.base64Decode(t))===t&&(t=FusionPageBuilderApp.base64Decode(t),t=_.unescape(t),t=JSON.parse(t)),this.dynamicParams.setData(t)}catch(e){}},triggerAjaxCallbacks:function(e){var t=this,i={},o={skip:void 0!==e&&e};void 0!==fusionAllElements[this.model.get("element_type")].has_ajax&&(_.each(fusionAllElements[this.model.get("element_type")].has_ajax,function(e){(i={})[e.action]={},i[e.action].function=e.function,i[e.action].param_name=e.param_name,i[e.action].action=e.action}),_.each(i,function(e){FusionApp.callback[e.function](e.param_name,t.model.attributes.params[e.param_name],t.model.attributes,o,t.model.get("cid"),e.action,t.model,t)}))},updateExtra:function(){this.reRender()},updateDefault:function(e,t){var i=jQuery.extend(this.model.attributes,{}),o=!0,n=!1,s=this.model.get("params");void 0!==s[e]&&""!==s[e]&&"default"!==s[e]||this.dynamicParams.hasDynamicParam(e)||(!1!==(n=FusionPageBuilderApp.getCallbackFunction(i,e,t,this,!0))&&"function"==typeof FusionApp.callback[n.function]&&(o=this.doCallbackFunction(n,!1,e,t,i,!0)),o&&this.reRender())},historyUpdateParam:function(e,t){var i,o=jQuery.extend(this.model.attributes,{}),n=!0;this.changeParam(e,t,!1,!0),!1!==(i=FusionPageBuilderApp.getCallbackFunction(o,e,t,this,!0))&&"function"==typeof FusionApp.callback[i.function]&&(n=this.doCallbackFunction(i,!1,e,t,o,!0)),n&&this.reRender()},updateParam:function(e,t,i){var o=jQuery.extend(this.model.attributes,{}),n=!0,s=FusionPageBuilderApp.getCallbackFunction(o,e,t,this);return!1!==s&&"function"==typeof FusionApp.callback[s.function]?n=this.doCallbackFunction(s,i,e,t,o):this.changeParam(e,t),n},setInitialValue:function(e){void 0!==this.initialValue&&void 0===this.initialValue[e]&&void 0!==e&&(this.initialValue[e]=void 0!==this.model.get("params")[e]?this.model.get("params")[e]:"")},logChangeEvent:function(e,t,i){this.logHistory._param=this.logHistory._param||{},e in this.logHistory._param||(this.logHistory._param[e]=_.debounce(_.bind(function(e,t,i){var o={type:"param",param:e,newValue:t,cid:this.model.get("cid")},n=fusionAllElements[this.model.get("element_type")],s=n.params[e],a="object"==typeof s?s.heading:e;void 0!==i?a=i:"object"!=typeof s&&jQuery(".multi-builder-dimension #"+e).length?"object"==typeof(s=n.params[jQuery(".multi-builder-dimension #"+e).closest(".multi-builder-dimension").attr("id")])&&"string"==typeof s.heading&&(a=s.heading):"object"!=typeof s&&jQuery(".font_family #"+e).length&&"object"==typeof(s=n.params[jQuery(".font_family #"+e).closest(".fusion-builder-option").attr("data-option-id")])&&"string"==typeof s.heading&&(a=s.heading),o.oldValue=this.initialValue[e],delete this.initialValue[e],this.model.trigger("change"),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.edited+" "+n.name+" - "+a,o)},this),500)),this.logHistory._param[e](e,t,i)},changeParam:function(e,t,i,o){var n;o||this.model.get("inlineElement")?this.model.attributes.params[e]=t:(this.setInitialValue(e),this.model.attributes.params[e]=t,"multi_element_child"===this.model.get("multi")&&(n=FusionPageBuilderViewManager.getView(this.model.get("parent")))&&"function"==typeof n.updateElementContent&&n.updateElementContent(),this.logChangeEvent(e,t,i))},doCallbackFunction:function(e,t,i,o,n,s){var a,r=!0;return e.args=void 0===e.args?{}:e.args,e.ajax=void 0!==e.ajax&&e.ajax,e.action=void 0!==e.action&&e.action,s=void 0!==s&&s,e.args.skip=s,e.ajax?(r=!1,this.addLoadingOverlay(),this._triggerCallback(t,e,i,o,n.cid,n)):a=FusionApp.callback[e.function](i,o,e.args,this),void 0!==a&&void 0!==a.render&&(r=a.render),r},triggerCallback:function(e,t,i,o,n,s){void 0===s&&(s=jQuery.extend(this.model.attributes,{})),void 0!==s&&delete s.view,"fusion_do_shortcode"!==t.function?FusionApp.callback[t.function](i,o,s,t.args,n,t.action,this.model,this):FusionApp.callback[t.function](n,t.content,t.parent)},addCssProperty:function(e,t,i,o){"object"==typeof e&&(e=Object.values(e)),"object"==typeof e&&(e=e.join(",")),"object"!=typeof this.dynamic_css[e]&&(this.dynamic_css[e]={}),void 0!==o&&o&&(i+=" !important"),(void 0===this.dynamic_css[e][t]||void 0!==o&&o||!this.dynamic_css[e][t].includes("important"))&&(this.dynamic_css[e][t]=i)},isDefault:function(e){return this.values[e]===fusionAllElements[this.model.get("element_type")].defaults[e]},parseCSS:function(){var e="";return"object"!=typeof this.dynamic_css?"":(_.each(this.dynamic_css,function(t,i){"object"==typeof t&&(e+=i+"{",_.each(t,function(t,i){e+=i+":"+t+";"}),e+="}")}),e)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.BaseRowView=window.wp.Backbone.View.extend({baseRowInit:function(){this._updateResponsiveColumnsOrder=_.debounce(this.updateResponsiveColumnsOrder,100)},reRender:function(){this.render(!0)},createVirtualRows:function(){var e=FusionPageBuilderApp.getParentContainer(this.model.get("parent"));"function"==typeof e.isFlex&&e.isFlex()||(this.updateVirtualRows(),this.assignColumn())},updateVirtualRows:function(){var e,t={},i={},o=[],n=0,s=0,a=this.model.get("rows");this.model.children.each(function(a){i={},(e=a.attributes.params.type)||(e="1_1"),e=(e=e.split("_"))[0]/e[1],1<(n+=e)&&(s+=1,n=e),i={cid:a.attributes.cid},void 0===t[s]?t[s]=[i]:t[s].push(i),o[a.attributes.cid]=s}),this.model.set("columns",o),this.model.set("rows",t),"object"==typeof a&&this.model.set("oldRows",a)},assignColumn:function(){var e,t=this,i=this.model.get("oldRows"),o=!1,n=!0;this.model.children.each(function(t){(e=jQuery.extend(!0,{},t.get("params"))).first=!1,e.last=!1,t.set("params",e)}),_.each(this.model.get("rows"),function(e,s){var a=e.length,r=a-1,l=!0,u="";_.each(e,function(e,o){var d,c,h=!1,m=!1,p=t.model.children.find(function(t){return t.get("cid")==e.cid}),f=jQuery.extend(!0,{},p.get("params"));0===o&&(h=!0),r===o&&(m=!0),f.first=h,f.last=m,void 0!==f.spacing&&FusionPageBuilderApp.loaded?("yes"===(d=f.spacing)?d="4%":"no"===d&&(d="0px"),f.last||"0px"===d||0===d||"0"===d||(n=!1),c=t.getWeightedSpacing(d,f,a),void 0===f.spacing_left&&void 0===f.spacing_right&&(f.last||(f.spacing_right=c),""!==u&&(f.spacing_left=t.getWeightedSpacing(u,f,a))),u=d):n=!1,p.set("params",f),l&&("object"==typeof i&&void 0!==i[s]&&void 0!==i[s][o]&&i[s][o].cid===e.cid||(l=!1))}),!l&&FusionPageBuilderApp.loaded&&(!1===o&&(o=[]),_.each(e,function(e){o.push(e.cid)}))}),this.model.set("emptySpacing",n),this.model.set("updatedCols",o)},getVirtualRowByCID:function(e){return this.model.get("rows")[this.model.get("columns")[e]]},legacyColumns:function(){var e=FusionPageBuilderApp.getParentContainer(this.model.get("parent")),t=!1,i={};e&&e.needsLegacyConversion()&&(this.updateVirtualRows(),this.assignColumn(),this.nestedRow||(t=this.model.get("emptySpacing"),this.$el.find(".fusion-builder-row-inner").each(function(){var e=jQuery(this).attr("data-cid"),o=FusionPageBuilderViewManager.getView(e);i[e]=o,o.legacyColumns(),!1===o.model.get("emptySpacing")&&(t=!1)}),t&&((e=FusionPageBuilderApp.getParentContainer(this.model.get("parent")))&&e.setEmptySpacing(),"object"!=typeof i||_.isEmpty(i)||_.each(i,function(e){e.recalculateMargins()}),this.recalculateMargins())),this.model.children.each(function(e){var t=FusionPageBuilderViewManager.getView(e.attributes.cid);t.setArgs(),t.validateArgs(),t.setExtraArgs(),t.setColumnMapData(),t.setResponsiveColumnStyles(),t.$el.find(".fusion-column-responsive-styles").last().html(t.responsiveStyles)}),e&&"function"==typeof e.setType&&e.setType())},getHalfSpacing:function(e){var t=parseFloat(e),i=t/2;return e.replace(t,i)},validateColumnWidth:function(e){var t;return void 0===e&&(e="1_3"),-1!==e.indexOf("_")?(t=e.split("_"),parseFloat(t[0])/parseFloat(t[1])):1<parseFloat(e)?parseFloat(e)/100:e},getWeightedSpacing:function(e,t,i){var o,n=parseFloat(this.validateColumnWidth(t.type)),s=parseFloat(e);return o=!1!==(i=void 0!==i&&!1!==i&&parseInt(i))&&3>i?s*n:s/2,e.replace(s,o)},updateColumnsPreview:function(){var e=FusionPageBuilderApp.getParentContainer(this.model.get("parent")),t=this.model.get("updatedCols"),i=this;"function"==typeof e.isFlex&&e.isFlex()||!0===FusionPageBuilderApp.loaded&&this.model.children.each(function(e){var o,n,s;(!1===t||_.contains(t,e.attributes.cid))&&(o=FusionPageBuilderViewManager.getView(e.attributes.cid),n=i.getVirtualRowByCID(o.model.get("cid")),s=[],o.$el.removeClass("fusion-column-last"),o.$el.removeClass("fusion-column-first"),!0===o.model.attributes.params.last&&o.$el.addClass("fusion-column-last"),!0===o.model.attributes.params.first&&o.$el.addClass("fusion-column-first"),_.each(n,function(e){var t;e=e.cid,t=i.collection.find(function(t){return t.get("cid")==e}).attributes.params.spacing,s.push(t)}),o.columnSpacingPreview(s))})},setRowData:function(){this.createVirtualRows(),this.updateColumnsPreview()},setSingleRowData:function(e){var t=this.getVirtualRowByCID(e);_.each(t,function(e){FusionPageBuilderViewManager.getView(e.cid).reRender()})},modeChange:function(){this.setRowData(),this.reRender(!0),this.reRenderColumns(),this.nestedRow||this.reRenderNestedRows()},updateInnerStyles:function(){this.setRowData(),this.reRender(!0),this.nestedRow&&this.appendChildren(!1),this.model.children.each(function(e){var t=e.attributes.cid,i=FusionPageBuilderViewManager.getView(t);i&&i.updateInnerStyles()}),this.nestedRow||this.$el.find(".fusion_builder_row_inner").each(function(){var e=jQuery(this).attr("data-cid"),t=FusionPageBuilderViewManager.getView(e);t&&t.updateInnerStyles()}),this.delegateChildEvents()},reRenderNestedRows:function(){this.$el.find(".fusion_builder_row_inner").each(function(){var e=jQuery(this).attr("data-cid"),t=FusionPageBuilderViewManager.getView(e);"object"==typeof t&&(t.modeChange(),t.appendChildren())})},reRenderColumns:function(){var e,t;this.model.children.each(function(i){e=i.attributes.cid,(t=FusionPageBuilderViewManager.getView(e))&&t.reRender()})},updateResponsiveColumnsOrder:function(e,t,i,o){var n,s=FusionApp.getPreviewWindowSize(),a=parseInt(e.data("cid")),r=parseInt(e.css("order")),l=[],u=0;if("large"!==s){for(jQuery(t).each(function(e,t){a!==jQuery(t).data("cid")&&l.push([parseInt(jQuery(t).data("cid")),parseInt(jQuery(t).css("order"))])}),l.sort(function(e,t){return e[1]-t[1]}),u=0;u<l.length&&i!==l[u][0];u++);for(o||u--,l.splice(u+1,0,[a,r]),u=0;u<l.length;u++)(n=FusionPageBuilderViewManager.getView(l[u][0])).model.attributes.params["order_"+s]=u,n.values["order_"+s]=u,n.setResponsiveColumnStyles(),n.$el.find(".fusion-column-responsive-styles").last().html(n.responsiveStyles),jQuery('.fusion-builder-module-settings[data-element-cid="'+l[u][0]+'"')&&FusionEvents.trigger("fusion-param-changed-"+n.model.get("cid"),"order_"+s,u);FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.column+" order changed")}}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.BaseColumnView=FusionPageBuilder.BaseView.extend({baseColumnInit:function(){this.model.children=new FusionPageBuilder.Collection,this.listenTo(FusionEvents,"fusion-param-changed-"+this.model.get("cid"),this.onOptionChange),this.listenTo(this.model.children,"add",this.addChildView),this.listenTo(FusionEvents,"fusion-wireframe-toggle",this.wireFrameToggled),this.listenTo(FusionEvents,"fusion-preview-viewport-update",this.onPreviewResize),this._triggerCallback=_.debounce(_.bind(this.triggerCallback,this),200),this._toolTipHide=_.debounce(_.bind(this.toolTipHide,this),500),this._refreshJs=_.debounce(_.bind(this.refreshJs,this),300),this._equalHeights=_.debounce(_.bind(this.equalHeights,this),300),this.deprecatedParams(),this.marginResize={},this.paddingResize={}},beforePatch:function(){FusionPageBuilderApp.wireframeActive&&this.$el.find(".fusion-builder-column-content").removeClass("ui-sortable")},afterPatch:function(){var e=this;void 0!==this.model.attributes.selectors&&(this.model.get("dragging")&&(this.model.attributes.selectors.style+=";display: none;",this.model.attributes.selectors.class+=" ignore-me-column"),this.$el.removeAttr("data-animationType"),this.$el.removeAttr("data-animationDuration"),this.$el.removeAttr("data-animationOffset"),this.setElementAttributes(this.$el,this.model.attributes.selectors)),this.forceAppendChildren&&(this.appendChildren(),this.forceAppendChildren=!1),setTimeout(function(){e.droppableColumn()},300),this._refreshJs(),FusionPageBuilderApp.wireframeActive&&this.$el.find(".fusion-builder-column-content").addClass("ui-sortable")},delegateChildEvents:function(){var e,t;this.model.children.each(function(i){e=i.attributes.cid,(t=FusionPageBuilderViewManager.getView(e)).delegateEvents(),"function"==typeof t.droppableElement&&t.droppableElement(),"function"==typeof t.droppableColumn&&t.droppableColumn(),void 0!==t.model.get("multi")&&"multi_element_parent"===t.model.get("multi")&&(t.delegateChildEvents(),t.sortableChildren())})},updateInnerStyles:function(){this.setArgs(),this.validateArgs(),this.setExtraArgs(),this.setColumnMapData(),this.setResponsiveColumnStyles(),this.$el.find(".fusion-column-responsive-styles").last().html(this.responsiveStyles),this.delegateChildEvents()},deprecatedParams:function(){var e,t=this.model.get("params"),i={bottom:"center bottom","bottom center":"center bottom",left:"left center",right:"right center",top:"center top",center:"center center","center left":"left center"};if(void 0!==t.radial_direction&&t.radial_direction in i&&(t.radial_direction=i[t.radial_direction]),void 0===t.align_self&&void 0!==t.min_height&&"none"===t.min_height&&(t.align_self="flex-start"),void 0===t.align_content&&void 0!==t.center_content&&"yes"===t.center_content&&(t.align_content="center"),(void 0===t.border_sizes_top||void 0===t.border_sizes_bottom||void 0===t.border_sizes_left||void 0===t.border_sizes_right)&&"string"==typeof t.border_size){switch(t.border_position){case"all":e=_.fusionGetValueWithUnit(t.border_size),t.border_sizes_top=e,t.border_sizes_bottom=e,t.border_sizes_left=e,t.border_sizes_right=e;break;default:t["border_sizes_"+t.border_position]=_.fusionGetValueWithUnit(t.border_size)}delete t.border_size}this.model.set("params",t)},marginDrag:function(){var e=this.$el,t=this,i={top:"s",bottom:"s"},o="fusion_builder_column_inner"===this.model.get("type")?e.closest(".fusion-builder-row-container-inner").width():e.closest(".fusion-row").width(),n=!1,s=this.$el.find("> .fusion-column-wrapper > .fusion-column-spacers, > .fusion-column-margins");void 0!==this.isFlex&&!0===this.isFlex&&(i={top:"s",bottom:"s",left:"e",right:"w"},n=!0),this.$el.hasClass("resizable-active")||_.each(i,function(e,i){var a,r=FusionApp.getResponsiveOptionKey("top"===i||"bottom"===i?"margin_"+i:"spacing_"+i,t.isFlex),l=t.values[r];l&&""!==l||(l=n&&("top"===i||"bottom"===i)&&t.values["margin_"+i]?t.values["margin_"+i]:t.getHalfSpacing()),(a=-1!==l.indexOf("%"))&&(l=o/100*parseFloat(l)),"bottom"===i&&(20>parseInt(l,10)?s.find(".fusion-column-margin-bottom, .fusion-column-padding-bottom").addClass("fusion-overlap"):s.find(".fusion-column-margin-bottom, .fusion-column-padding-bottom").removeClass("fusion-overlap")),t.marginResize[i]=s.find(".fusion-column-margin-"+i),t.marginResize[i].css("display","block"),"left"===i||"right"===i?t.marginResize[i].width(l):t.marginResize[i].height(l),t.marginResize[i].resizable({handles:e,minHeight:0,minWidth:0,grid:a?[o/1e3,10]:"",resize:function(e,n){var a=FusionApp.getResponsiveOptionKey("top"===i||"bottom"===i?"margin_"+i:"spacing_"+i,t.isFlex),r=void 0!==t.values[a]&&-1!==t.values[a].indexOf("%"),l=jQuery(n.element),u="top"===i||"bottom"===i?n.size.height:n.size.width;""!==t.values[a]||"left"!==i&&"right"!==i||(r=-1!==t.getHalfSpacing().indexOf("%")),l.closest(".fusion-builder-column:not( .resizable-active )").addClass("resizable-active"),u=0>u?0:u,u+="px",r&&(u=0===parseFloat(u)?"0%":Math.round(parseFloat(parseFloat(u)/(o/1e3)))/10+"%"),"bottom"===i&&(20>n.size.height?(l.addClass("fusion-overlap"),s.find(".fusion-column-padding-bottom").addClass("fusion-overlap")):(l.removeClass("fusion-overlap"),s.find(".fusion-column-padding-bottom").removeClass("fusion-overlap"))),l.find(".fusion-spacing-tooltip, .fusion-column-spacing").addClass("active"),l.find(".fusion-spacing-tooltip").text(u),t.updateDragSettings("#"+a,u)},stop:function(e,t){var i=jQuery(t.element);i.closest(".fusion-builder-column").removeClass("resizable-active"),i.find(".fusion-spacing-tooltip, .fusion-column-spacing").removeClass("active"),i.find(".fusion-builder-column-inner").find(".fusion-element-spacing .ui-resizable").length&&i.closest(".fusion-builder-column-inner").find(".fusion-element-spacing .ui-resizable").resizable("destroy")}})})},paddingDrag:function(){var e,t=this,i=this.$el.find("> .fusion-column-wrapper").first().width(),o=this.$el.find("> .fusion-column-wrapper > .fusion-column-spacers, > .fusion-column-margins"),n=i/100,s=!1;this.$el.hasClass("resizable-active")||(void 0!==this.isFlex&&!0===this.isFlex&&(s=!0),_.each({top:"s",right:"w",bottom:"s",left:"e"},function(a,r){var l=FusionApp.getResponsiveOptionKey("padding_"+r,s),u=t.values[l]||t.values["padding_"+r],d=!1;s||u||(u="0px"),(d=void 0!==u&&-1!==u.indexOf("%"))&&(u=i/100*parseFloat(u)),"bottom"===r||!s&&"top"!==r||(20>parseInt(u,10)?o.find(".fusion-column-margin-"+r+", .fusion-column-padding-"+r).addClass("fusion-overlap"):o.find(".fusion-column-margin-"+r+", .fusion-column-padding-"+r).removeClass("fusion-overlap")),t.paddingResize[r]=o.find(".fusion-column-padding-"+r),t.paddingResize[r].css("display","block"),"top"===r||"bottom"===r?t.paddingResize[r].height(u):t.paddingResize[r].width(u),t.paddingResize[r].resizable({handles:a,minHeight:0,minWidth:0,resize:function(a,l){var u=FusionApp.getResponsiveOptionKey("padding_"+r,s),c=t.values[u],h="top"===r||"bottom"===r?"height":"width",m=jQuery(l.element);(d=void 0!==c&&-1!==c.indexOf("%"))&&(l.size[h]=Math.round(l.size[h]/n)*n),m.closest(".fusion-builder-column").addClass("resizable-active"),e=0>(e=l.size[h])?0:e,e+="px",d&&(e=0===parseFloat(e)?"0%":Math.round(parseFloat(parseFloat(e)/(i/100)))+"%"),"top"===r?20>l.size.height?(m.addClass("fusion-overlap"),o.find(".fusion-column-margin-top").addClass("fusion-overlap")):(m.removeClass("fusion-overlap"),o.find(".fusion-column-margin-top").removeClass("fusion-overlap")):"right"===r?20>l.size.width&&(s||20>o.find(".fusion-column-spacing .fusion-spacing-value").width())?(m.addClass("fusion-overlap"),o.find(".fusion-column-spacing, .fusion-column-margin-right").addClass("fusion-overlap")):(m.removeClass("fusion-overlap"),o.find(".fusion-column-spacing, .fusion-column-margin-right").removeClass("fusion-overlap")):"left"===r&&s&&(20>l.size.width?(m.addClass("fusion-overlap"),o.find(".fusion-column-margin-left").addClass("fusion-overlap")):(m.removeClass("fusion-overlap"),o.find(".fusion-column-margin-left").removeClass("fusion-overlap"))),m.find(".fusion-spacing-tooltip, .fusion-column-spacing").addClass("active"),m.find(".fusion-spacing-tooltip").text(e),t.updateDragSettings("#"+u,e)},stop:function(e,t){var i=jQuery(t.element);i.closest(".fusion-builder-column").removeClass("resizable-active"),i.find(".fusion-spacing-tooltip, .fusion-column-spacing").removeClass("active"),i.find(".fusion-builder-column-inner").find(".fusion-element-spacing .ui-resizable").length&&i.closest(".fusion-builder-column-inner").find(".fusion-element-spacing .ui-resizable").resizable("destroy")}})}))},destroyResizable:function(){this.destroySpacingResizable(),this.destroyMarginResizable(),this.destroyPaddingResizable()},destroySpacingResizable:function(){var e;(e=this.$el.find("> .fusion-column-spacing .fusion-spacing-value")).hasClass("ui-resizable")&&(e.resizable("destroy"),e.hide(),this.columnSpacer=!1)},destroyMarginResizable:function(){_.each(this.marginResize,function(e){e.length&&e.hasClass("ui-resizable")&&-1!==e.attr("class").indexOf("fusion-column-margin-")&&(e.resizable("destroy"),e.hide())})},destroyPaddingResizable:function(){_.each(this.paddingResize,function(e){e.length&&e.hasClass("ui-resizable")&&-1!==e.attr("class").indexOf("fusion-column-padding-")&&(e.resizable("destroy"),e.hide())})},columnSpacing:function(e){var t,i,o,n,s,a,r,l,u,d=!1,c=this.$el,h=this,m=this.$el.find("> .fusion-column-wrapper > .fusion-column-spacers"),p=FusionPageBuilderApp.$el.hasClass("rtl")?"left":"right";void 0!==this.isFlex&&!0===this.isFlex||(r=this.$el.find("> .fusion-column-spacing .fusion-spacing-value"),e&&"event"!==e&&e.preventDefault(),jQuery("#fb-preview").width()<FusionApp.settings.content_break_point&&FusionApp.settings.responsive?r.hide():(r.show(),this.$el.hasClass("fusion-column-last")||"yes"!==this.model.attributes.params.spacing&&"no"!==this.model.attributes.params.spacing&&(void 0!==(s=this.model.attributes.params.spacing)&&""!==s||(s="4%"),"no"===s&&(s="0"),this.columnSpacer&&-1===s.indexOf("%")||(o=FusionPageBuilderViewManager.getView(this.model.get("parent")),t="fusion_builder_column_inner"===this.model.get("type")?o.$el.find(".fusion-builder-row-container-inner").width():o.$el.find(".fusion-row").width(),this.columnSpacer&&t===this.parentWidth||(this.parentWidth=t,n=s,i=s,-1!==s.indexOf("%")&&(d=!0,n=(i=parseFloat(i)/100)*t),l=t-100,r.hasClass("ui-resizable")&&r.resizable("destroy"),r.width(n),r.resizable({handles:FusionPageBuilderApp.$el.hasClass("rtl")?"w":"e",minWidth:0,maxWidth:l,grid:d?[t/100,10]:"",create:function(){0===c.find("> .fusion-column-spacing .fusion-spacing-value").width()?c.find("> .fusion-column-spacing").addClass("empty"):c.find("> .fusion-column-spacing.empty").length&&c.find("> .fusion-column-spacing").removeClass("empty")},resize:function(e,i){i.size.width=0>i.size.width?0:i.size.width,0===a?c.find("> .fusion-column-spacing").addClass("empty"):c.find("> .fusion-column-spacing.empty").length&&c.find("> .fusion-column-spacing").removeClass("empty"),a=i.size.width+"px",d&&(a=Math.round(parseFloat(i.size.width/(t/100)))+"%"),c.css("margin-"+p,a),jQuery('[data-element-cid="'+h.model.get("cid")+'"]').length&&jQuery('[data-element-cid="'+h.model.get("cid")+'"] [data-option-id="spacing"] #spacing').val(a).trigger("change"),c.find("> .fusion-column-spacing .fusion-spacing-tooltip, > .fusion-column-spacing").addClass("active"),c.find("> .fusion-column-spacing .fusion-spacing-tooltip").text(a),c.addClass("active-drag"),h._toolTipHide(),20>i.size.width&&20>m.find(".fusion-column-padding-"+p).width()?(jQuery(i.element).parent().addClass("fusion-overlap"),m.find(".fusion-column-padding-"+p).addClass("fusion-overlap")):(jQuery(i.element).parent().removeClass("fusion-overlap"),m.find(".fusion-column-padding-"+p).removeClass("fusion-overlap"))},stop:function(e,t){c.removeClass("active-drag")}}),u=void 0===this.model.attributes.params.padding_right||""===this.model.attributes.params.padding_right?"0px":this.model.attributes.params.padding_right,""!=(20>parseInt(u,10)&&("0%"===u||-1===u.indexOf("%"))&&20>parseInt(n,10)?"fusion-overlap":"")?(m.find(".fusion-column-padding-right").addClass("fusion-overlap"),c.find("> .fusion-column-spacing").addClass("fusion-overlap")):(m.find(".fusion-column-padding-right").removeClass("fusion-overlap"),c.find("> .fusion-column-spacing").removeClass("fusion-overlap")),this.columnSpacer=!0)))))},sizeSelect:function(e){var t,i,o=FusionPageBuilderViewManager.getView(this.model.get("parent")),n=jQuery("#fb-preview").attr("data-viewport"),s=["desktop","tablet","mobile"].findIndex(function(e){return n.includes(e)});if(e&&e.preventDefault(),t=jQuery(e.target).data("column-size"),FusionPageBuilderApp.SettingsHelpers.openSettingsView&&FusionPageBuilderApp.SettingsHelpers.openSettingsView.model.cid===this.model.cid){if(FusionPageBuilderApp.SettingsHelpers.openSettingsView.tabsRendered.design)return jQuery(FusionPageBuilderApp.SettingsHelpers.openSettingsView.$el.find('.ui-button[data-value="'+t+'"]')[s]).trigger("click");jQuery(FusionPageBuilderApp.SettingsHelpers.openSettingsView.$el.find(".width-value")[s]).val(t)}this.model.attributes.params[["type","type_medium","type_small"][s]]=t,this.$el.find(".column-sizes").hide(),this.$el.removeClass("active"),this.$el.attr("data-column-size",t),i=t.replace("_","/"),this.reRender(),o.setRowData(),"fusion_builder_column_inner"!==this.model.get("type")&&this.renderSectionSeps(),this.$el.find(".column-sizes .column-size").removeClass("active-size"),this.$el.find(".column-size-"+t).addClass("active-size"),this.$el.closest(".fusion-builder-container").removeClass("fusion-column-sizer-active"),jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-column-resized",this.model.get("cid")),FusionEvents.trigger("fusion-column-resized"),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.resized_column+" "+i)},pxCheck:function(e){return void 0!==e&&("0"===e||0===e||-1!==e.indexOf("px"))},percentageCheck:function(e){return void 0!==e&&("0"===e||0===e||-1!==e.indexOf("%"))},addValues:function(e,t){return parseFloat(e)+parseFloat(t)},addModule:function(e){var t,i,o;e&&(e.preventDefault(),e.stopPropagation(),FusionPageBuilderApp.sizesHide(e)),FusionPageBuilderApp.parentColumnId=this.model.get("cid"),i={model:this.model,collection:this.collection,view:this,attributes:{"data-parent_cid":this.model.get("cid")}},jQuery(e.currentTarget).closest(".fusion-builder-empty-column").length||FusionPageBuilderApp.wireframeActive||((o=jQuery(e.currentTarget).closest(".fusion-builder-live-element")).length?i.targetElement=o:i.targetElement=jQuery(e.currentTarget).closest(".fusion-builder-nested-element")),t=new FusionPageBuilder.ElementLibraryView(i),jQuery(t.render().el).dialog({title:"Select Element",draggable:!1,modal:!0,resizable:!1,dialogClass:"fusion-builder-dialog fusion-builder-large-library-dialog fusion-builder-element-library-dialog",resizeStart:function(e,t){FusionApp.dialog.addResizingClasses()},resizeStop:function(e,t){FusionApp.dialog.removeResizingClasses()},open:function(e,t){FusionApp.dialog.resizeDialog(),FusionApp.dialog.addResizingHoverEvent()},close:function(e,i){t.remove()}})},getDynamicAtts:function(e){var t=this;return void 0!==this.dynamicParams&&this.dynamicParams&&!_.isEmpty(this.dynamicParams.getAll())&&_.each(this.dynamicParams.getAll(),function(i,o){var n=t.dynamicParams.getParamValue(i);void 0!==n&&!1!==n&&(e[o]=n)}),e},getTemplate:function(){var e=this.getTemplateAtts();return this.template(e)},setArgs:function(){var e,t=jQuery.extend(!0,{},this.model.get("params"));void 0===t.type&&(t.type=this.model.attributes.params.type),fusionAllElements[this.model.get("type")]&&(e=jQuery.extend(!0,{},fusionAllElements[this.model.get("type")].defaults,_.fusionCleanParameters(t))),void 0===t.background_blend_mode&&""!==t.background_color&&1>e.alpha_background_color&&0!==e.alpha_background_color&&""!==t.background_image&&(e.background_blend_mode="overlay"),void 0===t.padding&&(e=_.fusionGetPadding(e)),this.values=this.getDynamicAtts(e)},validateArgs:function(){var e;this.values.alpha_background_color=jQuery.Color(this.values.background_color).alpha(),this.values.alpha_gradient_start_color=jQuery.Color(this.values.gradient_start_color).alpha(),this.values.alpha_gradient_end_color=jQuery.Color(this.values.gradient_end_color).alpha(),""!==this.values.margin_bottom&&(this.values.margin_bottom=_.fusionGetValueWithUnit(this.values.margin_bottom)),""!==this.values.margin_top&&(this.values.margin_top=_.fusionGetValueWithUnit(this.values.margin_top)),this.values.border_size&&(this.values.border_size=_.fusionValidateAttrValue(this.values.border_size,"px")),""!==this.values.padding&&(this.values.padding=_.fusionGetValueWithUnit(this.values.padding)),""!==this.values.border_sizes_top&&(this.values.border_sizes_top=_.fusionGetValueWithUnit(this.values.border_sizes_top)),""!==this.values.border_sizes_bottom&&(this.values.border_sizes_bottom=_.fusionGetValueWithUnit(this.values.border_sizes_bottom)),""!==this.values.border_sizes_top&&(this.values.border_sizes_left=_.fusionGetValueWithUnit(this.values.border_sizes_left)),""!==this.values.border_sizes_top&&(this.values.border_sizes_right=_.fusionGetValueWithUnit(this.values.border_sizes_right)),this.values.border_radius_top_left=this.values.border_radius_top_left?_.fusionGetValueWithUnit(this.values.border_radius_top_left):"0px",this.values.border_radius_top_right=this.values.border_radius_top_right?_.fusionGetValueWithUnit(this.values.border_radius_top_right):"0px",this.values.border_radius_bottom_left=this.values.border_radius_bottom_left?_.fusionGetValueWithUnit(this.values.border_radius_bottom_left):"0px",this.values.border_radius_bottom_right=this.values.border_radius_bottom_right?_.fusionGetValueWithUnit(this.values.border_radius_bottom_right):"0px",e=this.values.border_radius_top_left+" "+this.values.border_radius_top_right+" "+this.values.border_radius_bottom_right+" "+this.values.border_radius_bottom_left,this.values.border_radius="0px 0px 0px 0px"===e?"":e,this.values.border_position="all"!==this.values.border_position?"-"+this.values.border_position:""},validatePercentageMargin:function(e,t,i){return e=void 0===e?"":e,t=void 0===t?1:t,i=void 0===i?this.values:i,0<parseFloat(t)&&-1!==e.indexOf("%")&&-1===e.indexOf("calc")?-1!==i.column_spacing.indexOf("%")&&-1===i.column_spacing.indexOf("calc")?parseFloat(e)/parseFloat(t)/100*(100-parseFloat(i.column_spacing))+"%":"calc( "+parseFloat(e)/parseFloat(t)/100+" * calc( 100% - "+i.column_spacing+" ) )":e},setExtraArgs:function(){var e,t,i=FusionPageBuilderApp.getParentContainer(this.model.get("parent"));this.values.flex=!1,this.values.column_spacing="4%",this.values.flex_align_items="flex-start","object"==typeof i&&(e=_.fusionCleanParameters(i.model.get("params")),t=jQuery.extend(!0,{},fusionAllElements.fusion_builder_container.defaults,e),this.values.flex="flex"===t.type,this.values.column_spacing=t.flex_column_spacing,this.values.flex_align_items=t.flex_align_items),this.values.column_counter=this.model.get("cid"),this.values.hover_or_link="none"!==this.values.hover_type&&""!==this.values.hover_type||""!==this.values.link,this.values.shortcode_classname="fusion_builder_column"===this.model.get("type")?"fusion-builder-live-column":"fusion-builder-live-nested-column",this.isFlex=this.values.flex},setColumnMapData:function(){var e,t,i,o,n,s,a,r,l,u,d,c,h,m=this;if(this.values.flex)return this.setColumnSize(),h=jQuery.extend(!0,{},fusionAllElements.fusion_builder_column.extras),""===this.values.type_medium||0===parseFloat(this.values.type_medium)?this.values.type_medium="inherit_from_large"===h.col_width_medium?this.values.column_size:1:this.values.type_medium=this.validateColumnSize(this.values.type_medium),""===this.values.type_small||0===parseFloat(this.values.type_small)?this.values.type_small="inherit_from_large"===h.col_width_small?this.values.column_size:1:this.values.type_small=this.validateColumnSize(this.values.type_small),1!==parseInt(this.values.type_medium)&&(""===this.values.spacing_left_medium&&(this.values.spacing_left_medium=this.values.spacing_left),""===this.values.spacing_right_medium&&(this.values.spacing_right_medium=this.values.spacing_right)),1!==parseInt(this.values.type_small)&&(""===this.values.spacing_left_small&&(this.values.spacing_left_small=""!==this.values.spacing_left_medium?this.values.spacing_left_medium:this.values.spacing_left),""===this.values.spacing_right_small&&(this.values.spacing_right_small=""!==this.values.spacing_right_medium?this.values.spacing_right_medium:this.values.spacing_right)),e=this.getHalfSpacing(),void _.each(["large","medium","small"],function(i){u="large"===i?"column_size":"type_"+i,t=m.validatePercentageMargin(e,m.values[u]),d="large"===i?"spacing_left":"spacing_left_"+i,""!==m.values[d]?m.values["upsized_"+d]=m.validatePercentageMargin(m.values[d],m.values[u]):m.values["upsized_"+d]=t,c="large"===i?"spacing_right":"spacing_right_"+i,""!==m.values[c]?m.values["upsized_"+c]=m.validatePercentageMargin(m.values[c],m.values[u]):m.values["upsized_"+c]=t});(i=FusionPageBuilderViewManager.getView(this.model.get("parent"))).model.get("rows"),o=i.getVirtualRowByCID(this.model.get("cid")),"yes"===this.values.spacing||""===this.values.spacing?this.values.spacing="4%":"no"===this.values.spacing&&(this.values.spacing="0px"),this.values.spacing=_.fusionGetValueWithUnit(this.values.spacing),this.values.widthOffset="",this.values.currentRowNumberOfColumns=!1,void 0!==o&&(this.values.currentRowNumberOfColumns=o.length+1),this.values.fallback=!1,"object"==typeof o&&(this.values.fallback=o.every(function(e){return"yes"===e||"no"===e})),this.setColumnSize(),"object"==typeof o&&(n=[],s=o.length,a=s-1,_.each(o,function(e,t){a!==t&&(r=i.model.children.find(function(t){return t.get("cid")==e.cid}),l=void 0===(l=r.attributes.params.spacing)||""===l?"4%":l,n.push(l)),1===s&&n.push("")}),n=n.join(" + "),this.values.fallback||(n=n.replace(/yes/g,"4%").replace(/no/g,"0%")),this.values.widthOffset="( ( "+n+" ) * "+this.values.column_size+" ) "),this.setSpacingStyling()},getHalfSpacing:function(){var e=parseFloat(this.values.column_spacing),t=e/2;return this.values.column_spacing.replace(e,t)},setColumnSize:function(){var e;switch(this.values.type){case"1_1":e="fusion-one-full";break;case"1_4":e="fusion-one-fourth";break;case"3_4":e="fusion-three-fourth";break;case"1_2":e="fusion-one-half";break;case"1_3":e="fusion-one-third";break;case"2_3":e="fusion-two-third";break;case"1_5":e="fusion-one-fifth";break;case"2_5":e="fusion-two-fifth";break;case"3_5":e="fusion-three-fifth";break;case"4_5":e="fusion-four-fifth";break;case"5_6":e="fusion-five-sixth";break;case"1_6":e="fusion-one-sixth"}this.values.column_size=this.validateColumnSize(this.values.type),this.values.size_class=e},validateColumnSize:function(e){var t;return void 0===e&&(e="1_3"),-1!==e.indexOf("_")?(t=e.split("_"),parseFloat(t[0])/parseFloat(t[1])):1<parseFloat(e)?parseFloat(e)/100:e},setSpacingStyling:function(){var e,t=100*this.values.column_size+"%",i={.1666:"13.3333%",.8333:"82.6666%",.2:"16.8%",.4:"37.6%",.6:"58.4%",.8:"79.2%",.25:"22%",.75:"74%",.3333:"30.6666%",.6666:"65.3333%",.5:"48%",1:"100%"};this.values.column_spacing_style="",this.values.spacing_classes="",0===parseFloat(this.values.spacing)&&(this.values.spacing_classes="fusion-spacing-no"),this.values.last||this.values.fallback&&"0px"===this.values.spacing?void 0!==this.values.currentRowNumberOfColumns&&1<this.values.currentRowNumberOfColumns?this.values.fallback?"0px"!==this.values.spacing&&void 0!==i[this.values.column_size]?this.values.column_spacing_style="width:"+i[this.values.column_size]+";":this.values.column_spacing_style="width:"+t+";":this.values.column_spacing_style="width:"+t+";width:calc("+t+" - "+this.values.widthOffset+");":void 0===this.values.currentRowNumberOfColumns&&"undefined"!==i[this.values.column_size]&&(this.values.column_spacing_style="width:"+i[this.values.column_size]+";"):(e="right",FusionPageBuilderApp.$el.hasClass("rtl")&&(e="left"),this.values.fallback?this.values.column_spacing_style="width:"+i[this.values.column_size]+"; margin-"+e+": "+this.values.spacing+";":this.values.column_spacing_style="width:"+t+";width:calc("+t+" - "+this.values.widthOffset+");margin-"+e+": "+this.values.spacing+";")},setSharedStyles:function(){this.setBackgroundColorStyle(),this.setBackgroundImage(),this.setBorderStyle(),this.setBorderRadiusStyle(),this.setBoxShadowStyle(),this.setWrapperStyleBg()},setBackgroundColorStyle:function(){this.values.background_color_style="",""===this.values.background_color||""!==this.values.background_image&&0===this.values.alpha_background_color||(this.values.background_color_style="background-color:"+this.values.background_color+";")},setBackgroundImage:function(){this.values.background_image_style="",""!==this.values.background_image&&(this.values.background_image_style+="background-image: url('"+this.values.background_image+"');"),""!==_.getGradientString(this.values,"column")&&(this.values.background_image_style+="background-image:"+_.getGradientString(this.values,"column")+";"),""!==this.values.background_position&&(this.values.background_image_style+="background-position:"+this.values.background_position+";"),"none"!==this.values.background_blend_mode&&(this.values.background_image_style+="background-blend-mode: "+this.values.background_blend_mode+";"),""!==this.values.background_repeat&&(this.values.background_image_style+="background-repeat:"+this.values.background_repeat+";","no-repeat"===this.values.background_repeat&&(this.values.background_image_style+="-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover;"))},setBorderStyle:function(){var e={top:0,bottom:0,right:0,left:0};this.values.border_full_style="",""===this.values.border_sizes_top&&""===this.values.border_sizes_bottom&&""===this.values.border_sizes_left&&""===this.values.border_sizes_right?""!==this.values.border_color&&""!==this.values.border_size&&""!==this.values.border_style&&(this.values.border_full_style="border"+this.values.border_position+":"+this.values.border_size+" "+this.values.border_style+" "+this.values.border_color+";"):(""!==this.values.border_sizes_top&&void 0!==this.values.border_sizes_top&&(e.top=this.values.border_sizes_top),""!==this.values.border_sizes_bottom&&void 0!==this.values.border_sizes_bottom&&(e.bottom=this.values.border_sizes_bottom),""!==this.values.border_sizes_left&&void 0!==this.values.border_sizes_left&&(e.left=this.values.border_sizes_left),""!==this.values.border_sizes_right&&void 0!==this.values.border_sizes_right&&(e.right=this.values.border_sizes_right),""!==this.values.border_color&&(this.values.border_full_style+="border-width: "+e.top+" "+e.right+" "+e.bottom+" "+e.left+";",this.values.border_full_style+="border-color:"+this.values.border_color+";",""!==this.values.border_style&&(this.values.border_full_style+="border-style:"+this.values.border_style+";")))},setBorderRadiusStyle:function(){this.values.border_radius_style="",""!==this.values.border_radius&&(this.values.border_radius_style="border-radius:"+this.values.border_radius+";overflow:hidden;")},setBoxShadowStyle:function(){this.values.box_shadow_styles="","yes"===this.values.box_shadow&&(this.values.box_shadow_styles="box-shadow:"+_.fusionGetBoxShadowStyle(this.values).trim()+";")},setWrapperStyleBg:function(){this.values.wrapper_style_bg="",this.values.hover_or_link&&(this.values.wrapper_style_bg+=this.values.background_color_style),(!cssua.ua.ie&&!cssua.ua.edge||this.values.hover_or_link)&&(this.values.wrapper_style_bg+=this.values.background_image_style),"liftup"===this.values.hover_type&&""!==this.values.border_full_style&&(this.values.wrapper_style_bg+=this.values.border_full_style),""!==this.values.border_radius_style&&(this.values.wrapper_style_bg+=this.values.border_radius_style),"liftup"===this.values.hover_type&&""!==this.values.box_shadow_styles&&(this.values.wrapper_style_bg+=this.values.box_shadow_styles)},setResponsiveColumnStyles:function(){var e=this,t=jQuery.extend(!0,{},fusionAllElements.fusion_builder_column.extras);this.responsiveStyles="",this.values.flex&&_.each(["large","medium","small"],function(i){var o,n,s,a,r,l="",u="",d="",c="",h="",m="";o="large"===i?"column_size":"type_"+i,""!==e.values[o]&&"auto"!==e.values[o]&&0<parseFloat(e.values[o])?(l+="width:"+100*parseFloat(e.values[o])+"%;",u+="width:"+(100*parseFloat(e.values[o])-3)+"%;"):"auto"===e.values[o]&&(l+="width: auto;",u+="width: 97%;"),a="large"===i?"order":"order_"+i,""!==e.values[a]&&(l+="order : "+parseInt(e.values[a])+";"),_.each(["top","right","bottom","left"],function(t){n="large"===i?"padding_"+t:"padding_"+t+"_"+i,""!==e.values[n]&&(d+="padding-"+t+" : "+e.values[n]+" !important;"),s="left"===t||"right"===t?"upsized_spacing":"margin",r="large"===i?s+"_"+t:s+"_"+t+"_"+i,""!==e.values[r]&&("margin"===s?l+="margin-"+t+" : "+e.values[r]+";":d+="margin-"+t+" : "+e.values[r]+";",e.values.hover_or_link&&"margin"!==s&&(c+="margin-"+t+":"+e.values[r]+";"),"left"===t&&(h+=t+":"+e.values[r]+";"),"left"!==t&&"right"!==t||(m+=t+":"+e.values[r]+";"))}),""===l&&""===d||(""!==l&&(l=".fusion-body ."+e.values.shortcode_classname+"-"+e.values.column_counter+"{"+l+"}"),""!=u&&(u=".fusion-body.fusion-builder-ui-wireframe ."+e.values.shortcode_classname+"-"+e.values.column_counter+"{"+u+"}"),""!==d&&(d="."+e.values.shortcode_classname+"-"+e.values.column_counter+" > .fusion-column-wrapper {"+d+"}"),""!==c&&(c=".fusion-flex-container .fusion-row ."+e.values.shortcode_classname+"-"+e.values.column_counter+" > .fusion-column-inner-bg {"+c+"}"),""!==h&&(h=".fusion-body:not(.fusion-builder-ui-wireframe) .fusion-flex-container .fusion-row ."+e.values.shortcode_classname+"-"+e.values.column_counter+" > .fusion-builder-module-controls-type-column {"+h+"}"),""!==m&&(m=".fusion-flex-container .fusion-row ."+e.values.shortcode_classname+"-"+e.values.column_counter+".fusion-being-dragged:after, .fusion-builder-live .fusion-flex-container .fusion-nested-columns.editing ."+e.values.shortcode_classname+"-"+e.values.column_counter+":hover:after {"+m+"}"),e.responsiveStyles+="large"===i?l+u+d+c+h+m:"@media only screen and (max-width:"+t["visibility_"+i]+"px) {"+l+u+d+c+h+m+"}")})},buildAttr:function(){var e={class:"fusion-layout-column "+this.model.get("type")+" "+this.values.shortcode_classname+"-"+this.values.column_counter+" fusion-builder-column-live-"+this.values.column_counter,style:""};return this.values.flex?(e.class+=" fusion-flex-column","auto"!==this.values.align_self&&(e.class+=" fusion-flex-align-self-"+this.values.align_self)):(""!==this.values.type&&this.values.type.includes("_ ")&&(e.class+=" "+this.model.get("type")+"_"+this.values.type,e.class+=" "+this.values.type),""!==this.values.size_class&&(e.class+=" "+this.values.size_class),this.values.first&&(e.class+=" fusion-column-first"),this.values.last&&(e.class+=" fusion-column-last"),""!==this.values.spacing_classes&&(e.class+=this.values.spacing_classes),""!==this.values.column_spacing_style&&(e.style+=this.values.column_spacing_style),""!==this.values.margin_top&&(e.style+="margin-top:"+this.values.margin_top+";"),""!==this.values.margin_bottom&&(e.style+="margin-bottom:"+this.values.margin_bottom+";")),""!==this.values.class&&(e.class+=" "+this.values.class),"none"===this.values.min_height&&(e.class+=" fusion-column-no-min-height"),(e=_.fusionVisibilityAtts(this.values.hide_on_mobile,e)).class+=_.fusionGetStickyClass(this.values.sticky_display),this.values.hover_or_link&&(e.class+=" fusion-column-inner-bg-wrapper"),this.values.hover_or_link&&""!==this.values.animation_type&&"liftup"===this.values.hover_type&&(e.class+=" fusion-column-hover-type-liftup"),"liftup"===this.values.hover_type&&""!==this.values.border_style&&(e.class+=" fusion-column-liftup-border"),e=_.fusionAnimations(this.values,e),""!==this.values.id&&(e.id=this.values.id),e},buildWrapperAttr:function(){var e={class:"fusion-column-wrapper fusion-column-wrapper-live-"+this.values.column_counter,style:""};return this.values.hover_or_link||(e.style+=this.values.wrapper_style_bg,(cssua.ua.ie||cssua.ua.edge)&&(e.style+="background-color:transparent;")),e["data-bg-url"]=this.values.background_image,this.values.hover_or_link||(e.style+=this.values.background_color_style),""!==this.values.border_full_style&&(e.style+=this.values.border_full_style),""!==this.values.border_radius_style&&(e.style+=this.values.border_radius_style),"liftup"!==this.values.hover_type&&""!==this.values.box_shadow_styles&&(e.style+=this.values.box_shadow_styles,e.class+=" fusion-column-has-shadow"),""!==this.values.padding&&(e.style+="padding: "+this.values.padding+";"),this.values.flex&&""!==this.values.align_content&&(e.class+=" fusion-flex-justify-content-"+this.values.align_content,e.class+=" fusion-content-layout-"+this.values.content_layout,"wrap"!==this.values.content_wrap&&(e.class+=" fusion-content-"+this.values.content_wrap)),e},buildIeExtraAttr:function(){var e={class:"fusion-column-wrapper",style:"content:'';z-index:-1;position:absolute;top:0;right:0;bottom:0;left:0;"};return""!==this.values.border_radius_style&&(this.values.wrapper_style_bg+=this.values.border_radius_style),""!==this.values.background_image_style&&(e.style+=this.values.background_image_style,""!==this.values.background_color&&1===this.values.alpha_background_color&&(e.style+="background-color:"+this.values.background_color+";")),"liftup"!==this.values.hover_type&&""!==this.values.box_shadow_styles&&(e.class+=" fusion-column-has-shadow"),e},buildHoverWrapperAttr:function(){var e={class:"fusion-column-inner-bg hover-type-"+this.values.hover_type,style:""};return"zoomin"!==this.values.hover_type&&"zoomout"!==this.values.hover_type&&""===this.values.link||""===this.values.border_radius_style||(e.style+="overflow:hidden;"+this.values.border_radius_style+";"),e},buildAnchorAttr:function(){var e={};return""!==this.values.link&&(e.href=this.values.link),"_blank"===this.values.target?(e.rel="noopener noreferrer",e.target="_blank"):"lightbox"===this.values.target&&(e["data-rel"]="iLightbox"),e},buildHoverInnerWrapperAttr:function(){var e={class:"fusion-column-inner-bg-image",style:""};return""!==this.values.wrapper_style_bg&&(e.style+=this.values.wrapper_style_bg),e},builderIeSpanAttr:function(){var e={class:"fusion-column-inner-bg-image"};return""!==this.values.background_image_style&&(e.style+=this.values.background_image_style,""!==this.values.background_color&&1===this.values.alpha_background_color&&(e.style+="background-color:"+this.values.background_color+";")),e},onPreviewResize:function(){this.updateSizeIndicators(),FusionPageBuilderApp.getParentContainer(this).isFlex()&&this.$el.hasClass("fusion-builder-element-edited")&&this.updateBoxModelIndicators()},updateSizeIndicators:function(){var e=this.getVisibleWidth();this.$el.find(".column-sizes .column-size").removeClass("active-size"),e.includes("_")&&this.$el.find(".column-size-"+e).addClass("active-size"),this.$el.find(".fusion-column-size-label").text(e.replace("_","/"))},updateBoxModelIndicators:function(){this.destroyMarginResizable(),this.destroyPaddingResizable(),this.marginDrag(),this.paddingDrag()},parseWidthLabel:function(e){return void 0===e&&(e="1_1"),"auto"===e?"auto":e.includes("_")?e:e.split(".")[0]+"%"},getVisibleWidth:function(){var e,t,i;return FusionPageBuilderApp.getParentContainer(this).isFlex()?"type"===(e=FusionApp.getResponsiveOptionKey("type",!0))||this.model.attributes.params[e]?this.parseWidthLabel(this.model.attributes.params[e]):"inherit_from_large"===fusionAllElements.fusion_builder_column.extras["col_width_"+e.replace("type_","")]?this.parseWidthLabel(this.model.attributes.params.type):"1_1":(t=jQuery("#fb-preview")[0],(i=getComputedStyle(t.contentDocument.documentElement).getPropertyValue("--content_break_point"))&&i>=t.offsetWidth?"1_1":this.model.attributes.params.type)},getTemplateAtts:function(){var e,t={};return this.setArgs(),this.responsiveStyles="",this.styles="",this.validateArgs(),this.setExtraArgs(),this.setColumnMapData(),this.setSharedStyles(),this.values.flex&&this.setResponsiveColumnStyles(),this.values.hover_or_link&&""!==this.values.border_radius_style&&"liftup"===this.values.hover_type&&(this.styles+=".fusion-builder-column-"+this.values.column_counter+" .hover-type-liftup:before{"+this.values.border_radius_style+";}"),e="fusion_builder_column"===this.model.get("type")?".fusion-builder-column-live-"+this.model.get("cid"):{regular:".fusion-builder-column .fusion-column-wrapper-live-"+this.model.get("cid"),hover:".fusion-builder-column:hover .fusion-column-wrapper-live-"+this.model.get("cid")},t.ieExtra=!(this.values.flex||!cssua.ua.ie&&!cssua.ua.edge||!this.values.hover_or_link)&&this.buildIeExtraAttr(),t.ieSpanExtra=!(!this.values.hover_or_link||""===this.values.background_color_style||!cssua.ua.ie&&!cssua.ua.edge)&&this.builderIeSpanAttr(),t.wrapperAttr=this.buildWrapperAttr(),t.center_content=this.values.center_content,t.hoverWrapperAttr=this.buildHoverWrapperAttr(),t.anchorAttr=this.buildAnchorAttr(),t.hoverInnerWrapperAttr=this.buildHoverInnerWrapperAttr(),t.styles=this.styles,t.filterStyle=_.fusionGetFilterStyleElem(this.values,e,this.model.get("cid")),t.nestedClass="fusion_builder_column_inner"===this.model.get("type")?" fusion-nested-column-content":"",t.cid=this.model.get("cid"),t.hoverOrLink=this.values.hover_or_link,t.layout=this.getVisibleWidth().replace("_","/"),t.isFlex=void 0!==this.values.flex&&this.values.flex,t.responsiveStyles=void 0!==this.responsiveStyles?this.responsiveStyles:"",t.isGlobal=void 0!==this.values.fusion_global?"yes":"no",this.model.set("selectors",this.buildAttr()),t},sizesShow:function(e){var t,i,o,n,s=this.$el.closest(".fusion-builder-container"),a=this.$el.find(".column-sizes"),r=0;e&&(e.preventDefault(),e.stopPropagation()),a.removeClass("fusion-expand-to-bottom"),this.$el.hasClass("active")?(this.$el.removeClass("active"),s.removeClass("fusion-column-sizer-active"),a.off("mouseover").off("mouseleave")):(this.$el.addClass("active"),s.addClass("fusion-column-sizer-active"),r=this.$el.offset().top,n=!1,(t=this.$el.closest("html")).children("body").hasClass("fusion-top-header")&&(jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").length&&(a.on("mouseenter",function(){jQuery("#fb-preview")[0].contentWindow.jQuery("#main").css("z-index","auto"),"fixed"===jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").css("position")&&(jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").css("z-index","-1"),jQuery("#fb-preview")[0].contentWindow.jQuery("#sliders-container").find('.tfs-slider[data-parallax="1"]').length&&jQuery("#fb-preview")[0].contentWindow.jQuery("#sliders-container").css("z-index","auto"))}),a.on("mouseleave",function(){jQuery("#fb-preview")[0].contentWindow.jQuery("#main").css("z-index",""),jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").css("z-index",""),jQuery("#fb-preview")[0].contentWindow.jQuery("#sliders-container").css("z-index","")})),o=0,(i=t.find(".fusion-header-wrapper")).length&&(o=i.offset().top+i.outerHeight()),n=106>r-o),(54>r-121||n||a.parents(".fusion-fullwidth").hasClass("bg-parallax-parent"))&&a.addClass("fusion-expand-to-bottom"))},offsetClass:function(){100>this.$el.offset().top?this.$el.addClass("fusion-content-bottom"):100<this.$el.offset().top&&this.$el.hasClass("fusion-content-bottom")&&this.$el.removeClass("fusion-content-bottom")},fallbackColumnSpacing:function(e,t){var i,o="100%",n=o,s="0%";switch(this.model.attributes.params.type,"yes"===this.model.attributes.params.spacing&&(s="4%"),this.model.attributes.params.type){case"1_1":o="100%",n="100%";break;case"1_4":o="22%",n="25%";break;case"3_4":o="74%",n="75%";break;case"1_2":o="48%",n="50%";break;case"1_3":o="30.6666%",n="33.3333%";break;case"2_3":o="65.3333%",n="66.6666%";break;case"1_5":o="16.8%",n="20%";break;case"2_5":o="37.6%",n="40%";break;case"3_5":o="58.4%",n="60%";break;case"4_5":o="79.2%",n="80%";break;case"5_6":o="82.6666%",n="83.3333%";break;case"1_6":o="13.3333%",n="16.6666%"}"4%"===s||this.model.attributes.params.last&&!t||(o=n),this.$el.css("width",o),e.css("width",o),i="right",FusionPageBuilderApp.$el.hasClass("rtl")&&(i="left"),e.css("margin-"+i,s),this.$el.css("margin-"+i,s)},dimensionColumnSpacing:function(e,t,i){var o,n,s,a,r=[];e.pop(),o=t=t[0]/t[1],"object"==typeof e&&(e.every(this.pxCheck)?(n=e.reduce(this.addValues,0)*o+"px",this.$el.css("width","calc( "+100*t+"% - "+n+" )"),i.css("width","calc( "+100*t+"% - "+n+" )")):e.every(this.percentageCheck)?(t=100*t-e.reduce(this.addValues,0)*o,this.$el.css("width",t+"%"),i.css("width",t+"%")):(_.each(e,function(e){e=void 0===e||""===e?"4%":e,r.push(e)}),n=r.join(" + "),this.$el.css("width","calc( "+100*t+"% - ( ( "+n+" ) * "+o+" )"),i.css("width","calc( "+100*t+"% - ( ( "+n+" ) * "+o+" )"))),s=this.model.attributes.params.spacing,void 0!==this.model.attributes.params.spacing&&"yes"!==this.model.attributes.params.spacing&&""!==this.model.attributes.params.spacing||(s="4%"),"no"===this.model.attributes.params.spacing&&(s="0"),a="right",FusionPageBuilderApp.$el.hasClass("rtl")&&(a="left"),i.css("margin-"+a,s),this.$el.css("margin-"+a,s)},validColumnSpacing:function(e){return!("yes"!==e&&"no"!==e&&!/\d/.test(e)&&""!==e)},patcherFilter:function(e){var t=[],i=this;return _.each(e,function(e){"removeElement"===e.action?void 0===e.element.attributes.class||-1===e.element.attributes.class.indexOf("fusion-column-content-centered")&&-1===e.element.attributes.class.indexOf("fusion-builder-column-content")&&-1===e.element.attributes.class.indexOf("fusion-column-wrapper")?(void 0===e.element.attributes.class||-1===e.element.attributes.class.indexOf("fusion-spacing-value")&&-1===e.element.attributes.class.indexOf("fusion-element-spacing")&&-1===e.element.attributes.class.indexOf("fusion-builder-live-element")&&-1===e.element.attributes.class.indexOf("fusion_builder_row_inner"))&&t.push(e):(i.forceAppendChildren=!0,t.push(e)):"addElement"===e.action?void 0===e.element.attributes.class||-1===e.element.attributes.class.indexOf("fusion-column-content-centered")&&-1===e.element.attributes.class.indexOf("fusion-builder-column-content")&&-1===e.element.attributes.class.indexOf("fusion-column-wrapper")?(void 0===e.element.attributes.class||-1===e.element.attributes.class.indexOf("fusion-spacing-value")&&-1===e.element.attributes.class.indexOf("fusion-element-spacing"))&&t.push(e):(i.forceAppendChildren=!0,t.push(e)):t.push(e)}),t},equalHeights:function(e){e=void 0===e?this.model.attributes.cid:e,setTimeout(function(){jQuery(document).trigger("fusion-content-changed",e),jQuery(window).trigger("fusion-content-changed",e),jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-content-changed",e)},300)},toolTipHide:function(){this.$el.find(".fusion-spacing-tooltip, .fusion-column-spacing").removeClass("active")},resizeSpacer:function(){this.columnSpacer&&this.columnSpacing()},columnSpacingPreview:function(e){var t,i=void 0!==this.model.attributes.params.type?this.model.attributes.params.type.split("_"):["1","1"],o=!0,n=jQuery('.fusion-builder-column-placeholder[data-cid="'+this.model.get("cid")+'"]'),s=!0;_.each(e,function(i,n){t=i,i="no"===(i="yes"===i?"4%":i)?"0":i,o=o&&t!==i,s=s&&0===parseInt(i,10),e[n]=i}),o?this.fallbackColumnSpacing(n,s):this.dimensionColumnSpacing(e,i,n)},getContent:function(){return this.getColumnContent()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ColumnView=FusionPageBuilder.BaseColumnView.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-column-template").html()),events:{"click .fusion-builder-column-settings:not(.fusion-builder-column-inner .fusion-builder-column-setting)":"settings","click .fusion-builder-column-size:not(.fusion-builder-column-inner .fusion-builder-column-size)":"sizesShow","hover .fusion-builder-column-content":"offsetClass","click .column-size:not(.fusion-builder-column-inner .column-size)":"sizeSelect","click .fusion-builder-add-element:not(.fusion-builder-column-inner .fusion-builder-add-element)":"addModule","click .fusion-builder-column-remove:not(.fusion-builder-column-inner .fusion-builder-column-remove)":"removeColumn","click .fusion-builder-column-clone:not(.fusion-builder-column-inner .fusion-builder-column-clone)":"cloneColumn","click .fusion-builder-column-save:not(.fusion-builder-column-inner .fusion-builder-column-save)":"openLibrary","click .fusion-builder-column-drag:not(.fusion-builder-column-inner .fusion-builder-column-drag)":"preventDefault"},initialize:function(){var e=""!==this.model.get("params").spacing?e:"4%";this.renderedYet=!1,this.columnSpacer=!1,this.forceAppendChildren=!1,this.listenTo(FusionEvents,"fusion-view-update-fusion_builder_column",this.reRender),this.$el.attr("data-cid",this.model.get("cid")),this.$el.attr("id","fusion-column-"+this.model.get("cid")),this.$el.attr("data-column-size",this.model.attributes.params.type),this.$el.attr("data-column-spacing",e),void 0!==this.model.attributes.params&&void 0!==this.model.attributes.params.fusion_global&&(this.$el.attr("fusion-global-layout",this.model.attributes.params.fusion_global),this.$el.removeClass("fusion-global-column").addClass("fusion-global-column")),this.currentClasses="",this.baseColumnInit(),this.baseInit()},render:function(){var e=this,t=this.getTemplateAtts();return this.$el.html(this.template(t)),void 0!==this.model.attributes.selectors&&this.setElementAttributes(this.$el,this.model.attributes.selectors),this.model.attributes.params.type,this.updateSizeIndicators(),this.appendChildren(),setTimeout(function(){e.droppableColumn(),e.sortableElements(),e.disableSortableElements()},100),this.renderedYet&&this._refreshJs(),this.renderedYet=!0,this},droppableColumn:function(){var e,t,i,o=this,n=this.$el;n&&(e=this.model.get("cid"),t=n.find(".fusion-column-target"),i=jQuery("#fb-preview")[0].contentWindow.jQuery("body"),n.draggable({appendTo:FusionPageBuilderApp.$el,zIndex:999999,delay:100,cursorAt:{top:15,left:15},iframeScroll:!0,containment:i,cancel:".fusion-builder-live-element, .fusion_builder_row_inner",helper:function(){var t=FusionPageBuilderApp.DraggableHelpers.draggableClasses(e),i="";return n.css("margin-top")&&(i='style="transform: translateY('+n.css("margin-top")+');"'),jQuery('<div><div class="fusion-column-helper '+t+'" data-cid="'+e+'"'+i+'><span class="fusiona-column"></span></div></div>')},start:function(){i.addClass("fusion-column-dragging fusion-active-dragging"),n.addClass("fusion-being-dragged"),"large"!==FusionApp.getPreviewWindowSize()&&(i.addClass("fusion-column-dragging-responsive-mode"),n.closest(".fusion-builder-container").addClass("fusion-has-active-drop-targets"))},stop:function(){setTimeout(function(){i.removeClass("fusion-column-dragging fusion-active-dragging")},10),n.removeClass("fusion-being-dragged"),"large"!==FusionApp.getPreviewWindowSize()&&(n.closest(".fusion-builder-container").removeClass("fusion-has-active-drop-targets"),i.removeClass("fusion-column-dragging-responsive-mode"))}}),t.droppable({tolerance:"touch",hoverClass:"ui-droppable-active",accept:".fusion-builder-column",drop:function(e,t){var i,s,a,r=t.draggable.data("cid"),l=FusionPageBuilderViewManager.getView(r),u=l.model.get("parent"),d=n,c=d.closest(".fusion-builder-row").data("cid");"large"===FusionApp.getPreviewWindowSize()||void 0===o.isFlex||!0!==o.isFlex?(jQuery(e.target).hasClass("target-after")?d.after(t.draggable):d.before(t.draggable),i=FusionPageBuilderViewManager.getView(c),a=t.draggable.parent().children(".fusion-builder-column").index(t.draggable),FusionPageBuilderApp.onDropCollectionUpdate(l.model,a,c),i.setRowData(),c!==u&&(s=FusionPageBuilderViewManager.getView(u)).setRowData(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.column+" order changed"),setTimeout(function(){"object"!=typeof s||FusionPageBuilderApp.sameContainerTypes(s.model.get("parent"),i.model.get("parent"))?l.droppableColumn():(FusionEvents.trigger("fusion-close-settings-"+l.model.get("cid")),l.reRender())},300)):FusionPageBuilderViewManager.getView(o.model.get("parent"))._updateResponsiveColumnsOrder(t.draggable,d.closest(".fusion-builder-row").children(".fusion-builder-column"),parseInt(jQuery(e.target).closest(".fusion-builder-column").data("cid")),jQuery(e.target).hasClass("target-after"))}}),n.find(".fusion-element-target-column").droppable({tolerance:"touch",hoverClass:"ui-droppable-active",accept:".fusion-builder-live-element, .fusion_builder_row_inner",drop:function(e,t){var i,s,a=FusionPageBuilderViewManager.getView(t.draggable.data("cid"));n.find(".fusion-builder-column-content:not(.fusion_builder_row_inner .fusion-builder-column-content ):not( .fusion-nested-column-content )").append(t.draggable),i=t.draggable.parent().children(".fusion-builder-live-element, .fusion_builder_row_inner").index(t.draggable),FusionPageBuilderApp.onDropCollectionUpdate(a.model,i,o.model.get("cid")),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.moved+" "+fusionAllElements[a.model.get("element_type")].name+" "+fusionBuilderText.element),s={currentModel:a.model,handleType:"save",attributes:a.model.attributes},fusionGlobalManager.handleMultiGlobal(s),FusionEvents.trigger("fusion-content-changed"),o._equalHeights()}}),FusionPageBuilderApp.wireframeActive&&this.disableDroppableColumn())},onOptionChange:function(e,t,i){var o=this.model.get("parent"),n=this.model.get("cid"),s=_.find(["spacing_","margin_","padding_"],function(t){return e.includes(t)}),a=!1;(void 0===i||void 0!==i&&("change"!==i.type||"change"===i.type&&void 0!==i.srcElement))&&(a=!0),"spacing"===e&&(this.model.attributes.params[e]=t,this.validColumnSpacing(t)&&FusionPageBuilderViewManager.getView(o).setSingleRowData(n),!0===a&&("yes"===t||"no"===t?this.destroySpacingResizable():(this.columnSpacer=!1,this.columnSpacing()))),s&&(this.model.attributes.params[e]=t,!0===a&&("padding_"===s?(this.destroyPaddingResizable(),this.paddingDrag()):(this.destroyMarginResizable(),this.marginDrag()))),"padding"===e&&-1===jQuery(i.target).attr("name").indexOf("_")&&(this.model.attributes.params[e]=t,this.renderSectionSeps(i),this._refreshJs()),"padding_left"!==e&&"padding_right"!==e||this.renderSectionSeps(i),["border_size","border_color","border_style","border_position"].includes(e)&&(this.model.attributes.params[e]=t)},renderSectionSeps:function(){var e=FusionPageBuilderViewManager.getChildViews(this.model.get("cid"));_.each(e,function(e){"fusion_section_separator"===e.model.get("element_type")&&e.reRender()})},refreshJs:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-fusion_builder_column",this.model.attributes.cid)},borderStyle:function(e){var t=this.model.attributes.params.border_size+"px",i=this.model.attributes.params.border_color,o=this.model.attributes.params.border_style,n=this.model.attributes.params.border_position,s=["top","right","bottom","left"],a="lift_up"===this.model.attributes.params.hover_type?this.$el.find(".fusion-column-wrapper, .fusion-column-inner-bg-image"):this.$el.find(".fusion-column-wrapper");e&&e.preventDefault(),this.$el.find(".fusion-column-wrapper, .fusion-column-inner-bg-image").css("border",""),"all"===n?_.each(s,function(e){a.css("border-"+e,t+" "+o+" "+i)}):_.each(s,function(e){e===n?a.css("border-"+e,t+" "+o+" "+i):a.css("border-"+e,"none")})},setElementAttributes:function(e,t){var i=this;e.removeClass(this.currentClasses),"object"==typeof t&&e.length&&_.each(t,function(t,o){"class"===o?(i.currentClasses=t,e.addClass(t)):"id"===o?e.attr("id",t):"style"===o?e.attr("style",t):-1!==o.indexOf("data")&&(o=o.replace(/_/g,"-"),e.attr(o,t))})},cloneColumn:function(e){var t,i=jQuery.extend(!0,{},this.model.attributes);e&&e.preventDefault(),i.created="manually",i.cid=FusionPageBuilderViewManager.generateCid(),i.targetElement=this.$el,i.cloned=!0,i.at_index=FusionPageBuilderApp.getCollectionIndex(this.$el),FusionPageBuilderApp.collection.add(i),this.$el.find(".fusion-builder-live-element:not(.fusion-builder-column-inner .fusion-builder-live-element), .fusion-builder-nested-element").each(function(){var e,t,o,n,s,a,r;jQuery(this).hasClass("fusion-builder-live-element")?(e=jQuery(this),t=void 0===e.data("cid")?e.find(".fusion-builder-data-cid").data("cid"):e.data("cid"),o=FusionPageBuilderElements.find(function(e){return e.get("cid")==t}),(n=jQuery.extend(!0,{},o.attributes)).created="manually",n.cid=FusionPageBuilderViewManager.generateCid(),n.parent=i.cid,n.from="fusion_builder_column",delete n.targetElementPosition,FusionPageBuilderApp.collection.add(n)):jQuery(this).hasClass("fusion_builder_row_inner")&&(a=void 0===(s=jQuery(this)).data("cid")?s.find(".fusion-builder-data-cid").data("cid"):s.data("cid"),void 0!==(r=FusionPageBuilderViewManager.getView(a))&&r.cloneNestedRow("clone",i.cid))}),e&&(FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.cloned+" "+fusionBuilderText.column),(t=FusionPageBuilderViewManager.getView(this.model.get("parent"))).createVirtualRows(),t.updateColumnsPreview(),FusionEvents.trigger("fusion-content-changed")),this._refreshJs()},appendChildren:function(){var e,t,i=this;this.model.children.each(function(o){e=o.attributes.cid,t=FusionPageBuilderViewManager.getView(e),i.$el.find(".fusion-builder-column-content:not(.fusion_builder_row_inner .fusion-builder-column-content ):not( .fusion-nested-column-content )").append(t.$el)}),this.delegateChildEvents()},getColumnContent:function(){var e,t="",i={};return _.each(this.model.get("params"),function(e,t){i[t]="undefined"===e||void 0===e?"":e}),e={min_height:"",last:"no",hover_type:"none",link:"",border_position:"all"},_.each(e,function(e,t){void 0===i[t]&&(i[t]=e)}),t+='[fusion_builder_column type="'+this.model.attributes.params.type+'"',_.each(i,function(e,i){t+=" "+i+'="'+e+'"'}),t+="]",this.$el.find(".fusion-builder-live-element:not(.fusion-builder-column-inner .fusion-builder-live-element), .fusion-builder-nested-element").each(function(){var e;jQuery(this).hasClass("fusion-builder-live-element")?t+=FusionPageBuilderApp.generateElementShortcode(jQuery(this),!1):void 0!==(e=FusionPageBuilderViewManager.getView(jQuery(this).data("cid")))&&(t+=e.getInnerRowContent())}),t+="[/fusion_builder_column]"},removeColumn:function(e){var t,i,o=this.model.get("parent");e&&e.preventDefault(),t=FusionPageBuilderViewManager.getChildViews(this.model.get("cid")),_.each(t,function(e){"fusion_builder_row"===e.model.get("type")||"fusion_builder_row_inner"===e.model.get("type")?e.removeRow():e.removeElement()}),FusionPageBuilderViewManager.removeView(this.model.get("cid")),this._equalHeights(o),FusionEvents.trigger("fusion-element-removed",this.model.get("cid")),this.model.destroy(),this.remove(),e&&((i=FusionPageBuilderViewManager.getView(o)).setRowData(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.deleted+" "+fusionBuilderText.column),FusionEvents.trigger("fusion-content-changed"),i.$el.find(".fusion-builder-module-controls-container a").trigger("mouseleave"))},addChildView:function(e){var t,i={model:e,collection:FusionPageBuilderElements,attributes:{"data-cid":e.get("cid")}},o=":not(.fusion_builder_row_inner .fusion-builder-column-content)";if(t=void 0!==e.get("multi")&&"multi_element_parent"===e.get("multi")?void 0!==FusionPageBuilder[e.get("element_type")]?new(FusionPageBuilder[e.get("element_type")])(i):new FusionPageBuilder.ParentElementView(i):void 0!==FusionPageBuilder[e.get("element_type")]?new(FusionPageBuilder[e.get("element_type")])(i):"fusion_builder_row_inner"===e.get("element_type")?new FusionPageBuilder.InnerRowView(i):new FusionPageBuilder.ElementView(i),FusionPageBuilderViewManager.addView(e.get("cid"),t),void 0!==this.model&&"fusion_builder_column_inner"===this.model.get("type")&&(o=""),_.isUndefined(e.get("targetElement"))||void 0!==e.get("from"))if(void 0===e.get("targetElementPosition")||"end"===e.get("targetElementPosition"))if("fusion_widget"===t.model.get("element_type")){var n=t.render();n.$el.find("script").remove(),this.$el.find(".fusion-builder-column-content"+o).append(n.el)}else this.$el.find(".fusion-builder-column-content"+o).append(t.render().el);else this.$el.find(".fusion-builder-column-content"+o).find(".fusion-builder-empty-column").first().after(t.render().el);else void 0===e.get("targetElementPosition")||"after"===e.get("targetElementPosition")?e.get("targetElement").after(t.render().el):e.get("targetElement").before(t.render().el);"off"!==window.FusionApp.preferencesData.open_settings&&void 0!==e.get("added")&&("fusion_builder_row_inner"===e.get("type")?jQuery("body").hasClass("fusion-builder-ui-wireframe")||t.editRow():t.settings())},getSaveLabel:function(){return fusionBuilderText.save_column},getCategory:function(){return"columns"},fallbackColumnSpacing:function(e,t){var i="100%",o=i,n="0%";switch(this.model.attributes.params.type,"yes"===this.model.attributes.params.spacing&&(n="4%"),this.model.attributes.params.type){case"1_1":i="100%",o="100%";break;case"1_4":i="22%",o="25%";break;case"3_4":i="74%",o="75%";break;case"1_2":i="48%",o="50%";break;case"1_3":i="30.6666%",o="33.3333%";break;case"2_3":i="65.3333%",o="66.6666%";break;case"1_5":i="16.8%",o="20%";break;case"2_5":i="37.6%",o="40%";break;case"3_5":i="58.4%",o="60%";break;case"4_5":i="79.2%",o="80%";break;case"5_6":i="82.6666%",o="83.3333%";break;case"1_6":i="13.3333%",o="16.6666%"}"4%"===n||this.model.attributes.params.last&&!t||(i=o),this.$el.css("width",i),e.css("width",i),e.css("margin-right",n),this.$el.css("margin-right",n)},scrollHighlight:function(e){var t=this,i=jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-one-page-text-link"),o=this.$el;e=void 0===e||e,setTimeout(function(){e&&i.length&&"function"==typeof i.fusion_scroll_to_anchor_target&&i.attr("href","#fusion-column-"+t.model.get("cid")).fusion_scroll_to_anchor_target(15),o.find("> .fusion-column-wrapper").addClass("fusion-active-highlight"),setTimeout(function(){o.find("> .fusion-column-wrapper").removeClass("fusion-active-highlight")},6e3)},10)},disableDroppableColumn:function(){var e=this.$el,t=e.find(".fusion-column-target");void 0!==e.draggable("instance")&&e.draggable("destroy"),void 0!==t.droppable("instance")&&t.droppable("destroy"),void 0!==e.find(".fusion-element-target-column").droppable("instance")&&e.find(".fusion-element-target-column").droppable("destroy")},enableDroppableColumn:function(){this.droppableColumn()},isBlockLayout:function(){return this.values&&"block"===this.values.content_layout},sortableElements:function(){var e=this;this.$el.find(".fusion-builder-column-content").sortable({items:".fusion-builder-live-element:not(.fusion_builder_row_inner .fusion-builder-live-element), .fusion_builder_row_inner",connectWith:".fusion-builder-column-content",cancel:".fusion-builder-settings, .fusion-builder-clone, .fusion-builder-row-clone, .fusion-builder-remove, .fusion-builder-add-element, .fusion-builder-insert-column, .fusion-builder-save-module-dialog, .fusion-builder-row-remove, .fusion-builder-save-inner-row-dialog-button, .fusion_builder_row_inner .fusion-builder-row-content",tolerance:"pointer",appendTo:FusionPageBuilderApp.$el,helper:"clone",disabled:!FusionPageBuilderApp.wireframeActive,over:function(t){e.onSortOver(t)},update:function(t,i){e.onSortUpdate(t,i)},stop:function(t,i){e.onSortStop(t,i)}})}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ContainerView=FusionPageBuilder.BaseView.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-container-template").html()),className:function(){var e="fusion-builder-container fusion-builder-data-cid",t=_.fusionCleanParameters(jQuery.extend(!0,{},this.model.get("params")));return"yes"===t.hundred_percent_height_scroll&&"yes"===t.hundred_percent_height&&(e+=" scrolling-helper"),this.isFlex&&(e+=" fusion-builder-flex-container"),void 0!==t.absolute&&"on"===t.absolute&&(e+=" fusion-builder-absolute-container-wrapper"),e},events:{"click .fusion-builder-container-settings":"settings","click .fusion-builder-container-remove":"removeContainer","click .fusion-builder-container-clone":"cloneContainer","click .fusion-builder-container-add":"addContainer","click .fusion-builder-container-save":"openLibrary","paste .fusion-builder-section-name":"renameContainer","keydown .fusion-builder-section-name":"renameContainer","click .fusion-builder-toggle":"toggleContainer","click .fusion-builder-publish-tooltip":"publish","click .fusion-builder-unglobal-tooltip":"unglobalize","click .fusion-builder-container-drag":"preventDefault"},initialize:function(){var e=this.model.get("cid"),t=this.$el;t.attr("data-cid",e),t.attr("id","fusion-container-"+e),void 0!==this.model.attributes.params&&void 0!==this.model.attributes.params.fusion_global&&(t.attr("fusion-global-layout",this.model.attributes.params.fusion_global),this.$el.removeClass("fusion-global-container").addClass("fusion-global-container")),this.listenTo(FusionEvents,"fusion-view-update-fusion_builder_container",this.reRender),this.listenTo(FusionEvents,"fusion-param-changed-"+this.model.get("cid"),this.onOptionChange),this.listenTo(FusionEvents,"fusion-preview-viewport-update",this.onPreviewResize),this._triggerCallback=_.debounce(_.bind(this.triggerCallback,this),200),this.model.children=new FusionPageBuilder.Collection,this.listenTo(this.model.children,"add",this.addChildView),this.listenTo(FusionEvents,"fusion-wireframe-toggle",this.wireFrameToggled),this.renderedYet=FusionPageBuilderApp.loaded,this._refreshJs=_.debounce(_.bind(this.refreshJs,this),300),this._triggerScrollUpdate=_.debounce(_.bind(this.triggerScrollUpdate,this),300),this._reInitSticky=_.debounce(_.bind(this.reInitSticky,this),300),this._updateInnerStyles=_.debounce(_.bind(this.updateInnerStyles,this),500),this.typingTimer,this.doneTypingInterval=800,this.scrollingSections=!1,this.settingsControlsOffset=0,this.width=t.width(),t.on("mouseenter",_.bind(this.setSettingsControlsOffset,this)),this.correctStackingContextForFilters(),this.deprecatedParams(),this.baseInit(),this.reInitDraggables=!1},setSettingsControlsOffset:function(e){var t,i=15;void 0===e&&0!==this.settingsControlsOffset&&this.width===this.$el.width()||void 0===window.frames[0].getStickyHeaderHeight&&void 0===window.frames[0].fusionGetStickyOffset||("off"!==FusionApp.preferencesData.sticky_header&&"on"!==this.values.sticky&&(jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-tb-header").length&&"function"==typeof window.frames[0].fusionGetStickyOffset?(t=window.frames[0].fusionGetStickyOffset())&&(i+=t):void 0!==window.frames[0].getStickyHeaderHeight&&(i+=window.frames[0].getStickyHeaderHeight(!0))),this.settingsControlsOffset=i+"px",this.width=this.$el.width(),this.$el.find(".fusion-builder-module-controls-container-wrapper .fusion-builder-module-controls-type-container").css("top",this.settingsControlsOffset)),this.$el.find(".fusion-builder-empty-container").is(":visible")?this.$el.find(".fusion-builder-module-controls-container-wrapper .fusion-builder-module-controls-type-container").css("margin-top","8.5px"):this.$el.find(".fusion-builder-module-controls-container-wrapper .fusion-builder-module-controls-type-container").css("margin-top","")},correctStackingContextForFilters:function(){var e=this.$el;this.$el.on("mouseenter",".fusion-fullwidth",function(){"none"!==jQuery(this).css("filter")&&e.addClass("fusion-has-filters")}),this.$el.on("mouseleave",".fusion-fullwidth",function(){e.hasClass("fusion-container-editing-child")||e.removeClass("fusion-has-filters")})},render:function(){var e=this,t=this.getTemplateAtts();return this.$el.html(this.template(t)),this.appendChildren(),this.renderedYet&&(this._refreshJs(),jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-option-change-equal_height_columns",this.model.attributes.cid)),void 0!==this.model.attributes.params.admin_toggled&&"yes"===this.model.attributes.params.admin_toggled&&(this.$el.addClass("fusion-builder-section-folded"),this.$el.find(".fusion-builder-toggle > span").toggleClass("fusiona-caret-up").toggleClass("fusiona-caret-down")),this.onRender(),this.renderedYet=!0,setTimeout(function(){e.droppableContainer()},100),this._triggerScrollUpdate(),this},droppableContainer:function(){var e=this.$el,t=this.model.get("cid"),i=jQuery("#fb-preview")[0].contentWindow.jQuery("body");e&&(e.draggable({appendTo:FusionPageBuilderApp.$el,zIndex:999999,delay:100,cursorAt:{top:15,left:15},iframeScroll:!0,containment:i,cancel:".fusion-builder-column",helper:function(){var e=FusionPageBuilderApp.DraggableHelpers.draggableClasses(t);return jQuery('<div class="fusion-container-helper '+e+'" data-cid="'+t+'"><span class="fusiona-container"></span></div>')},start:function(){i.addClass("fusion-container-dragging fusion-active-dragging"),e.addClass("fusion-being-dragged"),e.prev(".fusion-builder-container").length&&e.prev(".fusion-builder-container").addClass("hide-target-after"),e.prev(".fusion-fusion-builder-next-pager").length&&e.prev(".fusion-fusion-builder-next-page").addClass("hide-target-after")},stop:function(){setTimeout(function(){i.removeClass("fusion-container-dragging fusion-active-dragging")},10),e.removeClass("fusion-being-dragged"),FusionPageBuilderApp.$el.find(".hide-target-after").removeClass("hide-target-after")}}),e.find(".fusion-container-target").droppable({tolerance:"touch",hoverClass:"ui-droppable-active",accept:".fusion-builder-container, .fusion-builder-next-page",drop:function(t,i){jQuery(t.target).hasClass("target-after")?e.after(i.draggable):e.before(i.draggable),FusionEvents.trigger("fusion-content-changed"),FusionPageBuilderApp.scrollingContainers(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.full_width_section+" order changed")}}),FusionPageBuilderApp.wireframeActive&&this.disableDroppableContainer())},enableDroppableContainer:function(){var e=this.$el;void 0!==e.draggable("instance")&&void 0!==e.find(".fusion-container-target").droppable("instance")?(e.draggable("enable"),e.find(".fusion-container-target").droppable("enable")):this.droppableContainer()},disableDroppableContainer:function(){var e=this.$el;void 0!==e.draggable("instance")&&e.draggable("disable"),void 0!==e.find(".fusion-container-target").droppable("instance")&&e.find(".fusion-container-target").droppable("disable")},wireFrameToggled:function(){FusionPageBuilderApp.wireframeActive?this.disableDroppableContainer():this.enableDroppableContainer()},getTemplate:function(){var e=this.getTemplateAtts();return this.template(e)},deprecatedParams:function(){var e=this.model.get("params"),t=fusionAllElements.fusion_builder_container.defaults,i=jQuery.extend(!0,{},t,e),o=1,n={bottom:"center bottom","bottom center":"center bottom",left:"left center",right:"right center",top:"center top",center:"center center","center left":"left center"};void 0===(e=_.fusionContainerMapDeprecatedArgs(e)).background_blend_mode&&""!==i.background_color&&1>(o=jQuery.Color(i.background_color).alpha())&&0!==o&&(""!==e.background_image||""!==e.video_bg)&&(e.background_blend_mode="overlay"),void 0!==e.border_size&&(""!==e.border_size&&(e.border_sizes_top=parseInt(e.border_size)+"px",e.border_sizes_bottom=parseInt(e.border_size)+"px",e.border_sizes_left="0px",e.border_sizes_right="0px"),delete e.border_size),void 0!==e.radial_direction&&e.radial_direction in n&&(e.radial_direction=n[i.radial_direction]),void 0===e.flex_align_items&&void 0!==e.equal_height_columns&&"yes"===e.equal_height_columns&&(e.flex_align_items="stretch"),void 0===e.align_content&&void 0!==e.hundred_percent_height&&"yes"===e.hundred_percent_height&&void 0!==e.hundred_percent_height_center_content&&"yes"===e.hundred_percent_height_center_content&&(e.align_content="center"),void 0!==e.type&&"flex"===e.type||void 0===fusionAllElements.fusion_builder_container.extras.container_legacy_support||0!==fusionAllElements.fusion_builder_container.extras.container_legacy_support&&"0"!==fusionAllElements.fusion_builder_container.extras.container_legacy_support&&!1!==fusionAllElements.fusion_builder_container.extras.container_legacy_support||delete e.type,this.model.set("params",e)},setType:function(){var e=this.model.get("params"),t=fusionAllElements.fusion_builder_container.defaults;void 0===e.type&&(e.type=t.type),this.model.set("params",e)},getDynamicAtts:function(e){var t=this;return void 0!==this.dynamicParams&&this.dynamicParams&&!_.isEmpty(this.dynamicParams.getAll())&&_.each(this.dynamicParams.getAll(),function(i,o){var n=t.dynamicParams.getParamValue(i);void 0!==n&&!1!==n&&(e[o]=n)}),e},setValues:function(){var e,t=fusionAllElements[this.model.get("element_type")],i=fusionAllElements.fusion_builder_container.defaults,o=jQuery.extend(!0,{},this.model.get("params")),n={};e=jQuery.extend(!0,{},fusionAllElements.fusion_builder_container.extras),FusionPageBuilderApp.$el.find("#main").hasClass("width-100")&&void 0!==e.container_padding_100?(i.padding_top=e.container_padding_100.top,i.padding_right=e.container_padding_100.right,i.padding_bottom=e.container_padding_100.bottom,i.padding_left=e.container_padding_100.left):FusionPageBuilderApp.$el.find("#main").hasClass("width-100")||void 0===e.container_padding_default||(i.padding_top=e.container_padding_default.top,i.padding_right=e.container_padding_default.right,i.padding_bottom=e.container_padding_default.bottom,i.padding_left=e.container_padding_default.left),o=_.fusionCleanParameters(o),t&&void 0!==t.defaults&&(n=jQuery.extend(!0,{},i,o)),Array.isArray(n.absolute_devices)&&(n.absolute_devices=n.absolute_devices.join(",")),n=this.getDynamicAtts(n),this.defaults=i,this.values=n,this.params=o,"on"===this.values.sticky&&(this.values.background_parallax="none",this.values.fade="no")},setExtraValues:function(){this.values.alpha_background_color=jQuery.Color(this.values.background_color).alpha()},contentStyle:function(){var e=this,t="";return"yes"===this.values.hundred_percent_height&&"yes"===this.values.hundred_percent_height_center_content&&jQuery.each(["top","right","bottom","left"],function(i,o){var n="padding_"+o;""!==e.values[n]&&(t+="padding-"+o+":"+_.fusionGetValueWithUnit(e.values[n])+";")}),t},setContainerVideoData:function(){void 0!==this.values.background_blend_mode&&1>this.values.alpha_background_color&&0!==this.values.alpha_background_color&&!this.is_gradient_color&&(this.background_image||this.values.video_bg)&&(this.values.background_blend_mode="overlay"),this.values.video_bg=!1,(this.values.video_mp4||this.values.video_webm||this.values.video_ogv||this.values.video_url)&&(this.values.video_bg=!0)},parallaxAttr:function(){var e={},t=jQuery.Color(this.values.background_color).alpha();return e.class="fusion-bg-parallax",e["data-bg-align"]=this.values.background_position,e["data-direction"]=this.values.background_parallax,e["data-mute"]="mute"===this.values.video_mute?"true":"false",e["data-opacity"]=this.values.opacity,e["data-velocity"]=-1*this.values.parallax_speed,e["data-mobile-enabled"]="yes"===this.values.enable_mobile?"true":"false",e["data-break_parents"]=this.values.break_parents,e["data-bg-image"]=this.values.background_image,e["data-bg-repeat"]=this.values.background_repeat&&"no-repeat"!==this.values.background_repeat?"true":"false",0!==t&&(e["data-bg-color"]=this.values.background_color),"none"!==this.values.background_blend_mode&&(e["data-blend-mode"]=this.values.background_blend_mode),this.values.is_gradient_color&&(e["data-bg-gradient-type"]=this.values.gradient_type,e["data-bg-gradient-angle"]=this.values.linear_angle,e["data-bg-gradient-start-color"]=this.values.gradient_start_color,e["data-bg-gradient-start-position"]=this.values.gradient_start_position,e["data-bg-gradient-end-color"]=this.values.gradient_end_color,e["data-bg-gradient-end-position"]=this.values.gradient_end_position,e["data-bg-radial-direction"]=this.values.radial_direction),e["data-bg-height"]=this.values.data_bg_height,e["data-bg-width"]=this.values.data_bg_width,e},isFlex:function(){return this.values&&"flex"===this.values.type},attr:function(){var e={class:"fusion-fullwidth fullwidth-box fusion-builder-row-live-"+this.model.get("cid"),style:"",id:""},t=this;return""===this.values.background_color||"yes"===this.values.fade&&""!==this.values.background_image&&!1===this.values.video_bg||(e.style+="background-color: "+this.values.background_color+";"),""!==this.values.background_image&&"yes"!==this.values.fade&&(e.style+="background-image: url('"+this.values.background_image+"');"),""!==_.getGradientString(this.values,"main_bg")&&(e.style+="background-image: "+_.getGradientString(this.values,"main_bg")+";"),""!==this.values.background_position&&(e.style+="background-position: "+this.values.background_position+";"),""!==this.values.background_repeat&&(e.style+="background-repeat: "+this.values.background_repeat+";"),"none"!==this.values.background_blend_mode&&(e.style+="background-blend-mode: "+this.values.background_blend_mode+";"),"yes"===this.values.box_shadow&&(e.style+="box-shadow:"+_.fusionGetBoxShadowStyle(this.values).replace(";","")+" !important;"),this.isFlex()||(jQuery.each(["top","right","bottom","left"],function(i,o){var n="padding_"+o;""!==t.values[n]&&(e.style+="padding-"+o+":"+_.fusionGetValueWithUnit(t.values[n])+";")}),""!==this.values.margin_bottom&&(e.style+="margin-bottom: "+_.fusionGetValueWithUnit(this.values.margin_bottom)+";"),""!==this.values.margin_top&&(e.style+="margin-top: "+_.fusionGetValueWithUnit(this.values.margin_top)+";")),void 0!==this.values.border_sizes_top&&""!==this.values.border_sizes_top||(this.values.border_sizes_top=0),void 0!==this.values.border_sizes_bottom&&""!==this.values.border_sizes_bottom||(this.values.border_sizes_bottom=0),void 0!==this.values.border_sizes_left&&""!==this.values.border_sizes_left||(this.values.border_sizes_left=0),void 0!==this.values.border_sizes_right&&""!==this.values.border_sizes_right||(this.values.border_sizes_right=0),e.style+="border-top:"+_.fusionGetValueWithUnit(this.values.border_sizes_top)+" "+this.values.border_style+" "+this.values.border_color+";",e.style+="border-bottom:"+_.fusionGetValueWithUnit(this.values.border_sizes_bottom)+" "+this.values.border_style+" "+this.values.border_color+";",e.style+="border-left:"+_.fusionGetValueWithUnit(this.values.border_sizes_left)+" "+this.values.border_style+" "+this.values.border_color+";",e.style+="border-right:"+_.fusionGetValueWithUnit(this.values.border_sizes_right)+" "+this.values.border_style+" "+this.values.border_color+";",""!==this.values.background_image&&!1===this.values.video_bg&&"no-repeat"===this.values.background_repeat&&(e.style+="-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover;"),this.isFlex()&&(e.class+=" fusion-flex-container","stretch"!==this.values.align_content&&(e.class+=" fusion-flex-align-content-"+this.values.align_content)),this.values.video_bg&&(e.class+=" video-background"),(cssua.ua.ie||cssua.ua.edge)&&1>this.values.alpha_background_color&&(e.class+=" fusion-ie-mode"),"yes"===this.values.fade&&""!==this.values.background_image&&!1===this.values.video_bg&&(e.class+=" faded-background"),!1===this.values.video_bg&&""!==this.values.background_image&&(""!==this.values.background_parallax&&(e.class+=" fusion-parallax-"+this.values.background_parallax),"fixed"===this.values.background_parallax&&(e.style+="background-attachment:"+this.values.background_parallax+";")),"min"===this.values.hundred_percent_height&&""!==this.values.min_height&&(-1!==this.values.min_height.indexOf("%")&&(this.values.min_height=this.values.min_height.replace("%","vh")),e.style+="min-height:"+_.fusionGetValueWithUnit(this.values.min_height)+";"),""!==this.values.class&&(e.class+=" "+this.values.class),e.class+="yes"===this.values.hundred_percent?" hundred-percent-fullwidth":" nonhundred-percent-fullwidth",e.class+="yes"===this.values.hundred_percent_height_scroll&&"yes"===this.values.hundred_percent_height?" fusion-scrolling-section-edit":"",e.class+="yes"===this.values.hundred_percent_height?" non-hundred-percent-height-scrolling":"",e.class+="yes"===this.values.hundred_percent_height&&"yes"!==this.values.hundred_percent_height_center_content?" hundred-percent-height":"",e.class+="yes"===this.values.hundred_percent_height&&"yes"===this.values.hundred_percent_height_center_content?" hundred-percent-height-center-content":"","yes"!==this.values.equal_height_columns||this.isFlex()||(e.class+=" fusion-equal-height-columns"),"yes"===this.values.hundred_percent_height&&"yes"===this.values.hundred_percent_height_center_content&&(e.class+=" hundred-percent-height non-hundred-percent-height-scrolling"),e.class=_.fusionVisibilityAtts(this.values.hide_on_mobile,e.class),e=_.fusionAnimations(this.values,e),""!==this.values.id&&(e.id=this.values.id),""!==this.values.menu_anchor&&(e.id+=" "+this.values.menu_anchor),"on"===this.values.sticky&&(e.class+=" fusion-sticky-container",""!==this.values.sticky_transition_offset&&0!==this.values.sticky_transition_offset&&(e["data-transition-offset"]=parseFloat(this.values.sticky_transition_offset)),""!==this.values.sticky_offset&&0!==this.values.sticky_offset&&(e["data-sticky-offset"]=this.values.sticky_offset),""!==this.values.scroll_offset&&0!==this.values.scroll_offset&&(e["data-scroll-offset"]=parseFloat(this.values.scroll_offset)),""!==this.values.sticky_devices&&("string"==typeof this.values.sticky_devices&&(this.values.sticky_devices=this.values.sticky_devices.split(",")),_.each(this.values.sticky_devices,function(t){e["data-sticky-"+t.replace(/\s/g,"")]=!0}))),void 0!==this.values.z_index&&""!==this.values.z_index&&(e.class+=" fusion-custom-z-index"),void 0!==this.values.absolute&&"on"===this.values.absolute&&(e.class+=" fusion-absolute-container",void 0!==this.values.absolute_devices&&""!==this.values.absolute_devices&&_.each(this.values.absolute_devices.split(","),function(t){e.class+=" fusion-absolute-position-"+t})),e},createVideoBackground:function(){var e,t,i,o,n="",s="",a=this.model.get("cid");return void 0!==this.values.video_mp4&&""!==this.values.video_mp4&&(i+='<source src="'+this.values.video_mp4+'" type="video/mp4">'),void 0!==this.values.video_webm&&""!==this.values.video_webm&&(i+='<source src="'+this.values.video_webm+'" type="video/webm">'),void 0!==this.values.video_ogv&&""!==this.values.video_ogv&&(i+='<source src="'+this.values.video_ogv+'" type="video/ogg">'),""!==this.values.video_url?(t=_.fusionGetVideoProvider(this.values.video_url),o="yes"===this.values.video_loop?1:0,"youtube"===t.type?n+="<div style='opacity:0;' class='fusion-background-video-wrapper' id='video-"+a+"' data-youtube-video-id='"+t.id+"' data-mute='"+this.values.video_mute+"' data-loop='"+o+"' data-loop-adjustment='"+this.values.video_loop_refinement+"' data-video-aspect-ratio='"+this.values.video_aspect_ratio+"'><div class='fusion-container-video-bg' id='video-"+a+"-inner'></div></div>":"vimeo"===t.type&&(n+='<div id="video-'+a+'" data-vimeo-video-id="'+t.id+'" data-mute="'+this.values.video_mute+'" data-video-aspect-ratio="'+this.values.video_aspect_ratio+' }}" style="visibility:hidden;"><iframe id="video-iframe-'+a+'" src="//player.vimeo.com/video/'+t.id+"?api=1&player_id=video-iframe-"+a+"&html5=1&autopause=0&autoplay=1&badge=0&byline=0&loop="+o+'&title=0" frameborder="0"></iframe></div>')):(e='preload="auto" autoplay playsinline',"yes"===this.values.video_loop&&(e+=" loop"),"yes"===this.values.video_mute&&(e+=" muted"),""!==this.values.video_preview_image&&(n+='<div class="fullwidth-video-image" style="background-image: url(\''+this.values.video_preview_image+"');\"></div>"),n+='<div class="fullwidth-video"><video '+e+">"+i+"</video></div>"),""!==_.getGradientString(this.values)&&(s+="background-image:"+_.getGradientString(this.values)+";"),""!==this.values.background_color&&1>jQuery.Color(this.values.background_color).alpha()&&(s+="background-color:"+this.values.background_color+";"),""!==s&&(n+='<div class="fullwidth-overlay" style="'+s+'"></div>'),n},fadingBackgroundAttr:function(){var e={class:"fullwidth-faded"};return"yes"===this.values.fade&&""!==this.values.background_image&&!1===this.values.video_bg&&(this.values.background_parallax&&(e.style+="background-attachment:"+this.values.background_parallax+";"),this.values.background_color&&(e.style+="background-color:"+this.values.background_color+";"),this.values.background_image&&(e.style+="background-image: url("+this.values.background_image+");"),""!==_.getGradientString(this.values,"fade")&&(e.style+="background-image: "+_.getGradientString(this.values,"fade")+";"),this.values.background_position&&(e.style+="background-position:"+this.values.background_position+";"),this.values.background_repeat&&(e.style+="background-repeat:"+this.values.background_repeat+";"),"none"!==this.values.background_blend_mode&&(e.style+="background-blend-mode: "+this.values.background_blend_mode+";"),"no-repeat"===this.values.background_repeat&&(e.style+="-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover;")),e},styleBlock:function(){var e="",t=this.model.get("cid"),i=".fusion-fullwidth.fusion-builder-row-live-"+t+" .fusion-builder-element-content",o=" a:not(.fusion-button):not(.fusion-builder-module-control):not(.fusion-social-network-icon):not(.fb-icon-element):not(.fusion-countdown-link):not(.fusion-rollover-link):not(.fusion-rollover-gallery):not(.add_to_cart_button):not(.show_details_button):not(.product_type_external):not(.fusion-quick-view):not(.fusion-rollover-title-link):not(.fusion-breadcrumb-link)";return void 0!==this.params.link_color&&""!==this.params.link_color&&(e+=i+o+", ",e+=i+o+":before, ",e+=i+o+":after ",e+="{color: "+this.params.link_color+";}"),void 0!==this.params.link_hover_color&&""!==this.params.link_hover_color&&(e+=i+o+":hover, "+i+o+":hover:before, "+i+o+":hover:after {color: "+this.params.link_hover_color+";}",e+=i+" .pagination a.inactive:hover, "+i+" .fusion-filters .fusion-filter.fusion-active a {border-color: "+this.params.link_hover_color+";}",e+=i+" .pagination .current {border-color: "+this.params.link_hover_color+"; background-color: "+this.params.link_hover_color+";}",e+=i+" .fusion-filters .fusion-filter.fusion-active a, "+i+" .fusion-date-and-formats .fusion-format-box, "+i+" .fusion-popover, "+i+" .tooltip-shortcode {color: "+this.params.link_hover_color+";}",e+="#wrapper "+i+" .fusion-widget-area .fusion-vertical-menu-widget .menu li.current_page_ancestor > a, #wrapper "+i+" .fusion-widget-area .fusion-vertical-menu-widget .menu li.current_page_ancestor > a:before, #wrapper "+i+" .fusion-widget-area .fusion-vertical-menu-widget .current-menu-item > a, #wrapper "+i+" .fusion-widget-area .fusion-vertical-menu-widget .current-menu-item > a:before, #wrapper "+i+" .fusion-widget-area .fusion-vertical-menu-widget .current_page_item > a, #wrapper "+i+" .fusion-widget-area .fusion-vertical-menu-widget .current_page_item > a:before {color: "+this.params.link_hover_color+";}",e+="#wrapper "+i+" .fusion-widget-area .widget_nav_menu .menu li.current_page_ancestor > a, #wrapper "+i+" .fusion-widget-area .widget_nav_menu .menu li.current_page_ancestor > a:before, #wrapper "+i+" .fusion-widget-area .widget_nav_menu .current-menu-item > a, #wrapper "+i+" .fusion-widget-area .widget_nav_menu .current-menu-item > a:before, #wrapper "+i+" .fusion-widget-area .widget_nav_menu .current_page_item > a, #wrapper "+i+" .fusion-widget-area .widget_nav_menu .current_page_item > a:before {color: "+this.params.link_hover_color+";}",e+="#wrapper "+i+" .fusion-vertical-menu-widget .menu li.current_page_item > a { border-right-color:"+this.params.link_hover_color+";border-left-color:"+this.params.link_hover_color+";}",e+="#wrapper "+i+" .fusion-widget-area .tagcloud a:hover { color: #fff; background-color: "+this.params.link_hover_color+";border-color: "+this.params.link_hover_color+";}",e+="#main "+i+" .post .blog-shortcode-post-title a:hover {color: "+this.params.link_hover_color+";}"),void 0!==this.values.z_index&&""!==this.values.z_index&&(e+=".fusion-fullwidth.fusion-builder-row-live-"+t+" {z-index: "+parseInt(this.values.z_index)+" !important; }"),void 0!==this.values.overflow&&""!==this.values.overflow&&(e+=".fusion-fullwidth.fusion-builder-row-live-"+t+" {overflow: "+this.values.overflow+" }"),"on"===this.values.sticky&&(""!==this.values.sticky_background_color&&(e+=".fusion-fullwidth.fusion-builder-row-live-"+t+".fusion-sticky-transition { background-color:"+this.values.sticky_background_color+" !important; }"),""!==this.values.sticky_height&&(e+=".fusion-fullwidth.fusion-builder-row-live-"+t+".fusion-sticky-transition { min-height:"+this.values.sticky_height+" !important; }")),""!==e&&(e='<style type="text/css">'+e+"</style>"),e+_.fusionGetFilterStyleElem(this.values,".fusion-builder-row-live-"+t,t)},getTemplateAtts:function(){var e={};return this.setValues(),this.setExtraValues(),this.setContainerVideoData(),this.isFlex()&&this.setResponsiveContainerStyles(),this.$el.find(".fusion-bg-parallax").length&&(void 0!==this.$el.find(".fusion-bg-parallax").data("parallax-index")&&jQuery("#fb-preview")[0].contentWindow._fusionImageParallaxImages.splice(this.$el.find(".fusion-bg-parallax").data("parallax-index"),1),this.$el.find(".fusion-bg-parallax").remove(),this.$el.find(".parallax-inner").remove()),e.values=this.values,e.attr=this.attr(),e.parallax=this.parallaxAttr(),e.createVideoBackground=_.bind(this.createVideoBackground,this),e.fadingBackground=this.fadingBackgroundAttr(),e.styleBlock=this.styleBlock(),e.admin_label=""!==this.values.admin_label?_.unescape(this.values.admin_label):fusionBuilderText.full_width_section,e.topOverlap=20>parseInt(this.values.padding_top,10)&&("0%"===this.values.padding_top||-1===this.values.padding_top.indexOf("%"))?"fusion-overlap":"",e.bottomOverlap=20>parseInt(this.values.margin_bottom,10)&&("0%"===this.values.margin_bottom||-1===this.values.margin_bottom.indexOf("%"))?"fusion-overlap":"",e.isFlex=this.isFlex(),e.isGlobal=void 0!==this.values.fusion_global?"yes":"no",e.cid=this.model.get("cid"),e.status=this.values.status,e.container_tag=this.values.container_tag,e.responsiveStyles=this.responsiveStyles||"",e.scrollPosition="right"===FusionApp.settings.header_position||jQuery("#fb-preview")[0].contentWindow.jQuery("body").hasClass("rtl")?"scroll-navigation-left":"scroll-navigation-right",e.contentStyle=this.contentStyle(),e},triggerScrollUpdate:function(){setTimeout(function(){FusionPageBuilderApp.scrollingContainers()},100)},beforePatch:function(){this.$el.find(".fusion-bg-parallax").length&&"object"==typeof jQuery("#fb-preview")[0].contentWindow._fusionImageParallaxImages&&void 0!==this.$el.find(".fusion-bg-parallax").attr("data-parallax-index")&&jQuery("#fb-preview")[0].contentWindow._fusionImageParallaxImages.splice(this.$el.find(".fusion-bg-parallax").attr("data-parallax-index"),1)},afterPatch:function(){var e=this;this.appendChildren(),this.refreshJs(),this._triggerScrollUpdate(),setTimeout(function(){e.droppableContainer()},100),"yes"===this.model.attributes.params.hundred_percent_height&&"yes"===this.model.attributes.params.hundred_percent_height_scroll?this.$el.addClass("scrolling-helper"):this.$el.removeClass("scrolling-helper"),this.setSettingsControlsOffset(!0),this._reInitSticky(),this.reInitDraggables&&this.updateDragHandles()},refreshJs:function(e){e=void 0===e?this.model.attributes.cid:e,jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-fusion_builder_container",e),jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-reinit-carousels",e)},addContainer:function(e){var t,i,o,n;e&&(e.preventDefault(),FusionPageBuilderApp.newContainerAdded=!0),t=FusionPageBuilderViewManager.generateCid(),i=fusionAllElements.fusion_builder_container.params,o={},_.each(i,function(e){n=_.isObject(e.value)?e.default:e.value,o[e.param_name]=n,"dimension"===e.type&&_.isObject(e.value)&&_.each(e.value,function(e,t){o[t]=e})}),this.collection.add([{type:"fusion_builder_container",added:"manually",element_type:"fusion_builder_container",cid:t,params:o,view:this,created:"auto"}]),FusionPageBuilderViewManager.getView(t).addRow(),FusionPageBuilderApp.scrollingContainers()},addRow:function(){this.collection.add([{type:"fusion_builder_row",element_type:"fusion_builder_row",added:"manually",cid:FusionPageBuilderViewManager.generateCid(),parent:this.model.get("cid"),view:this,element_content:""}])},removeContainer:function(e,t){var i;e&&e.preventDefault(),i=FusionPageBuilderViewManager.getChildViews(this.model.get("cid")),_.each(i,function(e){"fusion_builder_row"===e.model.get("type")&&e.removeRow()}),FusionPageBuilderViewManager.removeView(this.model.get("cid")),this.model.destroy(),FusionEvents.trigger("fusion-element-removed",this.model.get("cid")),this.remove(),1>FusionPageBuilderViewManager.countElementsByType("fusion_builder_container")&&void 0===t&&(FusionPageBuilderApp.blankPage=!0,FusionPageBuilderApp.clearBuilderLayout(!0)),e&&(FusionPageBuilderApp.scrollingContainers(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.deleted_section),FusionEvents.trigger("fusion-content-changed"))},cloneContainer:function(e){var t;e&&e.preventDefault(),(t=jQuery.extend(!0,{},this.model.attributes)).cid=FusionPageBuilderViewManager.generateCid(),t.created="manually",t.view=this,FusionPageBuilderApp.collection.add(t),this.$el.find(".fusion-builder-row-container:not(.fusion_builder_row_inner .fusion-builder-row-container)").each(function(){var e,i=jQuery(this),o=i.data("cid"),n=FusionPageBuilderElements.find(function(e){return e.get("cid")==o}),s=jQuery.extend(!0,{},n.attributes);s.created="manually",s.cid=FusionPageBuilderViewManager.generateCid(),s.parent=t.cid,FusionPageBuilderApp.collection.add(s),e=FusionPageBuilderViewManager.getView(s.cid),i.find(".fusion-builder-column-outer").each(function(){var e=jQuery(this),t=e.data("cid"),i=FusionPageBuilderElements.find(function(e){return e.get("cid")==t}),o=jQuery.extend(!0,{},i.attributes);o.created="manually",o.cid=FusionPageBuilderViewManager.generateCid(),o.parent=s.cid,o.from="fusion_builder_container",o.cloned=!0,delete o.targetElementPosition,FusionPageBuilderApp.collection.add(o),e.find(".fusion-builder-column-content:not( .fusion-nested-column-content )").children(".fusion-builder-live-element, .fusion_builder_row_inner").each(function(){var e,t,i,n,s,a;jQuery(this).hasClass("fusion-builder-live-element")?(e=jQuery(this),t=e.data("cid"),i=FusionPageBuilderElements.find(function(e){return e.get("cid")==t}),(n=jQuery.extend(!0,{},i.attributes)).created="manually",n.cid=FusionPageBuilderViewManager.generateCid(),n.parent=o.cid,n.from="fusion_builder_container",delete n.targetElementPosition,FusionPageBuilderApp.collection.add(n)):jQuery(this).hasClass("fusion_builder_row_inner")&&(s=jQuery(this).data("cid"),void 0!==(a=FusionPageBuilderViewManager.getView(s))&&a.cloneNestedRow("",o.cid))})}),e.setRowData()}),FusionPageBuilderApp.scrollingContainers(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.cloned_section),FusionEvents.trigger("fusion-content-changed"),this._refreshJs(t.cid)},addChildView:function(e){var t,i={model:e,collection:FusionPageBuilderElements};t=new FusionPageBuilder.RowView(i),FusionPageBuilderViewManager.addView(e.get("cid"),t),this.$el.find(".fusion-builder-container-content").length?this.$el.find(".fusion-builder-container-content").append(t.render().el):this.$el.find("> .fusion-builder-add-element").hide().end().append(t.render().el),"manually"===e.get("created")&&"row_inner"===e.get("element_type")&&e.set("view",FusionPageBuilderViewManager.getView(e.get("parent")),{silent:!0})},appendChildren:function(){var e,t,i=this;this.model.children.each(function(o){e=o.attributes.cid,t=FusionPageBuilderViewManager.getView(e),i.$el.find(".fusion-builder-container-content").append(t.$el),t.delegateEvents(),t.delegateChildEvents(),t.droppableColumn()})},reInitSticky:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-reinit-sticky",this.model.attributes.cid)},setEmptySpacing:function(){var e=this.model.get("params");e.flex_column_spacing="0px",this.model.set("params",e)},onOptionChange:function(e,t,i){var o=!1,n=_.find(["spacing_","margin_","padding_"],function(t){return e.includes(t)});switch((void 0===i||void 0!==i&&("change"!==i.type||"change"===i.type&&void 0!==i.srcElement))&&(o=!0),n&&(this.model.attributes.params[e]=t,!0===o&&("padding_"===n?(this.destroyPaddingResizable(),this.paddingDrag()):(this.destroyMarginResizable(),this.marginDrag()))),e){case"admin_label":this.model.attributes.params[e]=t.replace(/[[\]]+/g,"");break;case"type":this.model.attributes.params[e]=t,this.values.type=t,this.reRenderRows(),this.updateResponsiveSetup();break;case"sticky":case"sticky_devices":case"sticky_height":case"sticky_offset":case"sticky_transition_offset":case"scroll_offset":this._reInitSticky();break;case"flex_column_spacing":this._updateInnerStyles();break;case"absolute":"on"!==t||this.$el.hasClass("fusion-builder-absolute-container-wrapper")?"off"===t&&this.$el.hasClass("fusion-builder-absolute-container-wrapper")&&this.$el.removeClass("fusion-builder-absolute-container-wrapper"):this.$el.addClass("fusion-builder-absolute-container-wrapper")}},reRenderRows:function(){var e=FusionPageBuilderViewManager.getChildViews(this.model.get("cid"));_.each(e,function(e){e.modeChange()})},updateInnerStyles:function(){var e=FusionPageBuilderViewManager.getChildViews(this.model.get("cid"));_.each(e,function(e){e.updateInnerStyles()})},updateResponsiveSetup:function(){var e=jQuery(".fusion_builder_module_settings");this.isFlex()?e.addClass("has-flex"):e.removeClass("has-flex")},getContent:function(){var e="";return e+=FusionPageBuilderApp.generateElementShortcode(this.$el,!0),this.$el.find(".fusion_builder_row").each(function(){var t=jQuery(this);e+="[fusion_builder_row]",t.find(".fusion-builder-column-outer").each(function(){var t=jQuery(this).data("cid"),i=FusionPageBuilderViewManager.getView(t);e+=i.getColumnContent()}),e+="[/fusion_builder_row]"}),e+="[/fusion_builder_container]"},getSaveLabel:function(){return fusionBuilderText.save_section},getCategory:function(){return"sections"},marginDrag:function(){var e=this.$el,t=this,i=e.closest(".fusion-row, .fusion-builder-live-editor").width();this.$el.hasClass("active")||_.each({top:"s",bottom:"s"},function(o,n){var s,a=FusionApp.getResponsiveOptionKey("margin_"+n,t.isFlex()),r=t.values[a]||t.values["margin_"+n];(s=r&&r.includes("%"))&&(r=i/100*parseFloat(r),e.find(".fusion-container-margin-"+n).css("height",r),"bottom"===n&&20>r&&e.find(".fusion-container-margin-bottom, .fusion-container-padding-bottom").addClass("fusion-overlap")),e.find(".fusion-container-margin-"+n).css("display","block"),e.find(".fusion-container-margin-"+n).height(r),e.find(".fusion-container-margin-"+n).resizable({handles:o,minHeight:0,minWidth:0,grid:s?[i/100,10]:"",create:function(){"bottom"===n&&(20>parseInt(r,10)&&!s?e.find(".fusion-container-margin-bottom, .fusion-container-padding-bottom").addClass("fusion-overlap"):e.find(".fusion-container-margin-bottom, .fusion-container-padding-bottom").removeClass("fusion-overlap"))},resize:function(o,s){var a,r=FusionApp.getResponsiveOptionKey("margin_"+n,t.isFlex()),l=t.values[r]||0,u="top"===n||"bottom"===n?s.size.height:s.size.width;jQuery(s.element).addClass("active"),a=l&&l.includes("%"),jQuery(s.element).closest(".fusion-builder-container").addClass("active"),u=0>u?0:u,u+="px",a&&(u=0===parseFloat(u)?"0%":Math.round(parseFloat(parseFloat(u)/(i/100)))+"%"),"bottom"===n&&(20>s.size.height?(jQuery(s.element).addClass("fusion-overlap"),e.find(".fusion-container-padding-bottom").addClass("fusion-overlap")):(jQuery(s.element).removeClass("fusion-overlap"),e.find(".fusion-container-padding-bottom").removeClass("fusion-overlap"))),t.isFlex()||e.find(".fusion-fullwidth").css("margin-"+n,u),jQuery(s.element).find(".fusion-spacing-tooltip, .fusion-column-spacing").addClass("active"),jQuery(s.element).find(".fusion-spacing-tooltip").text(u),t.updateDragSettings("#"+r,u)},stop:function(e,t){jQuery(t.element).removeClass("active"),jQuery(t.element).closest(".fusion-builder-container").removeClass("active"),jQuery(t.element).closest(".fusion-builder-container").find(".fusion-column-spacing .ui-resizable").length&&jQuery(t.element).closest(".fusion-builder-container").find(".fusion-column-spacing .ui-resizable").resizable("destroy")}})})},needsLegacyConversion:function(){return void 0===this.model.get("params").type},paddingDrag:function(){var e,t,i=this.$el,o=this,n=i.closest(".fusion-row, .fusion-builder-live-editor").width();this.$el.hasClass("active")||(e=fusionAllElements.fusion_builder_container.defaults,t=jQuery.extend(!0,{},fusionAllElements.fusion_builder_container.extras),FusionPageBuilderApp.$el.find("#main").hasClass("width-100")&&void 0!==t.container_padding_100&&(e.padding_right=t.container_padding_100.right,e.padding_left=t.container_padding_100.left),_.each({top:"s",right:"w",bottom:"s",left:"e"},function(t,s){var a,r=FusionApp.getResponsiveOptionKey("padding_"+s,o.isFlex()),l=o.values[r]||o.values["padding_"+s];l||(l=e[r]||0),(a=l&&l.includes("%"))&&(l=n/100*parseFloat(l),"top"===s||"bottom"===s?i.find(".fusion-container-padding-"+s).css("height",l):i.find(".fusion-container-padding-"+s).css("width",l),"top"===s&&20>l&&i.find(".fusion-container-margin-top, .fusion-container-padding-top").addClass("fusion-overlap")),i.find(".fusion-container-padding-"+s).css("display","block"),"top"===s||"bottom"===s?i.find(".fusion-container-padding-"+s).height(l):i.find(".fusion-container-padding-"+s).width(l),i.find(".fusion-container-padding-"+s).resizable({handles:t,minHeight:0,minWidth:0,create:function(){"top"===s&&(20>parseInt(l,10)&&!a?i.find(".fusion-container-margin-top, .fusion-container-padding-top").addClass("fusion-overlap"):i.find(".fusion-container-margin-top, .fusion-container-padding-top").removeClass("fusion-overlap"))},resize:function(e,t){var a,r=FusionApp.getResponsiveOptionKey("padding_"+s,o.isFlex()),l=o.values[r],u="top"===s||"bottom"===s?t.size.height:t.size.width;a=l&&l.includes("%"),jQuery(t.element).addClass("active"),jQuery(t.element).closest(".fusion-builder-container").addClass("active"),u=0>u?0:u,u+="px",a&&(u=0===parseFloat(u)?"0%":Math.round(parseFloat(parseFloat(u)/(n/100)))+"%"),"top"===s&&(20>t.size.height?(jQuery(t.element).addClass("fusion-overlap"),i.find(".fusion-container-margin-top").addClass("fusion-overlap")):(jQuery(t.element).removeClass("fusion-overlap"),i.find(".fusion-container-margin-top").removeClass("fusion-overlap"))),i.find(".fusion-fullwidth").css("padding-"+s,u),jQuery(t.element).find(".fusion-spacing-tooltip, .fusion-column-spacing").addClass("active"),jQuery(t.element).find(".fusion-spacing-tooltip").text(u),o.updateDragSettings("#"+r,u)},stop:function(e,t){jQuery(t.element).removeClass("active"),jQuery(t.element).closest(".fusion-builder-container").removeClass("active"),jQuery(t.element).closest(".fusion-builder-container").find(".fusion-column-spacing .ui-resizable").length&&jQuery(t.element).closest(".fusion-builder-container").find(".fusion-column-spacing .ui-resizable").resizable("destroy")}})}))},destroyResizable:function(){this.destroyMarginResizable(),this.destroyPaddingResizable()},destroyMarginResizable:function(){var e=this.$el.find(".fusion-container-margin-top, .fusion-container-margin-bottom");jQuery.each(e,function(e,t){jQuery(t).hasClass("ui-resizable")&&(jQuery(t).resizable("destroy"),jQuery(t).hide())})},destroyPaddingResizable:function(){var e=this.$el.find(".fusion-container-padding-top, .fusion-container-padding-right, .fusion-container-padding-bottom, .fusion-container-padding-left");jQuery.each(e,function(e,t){jQuery(t).hasClass("ui-resizable")&&(jQuery(t).resizable("destroy"),jQuery(t).hide())})},patcherFilter:function(e){var t=[],i=this;return i.reInitDraggables=!1,_.each(e,function(e){"removeElement"===e.action?void 0!==e.element.attributes&&void 0!==e.element.attributes.class&&-1!==e.element.attributes.class.indexOf("fusion-fullwidth")?(i.reInitDraggables=!0,t.push(e)):void 0!==e.element.attributes&&void 0!==e.element.attributes.class&&-1!==e.element.attributes.class.indexOf("fusion-container-spacing")||t.push(e):"addElement"===e.action&&void 0!==e.element.attributes&&void 0!==e.element.attributes.class&&-1!==e.element.attributes.class.indexOf("fusion-container-spacing")||t.push(e)}),t},renameContainer:function(e){var t,i,o;if(13==(e.keyCode||e.which))return e.preventDefault(),this.$el.find(".fusion-builder-section-name").blur(),!1;o=fusionBuilderText.edited+" "+fusionAllElements[this.model.get("element_type")].name+" "+fusionBuilderText.element,t=this.model,i=this.$el.find(".fusion-builder-section-name"),clearTimeout(this.typingTimer),this.typingTimer=setTimeout(function(){t.attributes.params.admin_label=i.val().replace(/[[\]]+/g,""),FusionEvents.trigger("fusion-content-changed"),FusionEvents.trigger("fusion-history-save-step",o)},this.doneTypingInterval)},toggleContainer:function(e){var t,i=jQuery(e.currentTarget);e&&e.preventDefault(),this.$el.toggleClass("fusion-builder-section-folded"),i.find("span").toggleClass("fusiona-caret-up").toggleClass("fusiona-caret-down"),this.$el.hasClass("fusion-builder-section-folded")?this.model.attributes.params.admin_toggled="yes":this.model.attributes.params.admin_toggled="no",t=fusionBuilderText.edited+" "+fusionAllElements[this.model.get("element_type")].name+" "+fusionBuilderText.element,FusionEvents.trigger("fusion-content-changed"),FusionEvents.trigger("fusion-history-save-step",t)},scrollHighlight:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-one-page-text-link"),t=this.$el;setTimeout(function(){e.length&&"function"==typeof e.fusion_scroll_to_anchor_target&&e.attr("href","#fusion-container-"+this.model.get("cid")).fusion_scroll_to_anchor_target(15),t.find("> .fusion-column-wrapper").addClass("fusion-active-highlight"),setTimeout(function(){t.find("> .fusion-column-wrapper").removeClass("fusion-active-highlight")},6e3)},10)},publish:function(e){var t=jQuery(e.currentTarget).data("cid"),i=FusionPageBuilderViewManager.getView(t),o=i.model.get("params");FusionApp.confirmationPopup({title:fusionBuilderText.container_publish,content:fusionBuilderText.are_you_sure_you_want_to_publish,actions:[{label:fusionBuilderText.no,classes:"no",callback:function(){FusionApp.confirmationPopup({action:"hide"})}},{label:fusionBuilderText.yes,classes:"yes",callback:function(){o.status="published",i.model.set("params",o),i.$el.find('a[data-cid="'+t+'"].fusion-builder-publish-tooltip').remove(),FusionEvents.trigger("fusion-history-turn-on-tracking"),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.container_published),FusionEvents.trigger("fusion-content-changed"),FusionApp.confirmationPopup({action:"hide"})}}]})},unglobalize:function(e){var t=jQuery(e.currentTarget).data("cid"),i=FusionPageBuilderViewManager.getView(t),o=i.model.get("params");e.preventDefault(),FusionApp.confirmationPopup({title:fusionBuilderText.remove_global,content:fusionBuilderText.are_you_sure_you_want_to_remove_global,actions:[{label:fusionBuilderText.no,classes:"no",callback:function(){FusionApp.confirmationPopup({action:"hide"})}},{label:fusionBuilderText.yes,classes:"yes",callback:function(){delete o.fusion_global,i.model.set("params",o),i.$el.removeClass("fusion-global-container fusion-global-column fusion-global-nested-row fusion-global-element fusion-global-parent-element"),i.$el.find('a[data-cid="'+t+'"].fusion-builder-unglobal-tooltip').remove(),i.$el.removeAttr("fusion-global-layout"),FusionEvents.trigger("fusion-history-turn-on-tracking"),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.removed_global),FusionEvents.trigger("fusion-content-changed"),FusionApp.confirmationPopup({action:"hide"})}}]})},onPreviewResize:function(){this.isFlex()&&this.$el.hasClass("fusion-builder-element-edited")&&this.updateDragHandles()},setResponsiveContainerStyles:function(){var e=this,t=jQuery.extend(!0,{},fusionAllElements.fusion_builder_column.extras);this.responsiveStyles="",_.each(["large","medium","small"],function(i){var o,n,s="";_.each(["top","right","bottom","left"],function(t){o="padding_"+t+("large"===i?"":"_"+i),""!==e.values[o]&&(s+="padding-"+t+" : "+_.fusionGetValueWithUnit(e.values[o])+" !important;"),"left"!==t&&"right"!==t&&(n="margin_"+t+("large"===i?"":"_"+i),""!==e.values[n]&&(s+="margin-"+t+" : "+_.fusionGetValueWithUnit(e.values[n])+";"))}),""!==s&&(""!==s&&(s=".fusion-body:not(.fusion-builder-ui-wireframe) #fusion-container-"+e.model.get("cid")+" > .fusion-fullwidth {"+s+"}"),e.responsiveStyles+="large"===i?s:"@media only screen and (max-width:"+t["visibility_"+i]+"px) {"+s+"}")})},updateDragHandles:function(){this.destroyResizable(),this.marginDrag(),this.paddingDrag()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ContextMenuView=window.wp.Backbone.View.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-context-menu").html()),className:"fusion-builder-context-menu",events:{'click [data-action="edit"]':"editTrigger",'click [data-action="save"]':"saveTrigger",'click [data-action="clone"]':"cloneTrigger",'click [data-action="remove"]':"removeTrigger",'click [data-action="copy"]':"copy",'click [data-action="paste-before"]':"pasteBefore",'click [data-action="paste-after"]':"pasteAfter",'click [data-action="paste-start"]':"pasteStart",'click [data-action="paste-end"]':"pasteEnd"},initialize:function(){this.copyData={data:{type:!1,content:!1}},this.getCopy(),this.elWidth=130,this.elHeight=257},render:function(){var e=this.model.event.pageX,t=this.model.event.pageY;return this.$el.html(this.template(jQuery.extend(!0,this.copyData,this.model.parent.attributes))),this.model.event.pageX+this.elWidth>jQuery("#fb-preview").width()&&(e=jQuery("#fb-preview").width()-this.elWidth),this.model.event.pageY+this.elHeight>jQuery(jQuery("#fb-preview")[0].contentWindow.document).height()&&(t=jQuery(jQuery("#fb-preview")[0].contentWindow.document).height()-this.elHeight),this.$el.css({top:t+"px",left:e+"px"}),this},editTrigger:function(e){"fusion_builder_row_inner"===this.model.parent.attributes.element_type?FusionPageBuilderApp.wireframeActive?this.model.parentView.editNestedColumn(e):this.model.parentView.editRow(e):this.model.parentView.settings(e)},saveTrigger:function(e){this.model.parentView.openLibrary(e)},cloneTrigger:function(e){switch(this.model.parent.attributes.element_type){case"fusion_builder_container":this.model.parentView.cloneContainer(e);break;case"fusion_builder_column_inner":case"fusion_builder_column":this.model.parentView.cloneColumn(e);break;case"fusion_builder_row_inner":this.model.parentView.cloneNestedRow(e);break;default:this.model.parentView.cloneElement(e)}},removeTrigger:function(e){switch(this.model.parent.attributes.element_type){case"fusion_builder_container":this.model.parentView.removeContainer(e);break;case"fusion_builder_column_inner":case"fusion_builder_column":this.model.parentView.removeColumn(e);break;case"fusion_builder_row_inner":this.model.parentView.removeRow(e);break;default:this.model.parentView.removeElement(e)}},copy:function(){var e,t=this.model.parent.attributes.element_type,i=this.model.parentView.getContent(),o=jQuery("<textarea>");jQuery("body").append(o),o.val(i).select(),document.execCommand("copy"),o.remove(),e={type:t,content:i},this.storeCopy(e)},storeCopy:function(e){"undefined"!=typeof Storage&&(localStorage.setItem("fusionCopyContent",e.content),localStorage.setItem("fusionCopyType",e.type),this.getCopy())},getCopy:function(){"undefined"!=typeof Storage&&localStorage.getItem("fusionCopyContent")&&(this.copyData.data.content=localStorage.getItem("fusionCopyContent"),this.copyData.data.type=localStorage.getItem("fusionCopyType"))},pasteAfter:function(){this.paste("after")},pasteBefore:function(){this.paste("before")},pasteStart:function(){this.paste("start")},pasteEnd:function(){this.paste("end")},paste:function(e){var t,i,o,n=this.copyData.data,s=n.type,a=n.content,r=FusionPageBuilderApp.getElementType(s),l=!1;"after"===e||"before"===e?(t=this.model.parent.attributes.parent,l=this.model.parentView.$el,"fusion_builder_container"===this.model.parent.attributes.type&&(t=this.model.parent.attributes.cid,FusionPageBuilderApp.targetContainerCID=this.model.parent.attributes.cid)):(t=this.model.parent.attributes.cid,l=!1,"fusion_builder_container"===this.model.parent.attributes.type&&(t=this.model.parentView.$el.find(".fusion-builder-row-container").first().data("cid"))),FusionPageBuilderApp.shortcodesToBuilder(a,t,!1,!1,l,e),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.pasted+" "+fusionAllElements[s].name+" "+fusionBuilderText.element),FusionEvents.trigger("fusion-content-changed"),"fusion_builder_column"!==s&&"fusion_builder_column_inner"!==s||(o=FusionPageBuilderViewManager.getView(t))&&(o.createVirtualRows(),o.updateColumnsPreview()),"child_element"===r&&("after"===e||"before"===e?(i=FusionPageBuilderViewManager.getView(t)).render():this.model.parentView.render()),"element"!==r&&"parent_element"!==r||(i=FusionPageBuilderViewManager.getView(t))&&i._equalHeights(i.model.attributes.parent),window.fusionGlobalManager.handleMultiGlobal({currentModel:this.model.parentView.model,handleType:"save",attributes:this.model.parentView.model})},removeMenu:function(e){e&&e.preventDefault(),FusionPageBuilderApp.contextMenuView=!1,this.remove()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ContextMenuInlineView=window.wp.Backbone.View.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-context-menu-inline").html()),className:"fusion-builder-context-menu fusion-builder-inline-context-menu",events:{'click [data-action="edit"]':"editShortcodeInline",'click [data-action="remove-node"]':"removeNode",'click [data-action="remove-style"]':"removeStyle"},initialize:function(){this.elWidth=105,this.elHeight=36},render:function(){var e=this.model.event.pageX,t=this.model.event.pageY,i=this.model.$target.find(" > *"),o=i.offset(),n=this;return t=o.top-this.elHeight-20,e=o.left+(i.width()-this.elWidth)/2,this.$el.html(this.template(this.model.attributes)),this.$el.css({top:t+"px",left:e+"px"}),setTimeout(function(){n.$el.addClass("fusion-builder-inline-context-menu-loaded")},50),this},editShortcodeInline:function(e){e&&e.preventDefault(),FusionPageBuilderApp.inlineEditorHelpers.getInlineElementSettings(this.model)},removeNode:function(e){var t,i,o,n,s=this.model.parentView.model.get("params");e&&e.preventDefault(),t=this.model.$target.closest(".fusion-live-editable"),this.model.$target.remove(),i=void 0!==(n=FusionPageBuilderApp.inlineEditors.getEditor(t.data("medium-editor-editor-index")))?n.getContent():t.html(),o=t.data("param"),i=i.replace(/&quot;/g,"'"),i=FusionPageBuilderApp.htmlToShortcode(i,this.model.parentView.model.get("cid")),s[o]=i,this.model.parentView.model.set("params",s),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.deleted+" "+fusionAllElements[this.model.get("element_type")].name+" "+fusionBuilderText.element)},removeStyle:function(e){e&&e.preventDefault(),FusionPageBuilderApp.inlineEditorHelpers.removeStyle(this.model),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.deleted+" "+fusionAllElements[this.model.get("element_type")].name+" "+fusionBuilderText.element)},removeMenu:function(e){e&&e.preventDefault(),FusionPageBuilderApp.contextMenuView=!1,this.remove()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ElementView=FusionPageBuilder.BaseView.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-element-template").html()),className:"fusion-builder-live-element fusion-builder-data-cid",events:{"click .fusion-builder-remove":"removeElement","click .fusion-builder-clone":"cloneElement","click .fusion-builder-settings":"settings","click .fusion-builder-container-save":"openLibrary","click .fusion-builder-element-save":"openLibrary","click .fusion-builder-element-content a:not(.fusion-lightbox):not(.rs_error_message_button)":"disableLink","click .fusion-builder-element-drag":"preventDefault","click .fusion-tb-source":"openDynamicSourcePO"},initialize:function(){var e;this.model.inlineCollection=new FusionPageBuilder.Collection,e=this.model.get("element_type"),this.renderedYet=FusionPageBuilderApp.reRenderElements,this.listenTo(FusionEvents,"fusion-view-update",this.reRender),this.listenTo(FusionEvents,"fusion-view-update-"+this.model.get("cid"),this.reRender),jQuery("#tmpl-"+this.model.attributes.element_type+"-shortcode").length?(this.model.set("noTemplate",!1),this.elementTemplate=FusionPageBuilder.template(jQuery("#tmpl-"+this.model.attributes.element_type+"-shortcode").html())):(this.model.set("noTemplate",!0),this.elementTemplate=FusionPageBuilder.template(jQuery("#tmpl-fusion_shortcode-shortcode").html())),this.model.set("editLabel",this.getEditLabel()),this.elementIsCloning=!1,this.$el.attr("data-cid",this.model.get("cid")),this.$el.attr("data-type",e),-1!==jQuery.inArray(e,["fusion_button","fusion_fontawesome","fusion_imageframe","fusion_text"])&&this.$el.addClass("fusion-builder-live-element-inline"),void 0!==this.model.attributes.params&&void 0!==this.model.attributes.params.fusion_global&&(this.$el.attr("fusion-global-layout",this.model.attributes.params.fusion_global),this.$el.removeClass("fusion-global-element").addClass("fusion-global-element")),this._refreshJs=_.debounce(_.bind(this.refreshJs,this),300),this._triggerCallback=_.debounce(_.bind(this.triggerCallback,this),200),this._updateResponsiveTypography=_.debounce(_.bind(this.updateResponsiveTypography,this),200),this._triggerColumn=_.debounce(_.bind(this.triggerColumn,this),300),this.listenTo(FusionEvents,"fusion-wireframe-toggle",this.wireFrameToggled),this.needsQuery(),this.baseInit(),this.onInit(),this.activeInlineEditing=!1,this.autoSelectEditor=!1,this.model.set("inlineEditors",[])},render:function(){var e=this;return FusionPageBuilderApp.disableDocumentWrite(),this.beforeRender(),this.$el.html(this.template(this.model.attributes)),this.renderContent(),this.renderedYet&&(this._refreshJs(),this.triggerColumn(),setTimeout(function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-typography-reset",e.model.get("cid")),800>jQuery("#fb-preview").width()&&e._updateResponsiveTypography()},100)),this.onRender(),this.needsGoogle(),this.renderedYet=!0,FusionPageBuilderApp.enableDocumentWrite(),setTimeout(function(){e.droppableElement(),e.activeInlineEditing||(FusionPageBuilderApp.inlineEditorHelpers.liveEditorEvent(e),e.activeInlineEditing=!1),FusionPageBuilderApp.inlineEditorHelpers.inlineEditorAllowed(e.model.get("element_type"))&&e.renderInlineSettings()},100),this},reRender:function(e){var t=this,i=fusionAllElements[this.model.get("element_type")];e&&"object"==typeof e&&e.preventDefault(),void 0===i.callback||void 0!==this.model.get("query_data")?(this.patchView(e),setTimeout(function(){t.droppableElement(),t.activeInlineEditing||FusionPageBuilderApp.inlineEditorHelpers.liveEditorEvent(t),t.activeInlineEditing=!1},100)):this.triggerQuery(i.callback)},flexDisplay:function(){var e=FusionPageBuilderApp.getParentContainer(this),t=FusionPageBuilderApp.getParentColumn(this),i={},o=!1;return t&&(o=void 0!==(i=t.model.get("params")).content_layout&&"block"===i.content_layout),e&&e.isFlex()&&!o},needsQuery:function(){var e,t=fusionAllElements[this.model.get("element_type")];void 0!==t.callback&&void 0===this.model.get("query_data")&&void 0===this.model.get("markup")&&(e=t.callback,this.triggerQuery(e)),this.model.get("noTemplate")&&void 0===this.model.get("markup")&&this.model.set("shortcode",FusionPageBuilderApp.generateElementShortcode(this.$el))},triggerQuery:function(e){e.args=void 0===e.args?"":e.args,e.ajax=void 0!==e.ajax&&e.ajax,e.action=void 0!==e.action&&e.action,e.cid=this.model.get("cid"),e.ajax&&("generated_element"!==this.model.get("type")&&(FusionPageBuilderApp.shortcodeAjax=!0),this._triggerCallback(!1,e))},needsGoogle:function(){var e,t,i=this.$el.find("[data-fusion-google-font]");i.length&&i.each(function(){var i=jQuery(this).attr("data-fusion-google-font");i=i.replace(/"/g,"&quot"),e=i,t=(e+=":regular").replace(/:/g,"").replace(/"/g,"").replace(/'/g,"").replace(/ /g,"").replace(/,/,""),jQuery("#fb-preview").contents().find("#"+t).length||jQuery("#fb-preview").contents().find("head").append('<script id="'+t+'">WebFont.load({google:{families:["'+e+'"]},context:FusionApp.previewWindow,active: function(){ jQuery( window ).trigger( "fusion-font-loaded"); },});<\/script>')})},triggerColumn:function(e){var t=void 0===e?this.model.attributes.parent:e;setTimeout(function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-content-changed",t)},300)},getTemplateAtts:function(){var e=fusionAllElements[this.model.get("element_type")],t=jQuery.extend(!0,{},this.model.attributes),i=jQuery.extend(!0,{},this.model.get("params")),o={},n={};return e&&void 0!==e.defaults&&(o=jQuery.extend(!0,{},e.defaults,_.fusionCleanParameters(i)),void 0!==e.extras&&(n=jQuery.extend(!0,{},e.extras))),t.values=o,t.extras=n,t=this.getDynamicAtts(t),t=this.filterTemplateAtts(t)},renderContent:function(){var e,t=this.$el.find(".fusion-builder-element-content"),i=fusionAllElements[this.model.get("element_type")];if(this.renderWireframePreview(),void 0!==i.callback&&void 0===this.model.get("query_data")&&!0===i.callback.ajax)return this.renderedYet||void 0===this.model.get("markup")?(this.addLoadingOverlay(),void this.triggerQuery(i.callback)):(e=this.model.get("markup"),void t.html(e.output+'<div class="fusion-clearfix"></div>'));t.html(this.getTemplate())},removeElement:function(e,t){var i,o=this.model.get("parent"),n=FusionPageBuilderElements.find(function(e){return e.get("cid")==o});e&&(e.preventDefault(),FusionPageBuilderViewManager.getView(o).$el.find(".fusion-builder-module-controls-container a").trigger("mouseleave"),FusionEvents.trigger("fusion-content-changed"),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.deleted+" "+fusionAllElements[this.model.get("element_type")].name+" "+fusionBuilderText.element)),this.beforeRemove(),FusionApp.deleteScripts(this.model.get("cid")),FusionPageBuilderApp.inlineEditorHelpers.removeLiveEditors(this),FusionPageBuilderViewManager.removeView(this.model.get("cid")),this.model.destroy(),FusionEvents.trigger("fusion-element-removed",this.model.get("cid")),this.triggerColumn(o),this.remove(),n.children.length&&void 0===t&&(i={currentModel:n.children.models[0],handleType:"save",attributes:n.children.models[0].attributes},fusionGlobalManager.handleMultiGlobal(i))},openDynamicSourcePO:function(e){void 0!==FusionApp.sidebarView&&FusionApp.sidebarView.openOption("dynamic_content_preview_type","po")},cloneElement:function(e){var t,i,o;e&&e.preventDefault(),void 0!==this.$el.data("type")&&-1!==this.$el.data("type").indexOf("fusion_tb_")||!0===this.elementIsCloning||(this.elementIsCloning=!0,(t=jQuery.extend(!0,{},this.model.attributes)).created="manually",t.cid=FusionPageBuilderViewManager.generateCid(),t.targetElement=this.$el,t.at_index=FusionPageBuilderApp.getCollectionIndex(this.$el),"undefined"!==t.from&&delete t.from,i=FusionPageBuilderApp.collection.add(t),this.elementIsCloning=!1,o={currentModel:i,handleType:"save",attributes:i.attributes},fusionGlobalManager.handleMultiGlobal(o),e&&(FusionEvents.trigger("fusion-content-changed"),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.cloned+" "+fusionAllElements[this.model.get("element_type")].name+" "+fusionBuilderText.element)),this.triggerColumn())},getContent:function(){return FusionPageBuilderApp.generateElementShortcode(this.$el,!1)},getPlaceholder:function(){var e=window.fusionAllElements[this.model.get("element_type")].name,t=window.fusionAllElements[this.model.get("element_type")].icon;return _.template('<div class="fusion-builder-placeholder-preview"><i class="<%= icon %>" aria-hidden="true"></i> <%= label %></div>')({icon:t,label:e})},getComponentPlaceholder:function(){return jQuery(this.getPlaceholder()).append('<span class="fusion-tb-source-separator"> - </span><a href="#" class="fusion-tb-source">'+fusionBuilderText.dynamic_source+"</a>")[0].outerHTML}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ParentElementView=FusionPageBuilder.BaseView.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-element-parent-template").html()),className:"fusion-builder-live-element fusion-builder-data-cid",events:{"click .fusion-builder-remove":"removeElement","click .fusion-builder-clone":"cloneElement","click .fusion-builder-settings":"settings","click .fusion-builder-add-child":"addChildElement","click .fusion-builder-element-save":"openLibrary","click a":"disableLink","click .fusion-builder-element-drag":"preventDefault"},initialize:function(){this.model.children=new FusionPageBuilder.Collection,this.listenTo(this.model.children,"add",this.addChildView),this.emptyPlaceholderText=void 0!==fusionAllElements[this.model.get("element_type")]?fusionBuilderText.empty_parent.replace("%s",fusionAllElements[this.model.get("element_type")].name):"",this.listenTo(FusionEvents,"fusion-view-update",this.reRender),this.listenTo(FusionEvents,"fusion-view-update-"+this.model.get("cid"),this.reRender),this.listenTo(FusionEvents,"fusion-view-update-"+this.model.get("element_type"),this.reRender),this._triggerCallback=_.debounce(_.bind(this.triggerCallback,this),200),jQuery("#tmpl-"+this.model.attributes.element_type+"-shortcode").length?(this.model.set("noTemplate",!1),this.elementTemplate=FusionPageBuilder.template(jQuery("#tmpl-"+this.model.attributes.element_type+"-shortcode").html())):(this.model.set("noTemplate",!0),this.elementTemplate=FusionPageBuilder.template(jQuery("#tmpl-fusion_shortcode-shortcode").html())),this.elementIsCloning=!1,this.mouseDown=!1,this.fetchIds=[],this.childIds=[],this.updateGallery=!1,this.model.set("editLabel",this.getEditLabel()),this.$el.attr("data-cid",this.model.get("cid")),this.$el.attr("data-type",this.model.get("element_type")),void 0!==this.model.attributes.params&&void 0!==this.model.attributes.params.fusion_global&&(this.$el.attr("fusion-global-layout",this.model.attributes.params.fusion_global),this.$el.removeClass("fusion-global-parent-element").addClass("fusion-global-parent-element")),this.baseInit(),this.renderedYet=FusionPageBuilderApp.reRenderElements,this._refreshJs=_.debounce(_.bind(this.refreshJs,this),300),this.listenTo(FusionEvents,"fusion-wireframe-toggle",this.wireFrameToggled),this.model.set("sortable",void 0===fusionAllElements[this.model.get("element_type")].sortable||fusionAllElements[this.model.get("element_type")].sortable),this.onInit()},render:function(e){var t=this;return this.$el.html(this.template(this.model.attributes)),this.renderContent(),"string"!=typeof e&&"ajax"!==e&&this.generateChildElements(),this.model.get("noTemplate")||setTimeout(function(){t.sortableChildren()},100),this.renderedYet&&this._refreshJs(),this.onRender(),this.renderedYet=!0,setTimeout(function(){t.droppableElement()},100),this},sortableChildren:function(){var e=this,t=e.$el.find(".fusion-child-element");!1!==this.model.get("sortable")&&(t.on("mousedown",function(t){jQuery(t.originalEvent.target).hasClass("fusion-live-editable")||(e.mouseDown=!0)}),t.on("mousemove",function(){e.mouseDown&&t.css({overflow:"auto"})}),t.on("mouseup",function(){e.mouseDown=!1,t.css({overflow:""})}),this.$el.find(".fusion-builder-element-content").sortable({items:".fusion-builder-live-child-element",tolerance:"pointer",appendTo:t,containment:t,cursor:"grabbing",cancel:".fusion-live-editable",zIndex:99999999,helper:"clone",scroll:!1,revert:100,start:function(){FusionPageBuilderApp.$el.addClass("fusion-builder-dragging"),t.addClass("fusion-parent-sortable")},update:function(t,i){var o,n=FusionPageBuilderViewManager.getView(i.item.data("cid")),s=i.item.parent().children(".fusion-builder-live-child-element").index(i.item);e.updateElementContent(),FusionPageBuilderApp.onDropCollectionUpdate(n.model,s,e.model.get("cid")),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.moved+" "+fusionAllElements[n.model.get("element_type")].name+" "+fusionBuilderText.element),o={currentModel:e.model,handleType:"save",attributes:e.model.attributes},fusionGlobalManager.handleMultiGlobal(o),FusionEvents.trigger("fusion-content-changed")},stop:function(){e.mouseDown=!1,t.css({overflow:""}),t.removeClass("fusion-parent-sortable"),FusionPageBuilderApp.$el.removeClass("fusion-builder-dragging")}}))},updateElementContent:function(){var e,t="";this.model.get("noTemplate")?(e=FusionPageBuilderViewManager.getChildViews(this.model.get("cid")),_.each(e,function(e){t+=e.getContent()})):this.$el.find(".fusion-builder-live-child-element").each(function(){var e=jQuery(this);t+=FusionPageBuilderApp.generateElementShortcode(e,!1)}),this.model.attributes.params.element_content=t},getTemplateAtts:function(){var e=jQuery.extend(!0,{},this.model.attributes),t=jQuery.extend(!0,{},this.model.get("params")),i={},o={},n=fusionAllElements[this.model.get("element_type")];if(void 0!==this.elementTemplate)return n&&void 0!==n.defaults&&(i=jQuery.extend(!0,{},n.defaults,_.fusionCleanParameters(t)),void 0!==n.extras&&(o=jQuery.extend(!0,{},n.extras))),e.values=i,e.extras=o,e.thisModel=this.model,e=this.getDynamicAtts(e),e=this.filterTemplateAtts(e)},renderContent:function(){void 0!==this.elementTemplate&&this.$el.find(".fusion-builder-element-content").html(this.getTemplate()),this.renderWireframePreview()},removeChildren:function(e){var t=FusionPageBuilderViewManager.getChildViews(this.model.get("cid"));e&&e.preventDefault(),_.each(t,function(e){e.removeElement("","Automated")})},removeElement:function(e,t){var i,o=this.model.get("parent"),n=FusionPageBuilderElements.find(function(e){return e.get("cid")==o});e&&(e.preventDefault(),FusionPageBuilderViewManager.getView(o).$el.find(".fusion-builder-module-controls-container a").trigger("mouseleave")),this.beforeRemove(),this.removeChildren(),FusionPageBuilderViewManager.removeView(this.model.get("cid")),FusionEvents.trigger("fusion-element-removed",this.model.get("cid")),this.model.destroy(),this.remove(),e&&FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.deleted+" "+fusionAllElements[this.model.get("element_type")].name+" "+fusionBuilderText.element),n.children.length&&void 0===t&&(i={currentModel:n.children.models[0],handleType:"save",attributes:n.children.models[0].attributes},fusionGlobalManager.handleMultiGlobal(i))},cloneElement:function(e){var t,i,o;e&&e.preventDefault(),!0!==this.elementIsCloning&&(this.elementIsCloning=!0,(t=jQuery.extend(!0,{},this.model.attributes)).created="manually",t.cid=FusionPageBuilderViewManager.generateCid(),t.targetElement=this.$el,"undefined"!==t.from&&delete t.from,i=FusionPageBuilderApp.collection.add(t),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.cloned+" "+fusionAllElements[this.model.get("element_type")].name+" "+fusionBuilderText.element),this.elementIsCloning=!1,o={currentModel:i,handleType:"save",attributes:i.attributes},fusionGlobalManager.handleMultiGlobal(o),e&&FusionEvents.trigger("fusion-content-changed"))},noTemplateAjaxUpdate:function(){this.updateElementContent(),FusionApp.callback.fusion_do_shortcode(this.model.get("cid"),this.getContent())},generateChildElements:function(e){var t=this,i=this.model.get("params"),o=this.model.attributes.params.element_content,n=jQuery.map(fusionMultiElements,function(e,t){return e}).join("|"),s=window.wp.shortcode.regexp(n),a=FusionPageBuilderApp.regExpShortcode(n),r=!1,l=void 0!==o&&o.match(s),u={};this.removeChildren(),t.model.children.reset(null),o&&(_.each(l,function(o,n){var s,d,c,h,m,p,f,g=o.match(a),b=g[2],v=""!==g[3]?window.wp.shortcode.attrs(g[3]):"",y=g[5],w=(FusionPageBuilderViewManager.generateCid(),{params:{}}),x="div",P=void 0!==fusionAllElements[b].allow_generator?fusionAllElements[b].allow_generator:"";if(void 0!==fusionAllElements[b].tag_name&&(x=fusionAllElements[b].tag_name),r=n+1===l.length,s={type:"element",element_type:b,cid:FusionPageBuilderViewManager.generateCid(),view:t,created:"auto",multi:"multi_element_child",child_element:"true",allow_generator:P,inline_editor:FusionPageBuilderApp.inlineEditorHelpers.inlineEditorAllowed(b),params:{},parent:t.model.get("cid"),tag_name:x,last:r},-1===b.indexOf("fusion_builder_")&&(void 0!==(f=FusionPageBuilderApp.extraShortcodes.byShortcode(g[0]))?s.markup=f:s.shortcode=g[0]),_.isObject(v.named)){for(d in v.named)c=d,w.params[c]=v.named[d];s=_.extend(s,w)}s.params.element_content=y,void 0!==fusionAllElements[b].selectors&&(s.selectors=jQuery.extend(!0,{},fusionAllElements[b].selectors)),void 0!==fusionAllElements[b].option_dependency&&(h=fusionAllElements[b].option_dependency,m=w.params[h],p=w.params.element_content,w.params[m]=p),!0===e&&"fusion_content_box"===moduleType&&(s.params.iconcolor="",s.params.backgroundcolor="",s.params.circlecolor="",s.params.circlebordercolor="",s.params.circlebordersize="",s.params.outercirclebordercolor="",s.params.outercirclebordersize="",s.params.animation_type=i.animation_type,s.params.animation_direction=i.animation_direction,s.params.animation_speed=i.animation_speed,s.params.link_target=i.link_target),u[s.cid]=s}),this.onGenerateChildElements(u),_.each(u,function(e){t.model.children.add([e])}))},onGenerateChildElements:function(e){},addChildElement:function(e){var t,i,o,n,s,a,r,l={},u="div";e&&e.preventDefault(),s=fusionMultiElements[this.model.get("element_type")],t=fusionAllElements[s].params,n=void 0!==fusionAllElements[s].allow_generator?fusionAllElements[s].allow_generator:"",_.each(t,function(e){i=_.isObject(e.value)?e.default:e.value,l[e.param_name]=i}),void 0!==fusionAllElements[s].tag_name&&(u=fusionAllElements[s].tag_name),o={type:"element",element_type:s,cid:FusionPageBuilderViewManager.generateCid(),view:this,created:"manually",multi:"multi_element_child",child_element:"true",params:l,allow_generator:n,inline_editor:FusionPageBuilderApp.inlineEditorHelpers.inlineEditorAllowed(s),parent:this.model.get("cid"),tag_name:u,last:!0},void 0!==fusionAllElements[s].selectors&&(o.selectors=jQuery.extend(!0,{},fusionAllElements[s].selectors)),void 0!==e&&jQuery(e.currentTarget).closest(".fusion-builder-live-child-element").length&&!FusionPageBuilderApp.wireframeActive&&(o.targetElement=jQuery(e.currentTarget).closest(".fusion-builder-live-child-element")),a=this.model.children.add([o]),this.model.get("noTemplate")&&this.noTemplateAjaxUpdate(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.added+" "+fusionAllElements[s].name+" "+fusionBuilderText.element),r={currentModel:a[0],handleType:"changeOption"},fusionGlobalManager.handleMultiGlobal(r),FusionEvents.trigger("fusion-content-changed"),this.childViewAdded()},afterPatch:function(){var e=this;this.generateChildElements(),setTimeout(function(){e.droppableElement()},100)},addChildView:function(e){var t,i={model:e,collection:FusionPageBuilderElements};t=void 0!==FusionPageBuilder[e.get("element_type")]?new(FusionPageBuilder[e.get("element_type")])(i):new FusionPageBuilder.ChildElementView(i),FusionPageBuilderViewManager.addView(e.get("cid"),t),void 0!==e.get("targetElement")?void 0===e.get("targetElementPosition")||"after"===e.get("targetElementPosition")?e.get("targetElement").after(t.render().el):e.get("targetElement").before(t.render().el):void 0===e.get("targetElementPosition")||"end"===e.get("targetElementPosition")?this.$el.find(".fusion-child-element").append(t.render().el):this.$el.find(".fusion-child-element").prepend(t.render().el),this.appendContents(t),this.updateElementContent()},childViewAdded:function(){},childViewRemoved:function(){},childViewCloned:function(){},appendContents:function(e){var t,i,o,n=this,s=e.model.get("extraAppend");if(void 0!==s){if(t=s.contents,i=s.selector,o=s.existing,"object"==typeof s.existing)return void _.each(s.existing,function(e,o){n.$el.find(i).remove(e),n.$el.find(i).append(t[o])});this.$el.find(i).remove(o),this.$el.find(i).append(t)}},delegateChildEvents:function(){var e;this.model.children.each(function(t){e=t.attributes.cid,FusionPageBuilderViewManager.getView(e).delegateEvents()})},setContent:function(e){this.model.attributes.params.element_content=e,this.reRender()},getContent:function(){return FusionPageBuilderApp.generateElementShortcode(this.$el,!1)},appendChildren:function(e){var t,i,o=this;this.model.children.each(function(n){t=n.attributes.cid,i=FusionPageBuilderViewManager.getView(t),o.$el.find(e).append(i.$el),i.reRender()}),this.delegateChildEvents()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ChildElementView=FusionPageBuilder.BaseView.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-child-element-template").html()),className:"fusion-builder-live-child-element fusion-builder-data-cid",tagName:function(){return this.model.get("tag_name")},events:{"click .fusion-builder-remove-child":"removeElement","click .fusion-builder-clone-child":"cloneElement","click .fusion-builder-settings-child":"settings","click a":"disableLink"},initialize:function(){var e=this.model.get("parent"),t=FusionPageBuilderElements.find(function(t){return t.get("cid")==e});this.model.inlineCollection=new FusionPageBuilder.Collection,this._triggerCallback=_.debounce(_.bind(this.triggerCallback,this),200),this.listenTo(FusionEvents,"fusion-child-view-update",this.reRender),this.listenTo(FusionEvents,"fusion-view-update-"+this.model.get("cid"),this.reRender),this.listenTo(FusionEvents,"fusion-view-update-"+this.model.get("element_type"),this.reRender),jQuery("#tmpl-"+this.model.attributes.element_type+"-shortcode").length?(this.model.set("noTemplate",!1),this.elementTemplate=FusionPageBuilder.template(jQuery("#tmpl-"+this.model.attributes.element_type+"-shortcode").html())):(this.model.set("noTemplate",!0),this.elementTemplate=FusionPageBuilder.template(jQuery("#tmpl-fusion_shortcode-shortcode").html())),this.elementIsCloning=!1,this.model.set("editLabel",this.getEditLabel()),this._refreshJs=_.debounce(_.bind(this.refreshJs,this),300),this.$el.attr("data-cid",this.model.get("cid")),this.$el.attr("data-parent-cid",this.model.get("parent")),this.$el.attr("data-element-type",this.model.get("element_type")),void 0!==this.model.attributes.params&&void 0!==this.model.attributes.params.fusion_global&&(this.$el.attr("fusion-global-layout",this.model.attributes.params.fusion_global),this.$el.removeClass("fusion-global-child-element").addClass("fusion-global-child-element")),t.get("sortable")||this.$el.attr("data-fusion-no-dragging",!0),this.model.set("sortable",t.get("sortable")),this.baseInit(),this.onInit(),this.activeInlineEditing=!1,this.autoSelectEditor=!1,this.model.set("inlineEditors",[])},render:function(){var e=this;return this.$el.html(this.template(this.model.attributes)),this.renderContent(),void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),void 0!==this.model.attributes.extraAppend&&this.updateExtraContents(),this.$el.find(".fusion-builder-module-controls-container").on("mouseenter mouseleave",_.bind(this.changeParentContainerControlsZindex,this)),this.onRender(),this._refreshJs(),setTimeout(function(){e.activeInlineEditing||(FusionPageBuilderApp.inlineEditorHelpers.liveEditorEvent(e),e.activeInlineEditing=!1),FusionPageBuilderApp.inlineEditorHelpers.inlineEditorAllowed(e.model.get("element_type"))&&e.renderInlineSettings()},100),this},afterPatch:function(){this._refreshJs()},changeParentContainerControlsZindex:function(e){"mouseenter"===e.type?this.$el.closest(".fusion-builder-container").find(".fusion-builder-module-controls-container-wrapper").css("z-index","0"):this.$el.closest(".fusion-builder-container").find(".fusion-builder-module-controls-container-wrapper").removeAttr("style")},updateExtraContents:function(){var e=this,t=this.model.get("extraAppend"),i=t.contents,o=t.existing;"object"==typeof t.existing?_.each(o,function(t,o){e.updateSingleExtraContent(t,i[o])}):this.updateSingleExtraContent(o,i),void 0!==this.model.attributes.extraAppend.trigger&&this.$el.find('a[id="'+this.model.attributes.extraAppend.trigger.replace("#","")+'"]').closest("li").trigger("click")},updateSingleExtraContent:function(e,t){this.$el.closest(".fusion-builder-live-element").find(e).length&&this.$el.closest(".fusion-builder-live-element").find(e).replaceWith(FusionPageBuilderApp.renderContent(t,this.model.get("cid"),this.model.get("parent")))},removeExtraContents:function(){var e,t,i,o=this.$el.closest(".fusion-builder-live-element");void 0!==this.model.attributes.extraAppend&&void 0!==this.model.attributes.extraAppend.existing&&((e=o.find(this.model.attributes.extraAppend.existing)).hasClass("active")&&"fusion_tab"===this.model.get("element_type")&&(i=e.siblings().first()).length&&(i.addClass("active in"),t=i.attr("id"),o.find('[href="#'+t+'"]').closest(".fusion-builder-live-child-element").addClass("active")),e.remove())},setElementAttributes:function(e,t){var i;"object"==typeof t&&e.length&&_.each(t,function(t,o){"class"===o?e.attr("class",t):"id"===o?e.attr("id",t):"style"===o?e.attr("style",t):-1!==o.indexOf("data")&&(i=o.replace("data-",""),e.data(i)&&(e=jQuery("#fb-preview")[0].contentWindow.jQuery(e)).data(i,t),o=o.replace(/_/g,"-"),e.attr(o,t))})},getTemplateAtts:function(){var e,t=jQuery.extend(!0,{},this.model.attributes),i=jQuery.extend(!0,{},this.model.get("params")),o={},n={},s=fusionAllElements[this.model.get("element_type")],a=this.model.get("parent"),r={},l="";if(void 0!==this.elementTemplate)return(e=FusionPageBuilderElements.find(function(e){return e.get("cid")==a}))&&void 0!==fusionAllElements[e.get("element_type")]&&(r=jQuery.extend(!0,{},fusionAllElements[e.get("element_type")].defaults,_.fusionCleanParameters(e.get("params")))),s&&void 0!==s.defaults&&(void 0!==r.element_content&&(l=r.element_content,delete r.element_content),o=jQuery.extend(!0,{},s.defaults,r,_.fusionCleanParameters(i)),r.element_content=l,void 0!==s.extras&&(n=jQuery.extend(!0,{},s.extras))),t.parentValues=r,t.values=o,t.extras=n,t.thisModel=this.model,t.parentModel=e,t=this.getDynamicAtts(t),t=this.filterTemplateAtts(t)},renderContent:function(){void 0===this.elementTemplate?this.$el.find(".fusion-builder-child-element-content").html("no template found"):this.$el.find(".fusion-builder-child-element-content").html(this.getTemplate())},removeElement:function(e,t){var i,o=this.model.get("parent"),n=FusionPageBuilderViewManager.getView(this.model.get("parent")),s=FusionPageBuilderElements.find(function(e){return e.get("cid")==o});e&&(e.preventDefault(),n.$el.find(".fusion-builder-module-controls-container a").trigger("mouseleave")),this.beforeRemove(),this.removeExtraContents(),FusionPageBuilderViewManager.removeView(this.model.get("cid")),FusionPageBuilderApp.inlineEditorHelpers.removeLiveEditors(this),this.model.destroy(),FusionEvents.trigger("fusion-element-removed",this.model.get("cid")),this.remove(),e&&(this.forceUpdateParent(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.deleted+" "+fusionAllElements[this.model.get("element_type")].name+" "+fusionBuilderText.element)),s.children.length&&void 0===t&&(i={currentModel:s.children.models[0],handleType:"save",attributes:s.children.models[0].attributes},fusionGlobalManager.handleMultiGlobal(i)),e&&n.childViewCloned()},forceUpdateParent:function(){var e=FusionPageBuilderViewManager.getView(this.model.get("parent"));void 0!==e&&(e.updateElementContent(),e.refreshJs()),this.ajaxUpdateParent(e)},ajaxUpdateParent:function(e){(e=void 0===e?FusionPageBuilderViewManager.getView(this.model.get("parent")):e).model.get("noTemplate")&&e.noTemplateAjaxUpdate()},cloneElement:function(e){var t,i,o,n,s=FusionPageBuilderViewManager.getView(this.model.get("parent")),a=this;i=this.collection.find(function(e){return e.get("cid")==a.model.get("parent")}),e&&e.preventDefault(),!0!==this.elementIsCloning&&(this.elementIsCloning=!0,(t=jQuery.extend(!0,{},this.model.attributes)).created="manually",t.cid=FusionPageBuilderViewManager.generateCid(),t.targetElement=this.$el,t.at_index=FusionPageBuilderApp.getCollectionIndex(this.$el),"fusion_gallery_image"===this.model.get("element_type")&&(t.cloned=!0),"undefined"!==t.from&&delete t.from,FusionPageBuilderApp.addToChildCollection(t),o=i.children.find(function(e){return e.get("cid")==t.cid}),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.cloned+" "+fusionAllElements[this.model.get("element_type")].name+" "+fusionBuilderText.element),n={currentModel:o,handleType:"save",attributes:o.attributes},fusionGlobalManager.handleMultiGlobal(n),this.elementIsCloning=!1,this.forceUpdateParent(),e&&FusionEvents.trigger("fusion-content-changed"),s.childViewCloned())},getContent:function(){return FusionPageBuilderApp.generateElementShortcode(this.$el,!1)},isFirstChild:function(){var e=this;return 0===FusionPageBuilderApp.collection.find(function(t){return t.get("cid")===e.model.get("parent")}).children.indexOf(this.model)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.RowView=FusionPageBuilder.BaseRowView.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-row-template").html()),className:"fusion_builder_row",events:{"click .fusion-builder-insert-column":"displayColumnsOptions"},initialize:function(){this.baseRowInit(),this.nestedRow=!1,this.model.set("rows",{}),this.model.children=new FusionPageBuilder.Collection,this.listenTo(this.model.children,"add",this.addChildView),this.listenTo(FusionEvents,"fusion-builder-loaded",this.updateColumnsPreview),this.listenTo(FusionEvents,"fusion-wireframe-toggle",this.wireFrameToggled),this.listenTo(FusionEvents,"fusion-builder-loaded",this.legacyColumns)},render:function(e){var t=this;return e=void 0!==e&&e,this.$el.html(this.template(this.getTemplateAtts())),this.appendChildren(),setTimeout(function(){t.droppableColumn()},100),"manually"===this.model.get("created")||e||this.displayContainerLibrary(),this},attr:function(){var e,t,i,o={style:""},n=FusionPageBuilderApp.getParentContainer(this),s=n&&n.isFlex();return n?(e=jQuery.extend(!0,{},fusionAllElements.fusion_builder_container.defaults,_.fusionCleanParameters(n.model.attributes.params)),o.class="fusion-builder-row-container fusion-builder-row fusion-row",o["data-cid"]=this.model.get("cid"),s&&(o.class+=" fusion-flex-align-items-"+e.flex_align_items,"stretch"!==e.align_content&&(o.class+=" fusion-flex-align-content-"+e.align_content),"flex-start"!==e.flex_justify_content&&(o.class+=" fusion-flex-justify-content-"+e.flex_justify_content),t="yes"===e.hundred_percent?"100%":fusionAllElements.fusion_builder_row.extras.site_width,"%"===fusionSanitize.get_unit(e.flex_column_spacing)?(i=fusionSanitize.number(e.flex_column_spacing),t=fusionSanitize.number(t)*(1+i/100)+fusionSanitize.get_unit(t)):t="calc( "+t+" + "+e.flex_column_spacing+" )","no"===e.hundred_percent&&(o.style+="max-width:"+t+";"),o.style+="margin-left: calc(-"+e.flex_column_spacing+" / 2 );",o.style+="margin-right: calc(-"+e.flex_column_spacing+" / 2 );"),o):o},getTemplateAtts:function(){return{attr:this.attr()}},displayColumnsOptions:function(e){var t,i;e&&e.preventDefault(),FusionPageBuilderApp.parentRowId=this.model.get("cid"),t={model:this.model,collection:this.collection},jQuery(e.currentTarget).closest(".fusion-builder-column").length&&!FusionPageBuilderApp.wireframeActive&&(t.targetElement=jQuery(e.currentTarget).closest(".fusion-builder-column")),i=new FusionPageBuilder.ColumnLibraryView(t),jQuery(i.render().el).dialog({title:"Select Column",width:FusionApp.dialog.dialogWidth,height:FusionApp.dialog.dialogHeight,draggable:!1,modal:!0,resizable:!1,dialogClass:"fusion-builder-dialog fusion-builder-large-library-dialog fusion-builder-columns-library-dialog",open:function(){FusionApp.dialog.resizeDialog()},close:function(){i.remove()}})},displayContainerLibrary:function(e){var t,i,o;e&&e.preventDefault(),FusionPageBuilderApp.parentRowId=this.model.get("cid"),o=FusionPageBuilderViewManager.getView(this.model.get("parent")),t={model:this.model,collection:this.collection},i=new FusionPageBuilder.ContainerLibraryView(t),jQuery(i.render().el).dialog({title:"Select Container",width:FusionApp.dialog.dialogWidth,height:FusionApp.dialog.dialogHeight,draggable:!1,modal:!0,resizable:!1,dialogClass:"fusion-builder-dialog fusion-builder-large-library-dialog fusion-builder-container-library-dialog",open:function(){FusionApp.dialog.resizeDialog()},close:function(){o.removeContainer(),i.remove()}})},removeRow:function(e){var t;e&&e.preventDefault(),t=FusionPageBuilderViewManager.getChildViews(this.model.get("cid")),_.each(t,function(e){e.removeColumn()}),FusionPageBuilderViewManager.removeView(this.model.get("cid")),this.model.destroy(),this.remove(),this.setRowData(),e&&FusionEvents.trigger("fusion-content-changed")},droppableColumn:function(){var e=this.$el,t=this;e&&e.find(".fusion-builder-empty-container .fusion-column-target").droppable({tolerance:"touch",hoverClass:"ui-droppable-active",accept:".fusion-builder-column",drop:function(i,o){var n,s,a=o.draggable.data("cid"),r=FusionPageBuilderViewManager.getView(a),l=r.model.get("parent");e.find(".fusion-builder-empty-container").after(o.draggable),s=o.draggable.parent().children(".fusion-builder-column").index(o.draggable),FusionPageBuilderApp.onDropCollectionUpdate(r.model,s,t.model.get("cid")),t.setRowData(),t.model.get("cid")!==l&&(n=FusionPageBuilderViewManager.getView(l)).setRowData(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.column+" order changed"),setTimeout(function(){"object"!=typeof n||FusionPageBuilderApp.sameContainerTypes(n.get("parent"),t.model.get("parent"))?r.droppableColumn():(FusionEvents.trigger("fusion-close-settings-"+r.model.get("cid")),r.reRender())},300)}})},appendChildren:function(){var e,t,i=this;this.model.children.each(function(o){e=o.attributes.cid,t=FusionPageBuilderViewManager.getView(e),i.$el.find(".fusion-builder-row-container").append(t.$el),t.delegateEvents()})},addChildView:function(e){var t,i={model:e,collection:FusionPageBuilderElements,attributes:{"data-cid":e.get("cid")},className:"fusion-builder-column fusion-builder-column-outer"};"string"==typeof e.attributes.params.type&&e.attributes.params.type.includes("_")&&(i.className+=" fusion-builder-column-"+e.attributes.params.type),t=new FusionPageBuilder.ColumnView(i),this.createVirtualRows(),_.isUndefined(e.get("cloned"))||!0!==e.get("cloned")||(e.targetElement=t.$el,e.unset("cloned")),FusionPageBuilderViewManager.addView(e.get("cid"),t),_.isUndefined(e.get("targetElement"))||void 0!==e.get("from")?(void 0===e.get("targetElementPosition")||"end"===e.get("targetElementPosition")?this.$el.find(".fusion-builder-row-container").append(t.render().el):this.$el.find(".fusion-builder-row-container").prepend(t.render().el),e.unset("from")):void 0===e.get("targetElementPosition")||"after"===e.get("targetElementPosition")?e.get("targetElement").after(t.render().el):e.get("targetElement").before(t.render().el),this.updateColumnsPreview()},delegateChildEvents:function(){var e,t;this.model.children.each(function(i){e=i.attributes.cid,(t=FusionPageBuilderViewManager.getView(e)).delegateEvents(),t.delegateChildEvents(),t.droppableColumn()})},wireFrameToggled:function(){FusionPageBuilderApp.wireframeActive?this.enableSortableColumns():this.disableSortableColumns()},recalculateMargins:function(){var e=this.attr();this.$el.find(".fusion-builder-row-container").first().attr("style",e.style)},disableSortableColumns:function(){var e=this.$el.find(".fusion-builder-row-container");void 0!==e.sortable("instance")&&(e.enableSelection(),e.sortable("disable"))},sortableColumns:function(){var e=this.$el.find(".fusion-builder-row-container"),t=".fusion-builder-column-outer",i=this;e.sortable({cancel:".fusion-builder-column-settings, .fusion-builder-column-size, .fusion-builder-column-clone, .fusion-builder-column-save, .fusion-builder-column-remove, .fusion-builder-add-element, .column-sizes",items:t,connectWith:".fusion-builder-row-container",tolerance:"pointer",appendTo:e.parent(),helper:"clone",update:function(e,t){i.onSortUpdate(e,t)},stop:function(e,o){i.onSortStop(e,o,t)}}).disableSelection()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.DynamicSelection=window.wp.Backbone.View.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-dynamic-selection").html()),className:"fusion-builder-dynamic-selection option-field",events:{},render:function(){var e,t=this.model.get("option");return t.length&&t.attr("data-dynamic-selection",!0),e={params:FusionPageBuilderApp.dynamicValues.getOrderedParams(),option:t.attr("data-option-type")},this.$el.html(this.template(e)),this.initSelect(),this},initSelect:function(){var e=this,t=this.model.get("parent"),i=this.model.get("option"),o=this.model.get("param"),n=this.$el.find(".fusion-select-field"),s=n.find(".fusion-select-preview-wrap"),a=n.find(".fusion-select-search input");n.hasClass("fusion-select-inited")||(n.addClass("fusion-select-inited"),n.find(".fusion-select-optiongroup").each(function(){(jQuery(this).next().hasClass("fusion-select-optiongroup")||0===jQuery(this).next().length)&&jQuery(this).remove()}),s.on("click",function(e){var t=n.hasClass("fusion-open");e.preventDefault(),t?(n.removeClass("fusion-open"),a.length&&a.val("").blur(),n.find(".fusion-select-label").css("display","block")):(n.addClass("fusion-open"),a.length&&a.focus())}),n.on("click",".fusion-select-label",function(){t.elementView.dynamicParams.addParam(o,jQuery(this).data("value")),t.initEditDynamic(i.find(".fusion-dynamic-content"),!0),e.removeView()}),a.on("keyup change paste",function(){var e=jQuery(this).val(),t=n.find(".fusion-select-label");"keyup"!==event.type||13!==event.keyCode||1!==n.find(".fusion-select-label:visible").length?_.each(t,function(t){-1===jQuery(t).html().toLowerCase().indexOf(e.toLowerCase())?jQuery(t).css("display","none"):jQuery(t).css("display","block")}):n.find(".fusion-select-label:visible").trigger("click")}))},removeView:function(){var e=this.model.get("option"),t=this.model.get("parent");this.$el.remove(),t&&(t.dynamicSelection=!1),e.length&&e.attr("data-dynamic-selection",!1),this.model.destroy(),this.remove()}})}),(FusionPageBuilder=FusionPageBuilder||{}).options=FusionPageBuilder.options||{},FusionPageBuilder.options.fusionDynamicData={optionDynamicData:function(e){var t=this;(e=e||this.$el).find('[data-dynamic="true"] .fusion-dynamic-content').each(function(){t.initEditDynamic(jQuery(this))})},initEditDynamic:function(e,t){var i=this.elementView.dynamicParams.getAll(),o=this,n=FusionPageBuilder.template(jQuery("#fusion-app-repeater-fields").html()),s=e.closest(".fusion-builder-option").attr("data-option-id"),a=FusionPageBuilderApp.dynamicValues.getOptions(),r="object"==typeof i&&"object"==typeof i[s]?i[s]:{data:void 0},l=!(!r||"object"!=typeof a[r.data])&&a[r.data],u=!!l&&l.fields,d=l&&"string"==typeof l.label?l.label:r.data,c="",h=e.find(".dynamic-param-fields"),m=jQuery.extend(!0,{},FusionApp.data.dynamicCommon),p="object"==typeof l.exclude&&_.values(l.exclude),f=!(!l||"object"!=typeof l.callback||void 0===l.callback.ajax)&&l.callback.ajax;"object"==typeof i[s]&&(p&&"object"==typeof m&&_.each(m,function(e,t){-1!==_.indexOf(p,t)&&delete m[t]}),"object"!=typeof m||_.isEmpty(m)||(u="object"==typeof u?_.extend(u,m):m),h.empty(),u&&(_.each(u,function(e,t){var i=r[t];c+=jQuery(n({field:e,value:i})).html()}),h.append(c)),l&&(e.find(".dynamic-title h3").text(d),e.find(".dynamic-wrapper").attr("data-id",r.data).attr("data-ajax",f)),e.off("click"),e.on("click",".dynamic-title",function(){jQuery(this).parent().find(".dynamic-param-fields").slideToggle(300),jQuery(this).find(".dynamic-toggle-icon").hasClass("fusiona-pen")?jQuery(this).find(".dynamic-toggle-icon").removeClass("fusiona-pen").addClass("fusiona-minus"):jQuery(this).find(".dynamic-toggle-icon").removeClass("fusiona-minus").addClass("fusiona-pen")}),e.on("click",".dynamic-remove.fusiona-trash-o",function(t){t.preventDefault(),o.removeDynamicData(e)}),"function"==typeof this.initOptions&&this.initOptions(e),void 0!==t&&t&&(e.find(".dynamic-param-fields").show(),e.find(".dynamic-toggle-icon").removeClass("fusiona-pen").addClass("fusiona-minus")))},removeDynamicData:function(e){var t=e.closest(".fusion-builder-option").attr("data-option-id");void 0!==this.elementView&&this.elementView.dynamicParams.removeParam(t)},setDynamicParamValue:function(e,t,i){var o=e.parent().closest(".fusion-builder-option").attr("data-option-id");void 0!==this.elementView&&this.elementView.dynamicParams.updateParam(o,t,i)}};FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.ElementSettingsView=window.wp.Backbone.View.extend({className:"fusion_builder_module_settings",template:FusionPageBuilder.template(jQuery("#fusion-builder-block-module-settings-template").html()),optionHasChanged:!1,events:{'click [id$="fusion_shortcodes_text_mode"]':"activateSCgenerator","change input":"optionChange","keyup input:not(.fusion-slider-input)":"optionChange","change select":"optionChange","keyup textarea":"optionChange","change textarea":"optionChange","paste textarea":"optionChangePaste","fusion-change input":"optionChange","click .upload-image-remove":"removeImage","click .option-preview-toggle":"previewToggle","click .insert-slider-video":"addSliderVideo","click .fusion-panel-shortcut:not(.dialog-more-menu-item)":"defaultPreview","click .fusion-panel-description":"showHideDescription","click #fusion-close-element-settings":"saveSettings","click .fusion-builder-go-back":"openParent","click .option-dynamic-content":"addDynamicContent","click .option-has-responsive":"showResponsiveOptions","click .fusion-responsive-options li a":"changeResponsiveOption","mouseleave .fusion-builder-option":"hideResponsiveOptions"},initialize:function(){this.onSettingsCallback(),this.elementView=FusionPageBuilderViewManager.getView(this.model.get("cid")),this.loadComplete=!1,this.codeEditorOption=!1,this.changesPaused=!1,this._refreshJs=_.debounce(_.bind(this.refreshJs,this),300),void 0!==fusionAllElements[this.model.get("element_type")].has_ajax&&void 0===this.model.get("query_data")&&this.elementView.triggerAjaxCallbacks(!0),this.tabsRendered={},this.initOptions=_.debounce(_.bind(this.debouncedInitOptions,this),50),this.listenTo(FusionEvents,"fusion-tab-changed",this.initOptions),this.listenTo(FusionEvents,"fusion-inline-edited",this.forceChange),this.childSortableView=!1,this.activeStates={},this.$targetEl=void 0!==this.elementView&&this.elementView.$el,this._tempStateRemove=_.debounce(_.bind(this.tempStateRemove,this),3e3),this.parentValues=!!this.getParentValues()&&this.getParentValues(),this.$el.attr("data-cid",this.model.get("cid")),this.$el.addClass(this.containerIsFlex()?"has-flex":""),this.$el.addClass(this.columIsBlockLayout()?"has-block-column":""),this.type="EO",this.onInit(),this.listenTo(FusionEvents,"fusion-element-removed",this.removeView),this.listenTo(FusionEvents,"fusion-preview-refreshed",this.saveSettings),this.listenTo(FusionEvents,"fusion-close-settings-"+this.model.get("cid"),this.saveSettings),this.listenTo(FusionEvents,"fusion-param-changed-"+this.model.get("cid"),this.paramChanged),this.listenTo(FusionEvents,"fusion-default-changed-"+this.model.get("cid"),this.defaultChanged),this.listenTo(FusionEvents,"fusion-row-nested-edit",this.saveSettings),"dialog"===FusionApp.preferencesData.editing_mode||"generated_element"===this.model.get("type")||this.$el.hasClass("fusion-builder-settings-chart-table-dialog")||this.$el.addClass("fusion-builder-custom-tab"),"generated_element"===this.model.get("type")&&FusionEvents.trigger("fusion-history-pause-tracking"),this.newElement=!1,void 0!==this.model.get("added")&&(this.newElement=!0),this.listenTo(FusionEvents,"fusion-dynamic-data-removed",this.removeDynamicStatus),this.listenTo(FusionEvents,"fusion-dynamic-data-added",this.addDynamicStatus),this.dynamicSelection=!1,this.debouncedOptionChanges={}},render:function(){return this.renderOptions(),this.initOptions(),this.model.unset("added"),this.dependencies=new FusionPageBuilder.Dependencies(fusionAllElements[this.model.get("element_type")].params,this),FusionApp.dialog.dialogTabs(this.$el),this.loadComplete=!0,"undefined"!==this.model.get("multi")&&"multi_element_parent"===this.model.get("multi")&&this.appendChildSortables(),FusionEvents.trigger("fusion-settings-modal-open"),-1!==this.model.get("element_type").indexOf("fusion_builder_column")&&this.setDirectionAttribute(),this.onRender(),this.checkPageTemplate(),this.inlineHistoryListener(),this},setDirectionAttribute:function(){var e,t=this.$el.find('[data-option-id="content_layout"]');t.length&&(e=t.find("#content_layout").val(),t.attr("data-direction",e))},containerIsFlex:function(){var e=FusionPageBuilderApp.getParentContainer(this.model.get("cid"));return e&&e.isFlex()},columIsBlockLayout:function(){var e=FusionPageBuilderApp.getParentColumn(this.model.get("cid"));return e&&e.isBlockLayout()&&"fusion_builder_column"!==this.model.get("element_type")&&"fusion_builder_column_inner"!==this.model.get("element_type")},addDynamicContent:function(e){var t,i=jQuery(e.target).closest(".fusion-builder-option"),o=i.attr("data-option-id"),n=!1;this.dynamicSelection&&(o===this.dynamicSelection.model.get("param")&&(n=!0),this.dynamicSelection.removeView()),n||(t={model:new FusionPageBuilder.Element({param:o,option:i,parent:this})},this.dynamicSelection=new FusionPageBuilder.DynamicSelection(t),i.find(".fusion-dynamic-selection").html(this.dynamicSelection.render().el))},removeDynamicStatus:function(e){this.$el.find('.fusion-builder-option[data-option-id="'+e+'"]').attr("data-dynamic",!1),this.$el.find("#"+e).trigger("fusion-change")},addDynamicStatus:function(e){this.$el.find('.fusion-builder-option[data-option-id="'+e+'"]').attr("data-dynamic",!0),this.$el.find("#"+e).trigger("fusion-change")},onRender:function(){},reRender:function(){var e=this.$el.closest(".ui-dialog");this.tabsRendered={},this.destroyOptions(),this.render(),e.length?(e.find(".ui-dialog-titlebar + .fusion-builder-modal-top-container").remove(),e.find(".ui-dialog-titlebar").after(this.$el.find(".fusion-builder-modal-top-container"))):FusionPageBuilderApp.SettingsHelpers.renderDialogMoreOptions(this)},inlineHistoryListener:function(){var e,t=this;this.model.get("inlineElement")&&void 0!==this.model.parentView&&(e=this.model.parentView.model.get("cid"),setTimeout(function(){t.listenTo(FusionEvents,"fusion-param-changed-"+e,function(){t.removeView(e)})},1e3))},forceChange:function(){this.optionHasChanged=!0},appendChildSortables:function(){var e,t={model:this.model,collection:this.collection,attributes:{settingsView:this}};e=new FusionPageBuilder.ElementSettingsParent(t),this.$el.find(".fusion-child-sortables").html(e.render().el),this.childSortableView=e},onSettingsCallback:function(){var e,t,i;void 0!==fusionAllElements[this.model.get("element_type")].on_settings&&(e=fusionAllElements[this.model.get("element_type")].on_settings,"function"==typeof FusionPageBuilderApp[e]&&(t=this.model.get("params"),i=FusionPageBuilderApp[e](t,this),this.model.set("params",i)))},optionChangePaste:function(e){var t=this;setTimeout(function(){t.optionChange(e)},200)},optionChange:function(e){var t=jQuery(e.target),i=t.closest(".fusion-builder-option"),o=this.getParamName(t,i),n=i.closest(".dynamic-wrapper"),s=!1,a="tinymce"===i.data("option-type")?300:500;this.changesPaused||t.is(".fusion-slider-input.fusion-with-default")||(n.length&&n.attr("data-ajax")&&"before"!==o&&"after"!==o&&"fallback"!==o&&(s=i.closest(".dynamic-wrapper").attr("data-ajax")),!jQuery(e.target).hasClass("fusion-skip-debounce")&&(this.model.get("noTemplate")||jQuery(e.target).hasClass("fusion-debounce-change")||s||"tinymce"===i.data("option-type"))?(this.debouncedOptionChanges[o]||(this.debouncedOptionChanges[o]=_.debounce(_.bind(this.optionChanged,this),a)),this.debouncedOptionChanges[o](e)):this.optionChanged(e))},customOnChangeCallback:function(){var e;void 0!==fusionAllElements[this.model.get("element_type")].on_change&&(e=fusionAllElements[this.model.get("element_type")].on_change,"function"==typeof FusionApp.callback[e]&&(this.model.attributes=FusionApp.callback[e](jQuery.extend(!0,{},this.model.attributes),this)))},getParamName:function(e,t){var i=t.data("option-id");return(e.closest(".fusion-builder-option").hasClass("font_family")||e.closest(".fusion-builder-option.dimension").length&&!e.closest(".single-builder-dimension").length)&&(i=e.attr("name")),i},getParamValue:function(e){var t=e.val();return e.closest(".fusion-builder-option.code").length&&(t=this.codeEditorOption[e.closest(".fusion-builder-option.code").attr("data-index")].getValue(),1===Number(FusionApp.settings.disable_code_block_encoding)&&(t=FusionPageBuilderApp.base64Encode(t))),e.hasClass("fusion-builder-raw-textarea")&&(t=FusionPageBuilderApp.base64Encode(t)),e.closest(".fusion-builder-option").hasClass("escape_html")&&(t=_.escape(t)),e.hasClass("fusion-multi-select-option")&&(t=[],jQuery.each(e.parent().find("> .fusion-multi-select-option:checked"),function(e,i){t.push(jQuery(i).val())}),t=t.join(",")),t},shouldContinue:function(e,t,i,o){var n,s,a=!!this.$el.find(".fusion-tab-content.active").length&&this.$el.find(".fusion-tab-content.active").attr("id");if(e.closest(".fusion-builder-option.subgroup").length)return!1;if(e.closest(".fusion-builder-option.repeater").length&&!e.hasClass("fusion-repeater-value"))return n=e.closest(".repeater-row").index(),this.setRepeaterValue(e.closest(".fusion-builder-option.repeater").find(".fusion-repeater-value"),t,n,i),!1;if(e.closest(".fusion-dynamic-content").length)return this.setDynamicParamValue(e.closest(".fusion-builder-option"),t,i),!1;if(e.hasClass("fusion-always-update"))return!0;if(e.hasClass("fusion-hide-from-atts"))return!1;if(a&&(void 0===this.tabsRendered[a]||!0!==this.tabsRendered[a]))return!1;if(!1===this.loadComplete)return!1;if(!t)return!1;if(i===o[t]||""===i&&void 0===o[t]){if("fusion_pricing_column"!==this.model.get("element_type"))return!1;if("fusionPricingTablePrice"!==FusionPageBuilderApp.getCallbackFunction(this.model.attributes,t,i,this.elementView).function)return!1;if(s=this.model.get("priceParams"),""===i&&void 0===s[t])return!1}return!e.hasClass("fusion-using-default")||""===i||void 0===i},optionChanged:function(e){var t,i,o,n=jQuery(e.target),s=n.closest(".fusion-builder-option"),a=!0,r=this.model.get("params");jQuery.extend(this.model.attributes,{}),this.customOnChangeCallback(),t=this.getParamName(n,s),o=this.getParamValue(n,t,o,r),void 0===r[t]||r[t],this.shouldContinue(n,t,o,r)&&(this.optionHasChanged=!0,this.model.get("inlineElement")||void 0!==this.elementView&&(a=this.elementView.updateParam(t,o,e)),void 0!==this.elementView&&"function"==typeof this.elementView.onOptionChange&&this.elementView.onOptionChange(t,o,e),this.triggerTemporaryState(s),"generated_element"!==this.model.get("type")&&(this.model.get("inlineElement")&&(r[t]=o,this.model.set("params",r),FusionPageBuilderApp.inlineEditorHelpers.processInlineElement(this.model,t)),a&&void 0!==this.elementView&&!n.hasClass("skip-update")&&(-1!==this.model.get("element_type").indexOf("fusion_builder_column")&&"spacing"===t||this.elementView.reRender()),this._refreshJs(t),this.triggerActiveStates(),this.settingChanged=!0,this.childSortableView&&this.childSortableView.render(),i={currentModel:this.model,handleType:"changeOption",Name:t,Value:o},fusionGlobalManager.handleMultiGlobal(i)))},getParentValues:function(){var e;return"multi_element_child"===this.model.get("multi")&&"undefined"!==(e=FusionPageBuilderViewManager.getView(this.model.get("parent")))&&e.model.get("params")},refreshJs:function(e){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-option-change-"+e,this.model.attributes.cid)},destroyOptions:function(){var e=this;this.$el.find(".wp-color-picker").each(function(){jQuery(this).closest(".wp-picker-active").length&&jQuery(this).wpColorPicker("close")}),this.$el.find(".fusion-builder-code-block").each(function(t){e.codeEditorOption[t]&&e.codeEditorOption[t].toTextArea()}),this.$el.find(".fusion-editor-field").each(function(){var t=jQuery(this).attr("id");jQuery(this).hasClass("fusion-init")&&e.fusionBuilderMCEremoveEditor(t)}),this.onDestroyOptions()},onDestroyOptions:function(){},activateSCgenerator:function(e){openShortcodeGenerator(jQuery(e.target))},renderOptions:function(){var e=this.model,t=jQuery.extend(!0,{},this.model.attributes);"undefined"!==e.attributes.params.settings_lvl&&"parent"===e.attributes.params.settings_lvl&&e.attributes.params,"object"==typeof this.elementView&&(t.dynamic_params=this.elementView.dynamicParams.getAll()),"fusion_builder_container"===this.model.get("element_type")&&void 0===t.params.type&&(t.params.type=1===parseInt(fusionAllElements.fusion_builder_container.extras.container_legacy_support)?"legacy":"flex"),"fusion_builder_container"===this.model.get("element_type")&&void 0!==FusionApp.data.template_category&&"header"===FusionApp.data.template_category&&(t.params.type="flex"),"function"==typeof this.filterAttributes&&(t=this.filterAttributes(t)),this.$el.html(this.template({atts:t}))},debouncedInitOptions:function(e){var t=!!this.$el.find(".fusion-tab-content.active").length&&this.$el.find(".fusion-tab-content.active").attr("id"),i=t?this.$el.find(".fusion-tab-content.active"):this.$el,o=void 0!==e&&e.length?e:i,n=this;void 0===e&&(t&&!0===this.tabsRendered||void 0!==this.tabsRendered[t]&&this.tabsRendered[t]||!0===this.tabsRendered)||(this.optionDynamicData(o),this.textFieldPlaceholder(o),this.optionDateTimePicker(o),this.optionColorpicker(o),this.optionColumnWidth(o),this.optionFormOptions(o),this.optionIconpicker(o),this.optionCodeBlock(o),this.optionDimension(o),this.optionSelect(o),this.optionMultiSelect(o),this.optionUpload(o),this.optionMultiUpload(o),this.optionEditor(o),this.optionCheckboxButtonSet(o),this.optionRadioButtonSet(o),this.optionLinkSelector(o),this.optionRange(o),this.optionSortable(o),this.optionSortableText(o),this.optionConnectedSortable(o),this.optionFontFamily(o),"fusion_woo_shortcodes"===this.model.get("element_type")&&!0===FusionPageBuilderApp.shortcodeGenerator&&o.find("#element_content").attr("id","generator_element_content"),o.find(".uploadattachment .fusion-builder-upload-button").on("click",function(){alert(fusionBuilderText.to_add_images)}),this.model.get("element_type").includes("fusion_form_")&&(setTimeout(function(){var e,t,i=o.find('input[name="label"]')[0];i&&(e=i.value.length,document.selection?(i.focus(),(t=document.selection.createRange()).moveStart("character",-e),t.moveStart("character",e),t.moveEnd("character",0),t.select()):(i.selectionStart||"0"==i.selectionStart)&&(i.selectionStart=e,i.selectionEnd=e,i.focus()))},200),o.on("change",'[name="label"]',function(e){var t=e.target&&e.target.value||"",i=jQuery(this).parents().siblings('[data-option-id="name"]').find("input");""===i.val()&&t&&(i.val(_.fusionSanitize(t)),i.trigger("change"))}),o.on("keydown",'[name="name"], [name$="field_name"]',function(e){var t=e.which,i={109:"45",173:"45",186:"59",189:"45"};if(i.hasOwnProperty(t)&&(t=i[t]),!(65<=t&&90>=t||!e.shiftKey&&48<=t&&57>=t||45==t||e.shiftKey&&59==t||8==t||37<=t&&40>=t))return event.preventDefault()})),void 0===e&&this.optionRepeater("builder"),setTimeout(function(){o.find("select, input, textarea, radio").filter(":eq(0)").not("[data-placeholder]").focus()},1),t?setTimeout(function(){n.tabsRendered[t]=!0},500):this.tabsRendered=!0)},insertGeneratedShortcode:function(e){var t,i,o,n;e&&e.preventDefault(),this.removeActiveStates(),t=this.model.attributes,void 0!==fusionAllElements[this.model.get("element_type")].escape_html&&!0===fusionAllElements[this.model.get("element_type")].escape_html&&(t.params.element_content=_.escape(t.params.element_content)),void 0!==fusionAllElements[this.model.get("element_type")].on_save&&(i=fusionAllElements[this.model.get("element_type")].on_save,"function"==typeof FusionApp.callback[i]&&(t=FusionApp.callback[i](t,this))),n=FusionPageBuilderApp.generateElementShortcode(this.model,!1,!0),FusionEvents.trigger("fusion-history-resume-tracking"),this.openGeneratorTarget(),fusionBuilderInsertIntoEditor(n,FusionPageBuilderApp.shortcodeGeneratorEditorID),this.destroyOptions(),"multi_element_child"===this.model.get("multi")?(this.model.set(t),FusionEvents.trigger("fusion-multi-element-edited"),FusionEvents.trigger("fusion-multi-child-update-preview"),void 0!==(o=FusionPageBuilderViewManager.getView(this.model.get("parent")))&&o.updateElementContent()):"multi_element_parent"===this.model.get("multi")&&this.model.set(t),FusionPageBuilderApp.manuallyAdded&&(FusionPageBuilderApp.shortcodeGenerator=FusionPageBuilderApp.manualGenerator,FusionPageBuilderApp.shortcodeGeneratorEditorID=FusionPageBuilderApp.manualEditor,FusionPageBuilderApp.manuallyAdded=!1),void 0!==this.model&&void 0!==this.model.get("multi")&&"multi_element_child"===this.model.get("multi")&&FusionEvents.trigger("fusion-child-changed"),this.remove(),FusionPageBuilderApp.shortcodeGenerator="",FusionPageBuilderViewManager.removeView(this.model.get("cid")),FusionEvents.trigger("fusion-settings-modal-save")},removeView:function(e){(e===this.model.get("cid")||void 0!==this.model.parentView&&this.model.parentView&&e===this.model.parentView.model.get("cid"))&&(this.dynamicSelection&&this.dynamicSelection.removeView(),this.destroyOptions(),FusionEvents.trigger("fusion-settings-removed",this.model.get("cid")),jQuery("#fb-preview")[0].contentWindow.jQuery("body").removeClass("fusion-dialog-ui-active"),this.remove())},saveSettings:function(e){var t,i,o,n;e&&e.preventDefault(),this.destroyOptions(),this.removeActiveStates(),t=this.model.attributes,"fusion_builder_container"!==this.model.get("element_type")&&"fusion_builder_column"!==this.model.get("element_type")&&"fusion_builder_column_inner"!==this.model.get("element_type")||(this.elementView.destroyResizable(),this.elementView.$el.removeClass("fusion-builder-element-edited")),void 0!==fusionAllElements[this.model.get("element_type")].escape_html&&!0===fusionAllElements[this.model.get("element_type")].escape_html&&(t.params.element_content=_.escape(t.params.element_content)),void 0!==fusionAllElements[this.model.get("element_type")].on_save&&(i=fusionAllElements[this.model.get("element_type")].on_save,"function"==typeof FusionApp.callback[i]&&(t=FusionApp.callback[i](t,this))),"multi_element_child"===this.model.get("multi")?(this.model.set(t),FusionEvents.trigger("fusion-multi-element-edited"),FusionEvents.trigger("fusion-multi-child-update-preview"),void 0!==(o=FusionPageBuilderViewManager.getView(this.model.get("parent")))&&(o.updateElementContent(),e&&void 0!==e.currentTarget&&(jQuery(e.currentTarget).hasClass("fusiona-close-fb")||jQuery(e.currentTarget).hasClass("ui-dialog-titlebar-close"))&&FusionEvents.trigger("fusion-close-settings-"+this.model.get("parent"))),this.remove()):"multi_element_parent"===this.model.get("multi")?(this.model.set(t),this.remove()):this.remove(),void 0!==this.elementView&&this.elementView.onSettingsClose(),n={currentModel:this.model,handleType:"save",attributes:this.model.attributes},fusionGlobalManager.handleMultiGlobal(n),FusionPageBuilderApp.manuallyAdded&&(FusionPageBuilderApp.shortcodeGenerator=FusionPageBuilderApp.manualGenerator,FusionPageBuilderApp.shortcodeGeneratorEditorID=FusionPageBuilderApp.manualEditor,FusionPageBuilderApp.manuallyAdded=!1),void 0!==this.model&&void 0!==this.model.get("multi")&&"multi_element_child"===this.model.get("multi")&&FusionEvents.trigger("fusion-child-changed"),FusionEvents.trigger("fusion-settings-modal-save",this.model.get("cid"))},openParent:function(e){var t=FusionPageBuilderViewManager.getView(this.model.get("parent"));t&&t.settings(),this.saveSettings(e)},openGeneratorTarget:function(){var e=FusionPageBuilderViewManager.getView(this.model.get("target"));e&&"dialog"===FusionApp.preferencesData.editing_mode&&e.settings()},closeGeneratorModal:function(){this.model.destroy(),FusionEvents.trigger("fusion-history-resume-tracking"),FusionEvents.trigger("fusion-settings-modal-cancel"),this.openGeneratorTarget(),this.remove()},fusionBuilderMCEremoveEditor:function(e){void 0!==window.tinyMCE&&(window.tinyMCE.execCommand("mceRemoveEditor",!1,e),void 0!==window.tinyMCE.get(e)&&window.tinyMCE.remove("#"+e))},beforeProcessDependencies:function(){var e,t,i,o=this.$el,n=this.model.get("element_type");void 0!==n&&"fusion_section_separator"===n&&(e=o.find("#divider_type"),t=e.closest("ul").find('li[data-option-id="divider_candy"]').find(".fusion-option-divider_candy").find('.ui-button[data-value="bottom,top"]'),i=e.closest("ul").find('li[data-option-id="divider_position"]').find(".fusion-option-divider_position").find('.ui-button[data-value="center"]'),"triangle"!==e.val()?t.hide():t.show(),"bigtriangle"!==e.val()?i.hide():i.show(),e.on("change paste keyup",function(){"triangle"!==jQuery(this).val()?t.hide():t.show(),"bigtriangle"!==jQuery(this).val()?(i.hide(),i.hasClass("ui-state-active")&&i.prev().click()):i.show()}))},addSliderVideo:function(e){var t,i,o=this.model.get("cid");e&&e.preventDefault(),FusionPageBuilderApp.manualGenerator=FusionPageBuilderApp.shortcodeGenerator,FusionPageBuilderApp.manualEditor=FusionPageBuilderApp.shortcodeGeneratorEditorID,FusionPageBuilderApp.manuallyAdded=!0,FusionPageBuilderApp.shortcodeGenerator=!0,FusionPageBuilderApp.shortcodeGeneratorEditorID="video",i=jQuery(e.currentTarget).data("type"),t=fusionAllElements[i].defaults,this.collection.add([{type:"generated_element",added:"manually",element_type:i,params:t,target:o}])},defaultPreview:function(e){var t=jQuery(e.currentTarget);e&&e.preventDefault(),FusionApp.sidebarView&&FusionApp.sidebarView.shortcutClick(t)},showHideDescription:function(e){var t=jQuery(e.currentTarget);t.closest(".fusion-builder-option").find(".description").first().slideToggle(250),t.toggleClass("active")},showResponsiveOptions:function(e){jQuery(e.currentTarget).parent().toggleClass("active-item")},changeResponsiveOption:function(e){var t=jQuery(e.currentTarget),i=jQuery(e.currentTarget).closest("li.active-item");jQuery(".fusion-builder-preview-"+t.data("indicator")).trigger("click"),i.removeClass("active-item")},hideResponsiveOptions:function(e){jQuery(e.currentTarget).find(".fusion-panel-options li.active-item").removeClass("active-item")},checkPageTemplate:function(){var e=this.$el.find('li[data-option-id="hundred_percent"]');"fusion_builder_container"===this.model.get("element_type")&&(e.show(),"fusion_tb_section"!==FusionApp.data.postDetails.post_type&&"object"!=typeof FusionApp.data.template_override.content?"post"===FusionApp.data.postDetails.post_type?("no"===FusionApp.data.postMeta._fusion.blog_width_100||"default"===FusionApp.data.postMeta._fusion.blog_width_100&&"0"===FusionApp.settings.blog_width_100)&&e.hide():"avada_portfolio"===FusionApp.data.postDetails.post_type?("no"===FusionApp.data.postMeta._fusion.portfolio_width_100||"default"===FusionApp.data.postMeta._fusion.portfolio_width_100&&"0"===FusionApp.settings.portfolio_width_100)&&e.hide():"100-width.php"!==FusionApp.data.postMeta._wp_page_template&&e.hide():void 0!==FusionApp.data.postMeta._fusion.fusion_tb_section_width_100&&"no"===FusionApp.data.postMeta._fusion.fusion_tb_section_width_100&&e.hide())},onInit:function(){},onCancel:function(){},defaultChanged:function(e,t){var i,o,n=0<this.$el.find('li[data-option-id="'+e+'"]').length?this.$el.find('li[data-option-id="'+e+'"]'):this.$el.find("#"+e).closest(".fusion-builder-option"),s=!1;if(n.length)switch(n.attr("data-option-type")&&(s=n.attr("data-option-type")),s||(s=n.attr("class").replace("fusion-builder-option","").trim()),s){case"colorpicker":case"colorpickeralpha":(o=n.find(".fusion-builder-color-picker-hex")).length&&(o.data("default",t).trigger("change"),""===o.val()&&(o.addClass("fusion-default-changed fusion-using-default"),o.hasClass("wp-color-picker")&&o.wpColorPicker("color",t)));break;case"range":"object"==typeof this.$rangeSlider&&void 0!==this.$rangeSlider[n.attr("data-index")]&&(n.find(".fusion-range-default").length&&(i=n.find(".fusion-range-default").attr("data-default"),n.find(".fusion-range-default").attr("data-default",t)),this.$rangeSlider[n.attr("data-index")].noUiSlider.options.default=t,i===this.$rangeSlider[n.attr("data-index")].noUiSlider.get()&&n.find(".fusion-range-default").trigger("click"))}},paramChanged:function(e,t){var i,o,n,s,a=0<this.$el.find('li[data-option-id="'+e+'"]').length?this.$el.find('li[data-option-id="'+e+'"]'):this.$el.find("#"+e).closest(".fusion-builder-option"),r=!1;if(jQuery(".fusion-table-builder-chart").length&&jQuery(".fusion-table-builder-chart").closest(".ui-dialog-content").dialog("close"),a.length){switch(a.attr("data-option-type")&&(r=a.attr("data-option-type")),this.changesPaused=!0,r||(r=a.attr("class").replace("fusion-builder-option","").trim()),r){case"iconpicker":a.find(".icon_preview.selected-element").removeClass("selected-element"),t&&2===t.split(" ").length&&a.find(".icon-"+t.split(" ")[0]).addClass("selected-element"),a.find("#"+e).val(t).trigger("change");break;case"upload":a.find("#"+e).val(t).trigger("change"),a.find(".fusion-builder-upload-preview img").remove(),t&&""!==t?(a.find(".fusion-upload-area:not( .fusion-uploaded-image )").addClass("fusion-uploaded-image"),a.find(".fusion-builder-upload-preview").prepend('<img src="'+t+'" />')):a.find(".fusion-upload-area").removeClass("fusion-uploaded-image");break;case"multiple_select":a.find(".fusion-select-preview").empty(),a.find('input[type="checkbox"]').prop("checked",!1),t&&""!==t&&(o=t.split(","),_.each(o,function(e){a.find('input[value="'+e+'"]').prop("checked",!0),a.find(".fusion-select-preview").append('<span class="fusion-preview-selected-value" data-value="'+e+'">'+a.find('input[value="'+e+'"]').attr("data-label")+'<span class="fusion-option-remove">x</span></span>')})),0===a.find(".fusion-select-preview .fusion-preview-selected-value").length?a.find(".fusion-select-preview-wrap").addClass("fusion-select-show-placeholder"):a.find(".fusion-select-preview-wrap").removeClass("fusion-select-show-placeholder"),a.find("#"+e).val(t).trigger("change");break;case"tinymce":a.find("#child_"+e).length&&(e="child_"+e),a.find("#"+e).val(t),a.find("#"+e).hasClass("fusion-editor-field")&&void 0!==window.tinyMCE&&window.tinyMCE.get(e)&&!window.tinyMCE.get(e).isHidden()&&(window.tinyMCE.get(e).getParam("wpautop",!0)&&void 0!==window.switchEditors&&(t=window.switchEditors.wpautop(t)),window.tinyMCE.get(e).setContent(t,{format:"html"}));break;case"date_time_picker":a.find("#"+e).val(t).trigger("change"),n=a.find(".fusion-date-picker"),s=a.find(".fusion-time-picker"),-1!==t.indexOf(" ")&&n.length&&s.length?(o=t.split(" "),n.val(o[0]),s.val(o[1])):n.length?n.val(t):s.length&&s.val(t);break;case"raw_textarea":try{t=FusionPageBuilderApp.base64Decode(t),a.find("#"+e).val(t).trigger("change")}catch(e){}break;case"code":if(void 0!==this.codeEditorOption[a.attr("data-index")])try{t=FusionPageBuilderApp.base64Decode(t),this.codeEditorOption[a.attr("data-index")].setValue(t)}catch(e){}break;case"range":void 0!==this.$rangeSlider[a.attr("data-index")]&&(void 0!==t&&""!==t||(t=this.$rangeSlider[a.attr("data-index")].noUiSlider.options.default),this.$rangeSlider[a.attr("data-index")].noUiSlider.set(t));break;case"checkbox_button_set":a.find(".button-set-value").val(t).trigger("change"),a.find(".ui-state-active").removeClass("ui-state-active"),"string"==typeof t&&""!==t?(o=t.split(","),_.each(o,function(e){a.find('[data-value="'+e+'"]').addClass("ui-state-active")})):"hide_on_mobile"===e&&a.find(".buttonset-item").addClass("ui-state-active");break;case"select":(i=a.find('.fusion-select-options .fusion-select-label[data-value="'+t+'"]')).length&&(a.find(".fusion-option-selected").removeClass("fusion-option-selected"),i.addClass("fusion-option-selected"),a.find(".fusion-select-preview").html(i.html()),a.find("#"+e).val(t).trigger("fusion-change"));break;case"colorpicker":case"colorpickeralpha":(i=a.find(".fusion-builder-color-picker-hex")).length&&i.val(t).trigger("change");break;case"radio_button_set":(i=a.find('.buttonset-item[data-value="'+t+'"]')).length&&(a.find(".ui-state-active").removeClass("ui-state-active"),i.addClass("ui-state-active"),a.find("#"+e).val(t).trigger("change"));break;case"dimension":(i=a.find("#"+e)).length&&i.val(t).trigger("change");break;case"sortable":case"sortable_text":case"connected_sortable":this.reRender();break;default:a.find("#"+e).val(t).trigger("change")}this.changesPaused=!1}}}),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionCodeBlock),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionColorPicker),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionDimensionField),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionIconPicker),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionOptionUpload),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.radioButtonSet),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionRangeField),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionSelectField),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionCheckboxButtonSet),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionDateTimePicker),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionEditor),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionMultiSelect),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionSwitchField),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionTextFieldPlaceholder),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionLinkSelector),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionRepeaterField),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionSortable),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionSortableText),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionConnectedSortable),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionDynamicData),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionTypographyField),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionFontFamilyField),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionColumnWidth),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.options.fusionFormOptions),_.extend(FusionPageBuilder.ElementSettingsView.prototype,FusionPageBuilder.fusionActiveStates);FusionPageBuilder=FusionPageBuilder||{};!function(e){var t,i,o,n,s,a,r;function l(e){if(a)return e();s?n.success(e):(s=!0,n=jQuery.ajax({url:r.ajaxurl,type:"post",dataType:"json",data:{action:"fusion_get_widget_form"}}).done(function(t){return a=!0,s=!1,o=t.data,_.each(o,function(e,t){void 0===fusionAllElements.fusion_widget.params.type.value[t]&&jQuery.map(fusionAllElements.fusion_widget.params.type.value,function(i,n){i===e.name&&(e.title=n,o[n]=e,o[t].delete)})}),e&&e()}))}t=[],e(document).ready(function(){(r="undefined"!=typeof FusionApp?fusionAppConfig:fusionBuilderConfig).widget_element_enabled&&l(),FusionPageBuilder.BaseWidgetSettingsView=FusionPageBuilder.ElementSettingsView.extend({invalidWidgets:["Fusion_Widget_Social_Links"],createWidgetFieldName:function(e,t){var i=e.toLowerCase()+"__";t=t.toLowerCase();try{i+=t.match(/\[(.*?)\]/g).slice(-1)[0].replace(/\[|(\])/g,"")}catch(e){}return i},registerWidget:function(i,o){var n,s,a,r,l,u;u=this,a={},n=e("<form></form>").html(i.form),s=["fieldset","input","select","textarea"].join(","),r=function(e,t){var i={};return _.each(t,function(t){i[t]=e[t]}),i},n.find(s).not('[type="button"]').each(function(){var e,t;switch(e=r(this,["id","className","name","tagName","type","value","placeholder","options","checked"]),t=u.createWidgetFieldName(o,e.name),e.options=_.map(e.options,function(e){return r(e,["value","text","selected"])}),e.tagName){case"INPUT":["text","number"].includes(e.type)?e.type="textfield":"checkbox"===e.type&&(e.type="radio_button_set",e.value={on:"On","":"Off"},e.default=e.checked?"on":"");break;case"SELECT":e.type="select",e.value=_.reduce(e.options,function(t,i){return i.selected&&(e.default=i.value),t[i.value]=i.text,t},{});break;case"TEXTAREA":e.type="textarea"}e.id&&(e.id="widget-menu-widget--menu_Link_color"===e.id?e.id.toLowerCase():e.id,e.heading=n.find('label[for="'+e.id+'"]').text()||e.placeholder),e.param_name=t,e.callback={},e.callback.function="fusion_get_widget_markup",e.callback.ajax=!0,"hidden"===e.type&&(delete e.dependency,e.hidden=!0),a[t]=e}),l=_.find(a,function(e){return!e.heading||!e.name}),t[o]={className:o,fields:a,data:i,isInvalid:l||this.invalidWidgets.includes(o),isCoreWidget:["WP_Widget_Text","WP_Widget_Media_Audio","WP_Widget_Media_Image","WP_Widget_Media_Video","WP_Widget_Media_Gallery","WP_Widget_Custom_HTML"].includes(o)}},registerWidgets:function(){var e=this;l(function(){e.widgetData=o,t.length||_.each(e.widgetData,e.registerWidget.bind(e)),e.setWidgetFields(),i&&("WP_Widget_Custom_HTML"===i.className?e.model.attributes.params.wp_widget_custom_html__content=_.unescape(e.model.attributes.params.wp_widget_custom_html__content):"WP_Widget_Text"===i.className&&(e.model.attributes.params.wp_widget_text__text=_.unescape(e.model.attributes.params.wp_widget_text__text)))})},clean:function(){this.destroyWidgetOptions(),this.deleteWpModels(),this.cleanForm()},cleanForm:function(){this.$el.find(".fusion-widget-settings-form").remove()},insertForm:function(){var e,t,o,n,s,a,r,l=this;e=this.$el.find("#general .fusion_widget .fusion-builder-option:first "),n=i.data,r=i.className,o={coreWidget:i.isCoreWidget,attributes:{id:n.id+"-"+this.cid,base:n.id,form:n.form,type:r,class:n.classname},widgetData:this.widgetData},this.appendedForm=this.formTemplate(o),e.after(this.appendedForm),o.coreWidget?(a=this.$el.find(".widget-inside").parent(),this.setFormValues(r),t=new jQuery.Event("widget-added"),"WP_Widget_Text"===r?wp.textWidgets.handleWidgetAdded(t,a):"WP_Widget_Custom_HTML"===r?wp.customHtmlWidgets.handleWidgetAdded(t,a):wp.mediaWidgets.handleWidgetAdded(t,a),this.$el.find(".widget-inside").show(),this.$el.find(".wp-editor-area").length&&setTimeout(function(){wp.textWidgets.widgetControls["text-"+l.cid].initializeEditor()},200),this.$el.find(".custom-html-widget-fields .code").length&&(s=this.$el.find(".custom-html-widget-fields .code"),l.codeBlock=s.next(".CodeMirror").get(0).CodeMirror,l.codeBlock||(l.codeBlock=CodeMirror.fromTextArea(s[0],{lineNumbers:!0,lineWrapping:!0,autofocus:!0,mode:"htmlmixed"})),setTimeout(function(){l.codeBlock.refresh(),l.codeBlock.focus()},100))):(a=this.$el.find(".fusion-widget-settings-form"),this.setFormValues(r),this.$el.find(".widget-inside").show())},setFormValues:function(e){var t=this,i=e.toLowerCase()+"__";_.each(this.model.attributes.params,function(e,o){var n,s;"type"!==o&&-1!==o.indexOf(i)&&(s='[name$="['+o.replace(i,"")+']"]',n=t.$el.find(s)),n&&n.length&&(n.is(":checkbox")?1===parseInt(e)||!0===e||"on"===e||"enabled"===e?n.prop("checked",!0):n.prop("checked",!1):n.val(e))})},deleteWpModels:function(){void 0!==wp.mediaWidgets.widgetControls&&void 0!==wp.mediaWidgets.modelCollection&&(wp.mediaWidgets.modelCollection.reset(),wp.mediaWidgets.widgetControls={}),void 0!==wp.textWidgets.widgetControls&&(wp.textWidgets.widgetControls={}),void 0!==wp.customHtmlWidgets.widgetControls&&(wp.customHtmlWidgets.widgetControls={})},destroyWidgetOptions:function(){this.$el.find(".wp-editor-area").each(function(){var e=jQuery(this).attr("id");void 0!==window.tinyMCE&&(window.tinyMCE.execCommand("mceRemoveEditor",!1,e),void 0!==window.tinyMCE.get(e)&&window.tinyMCE.remove("#"+e))})},cleanWidget:function(){var e=this;i&&(_.each(i.fields,function(t,i){delete fusionAllElements.fusion_widget.params[i],delete e.model.attributes.params[i]}),i=null)},getWidget:function(){return i},setWidget:function(){var e=this.model.attributes.params.type;e&&t[e]&&(i=t[e])},updateWidget:function(){var e=this;!i||i.isCoreWidget||i.isInvalid||(fusionAllElements.fusion_widget.params=_.extend({type:fusionAllElements.fusion_widget.params.type},i.fields,fusionAllElements.fusion_widget.params),_.each(i.fields,function(t,i){void 0===e.model.attributes.params[i]&&("object"==typeof t.value&&t.value[t.default]?e.model.attributes.params[i]=t.default:"object"!=typeof t.value&&(t.default||t.value)&&(e.model.attributes.params[i]=t.default||t.value))}))},setWidgetFields:function(){i&&i.className===this.model.attributes.params.type||(this.cleanWidget(),this.setWidget(),this.updateWidget())}})})}(jQuery);FusionPageBuilder=FusionPageBuilder||{};!function(e){e(document).ready(function(){FusionPageBuilder.BulkAddView=window.wp.Backbone.View.extend({className:FusionPageBuilder.ElementSettingsView.prototype.className+" fusion-builder-bulk-add-dialog",template:FusionPageBuilder.template(e("#fusion-builder-bulk-add-template").html()),events:{"click .predefined-choice":"predefinedChoices"},getChoices:function(){var e=this.$el.find("textarea").val(),t=[];return e&&_.each(e.split(/\n/),function(e){var i=e.trim();i&&t.push(i)}),t},predefinedChoices:function(e){var t,i=jQuery(e.target).data("value");isNaN(i)||(t=(t=this.options.choices[i].values).join("\n"),this.$el.find("textarea").val(t))}})})}(jQuery);FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ElementSettingsParent=window.wp.Backbone.View.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-child-sortables").html()),events:{"click .fusion-builder-add-multi-child":"addChildElement","click .fusion-builder-multi-setting-remove":"removeChildElement","click .fusion-builder-multi-setting-clone":"cloneChildElement","click .fusion-builder-multi-setting-options":"editChildElement"},initialize:function(){this.elementView=FusionPageBuilderViewManager.getView(this.model.get("cid")),this.listenTo(FusionEvents,"fusion-child-changed",this.render),this.listenTo(this.model.children,"add",this.render),this.listenTo(this.model.children,"remove",this.render),this.listenTo(this.model.children,"sort",this.render),this.settingsView=this.attributes.settingsView},render:function(){return this.$el.html(this.template(this.model)),this.sortableOptions(),this},sortableOptions:function(){var e=this;this.$el.find(".fusion-builder-sortable-children").sortable({axis:"y",cancel:".fusion-builder-multi-setting-remove, .fusion-builder-multi-setting-options, .fusion-builder-multi-setting-clone",helper:"clone",update:function(t,i){var o,n="",s=i.item.parent().children(".ui-sortable-handle").index(i.item),a=FusionPageBuilderViewManager.getView(i.item.data("cid"));FusionPageBuilderApp.onDropCollectionUpdate(a.model,s,e.model.get("cid")),e.$el.find(".fusion-builder-sortable-children li").each(function(){o=FusionPageBuilderViewManager.getView(jQuery(this).data("cid")),n+=FusionPageBuilderApp.generateElementShortcode(o.$el,!1)}),e.elementView.setContent(n),!jQuery("body").hasClass("fusion-sidebar-resizing")&&jQuery("body").hasClass("fusion-preview-block")&&jQuery("body").removeClass("fusion-preview-block"),FusionEvents.trigger("fusion-history-save-step",window.fusionBuilderText.moved+" "+window.fusionAllElements[o.model.get("element_type")].name+" "+window.fusionBuilderText.element)}})},addChildElement:function(e){e.preventDefault(),this.elementView.addChildElement(),this.render(),this.settingsView.optionHasChanged=!0},removeChildElement:function(e){var t,i,o;t=jQuery(e.target).closest(".fusion-builder-data-cid").data("cid"),i=FusionPageBuilderViewManager.getView(t),e.preventDefault(),i.removeElement(e),this.render(),o={currentModel:i.model,handleType:"changeOption"},fusionGlobalManager.handleMultiGlobal(o),this.elementView.childViewRemoved(),this.settingsView.optionHasChanged=!0},cloneChildElement:function(e){var t,i,o;t=jQuery(e.target).closest(".fusion-builder-data-cid").data("cid"),i=FusionPageBuilderViewManager.getView(t),FusionPageBuilderViewManager.getView(this.model.get("cid")),e.preventDefault(),i.cloneElement(),this.render(),o={currentModel:i.model,handleType:"changeOption"},fusionGlobalManager.handleMultiGlobal(o),this.elementView.childViewCloned(),this.settingsView.optionHasChanged=!0},editChildElement:function(e){var t=jQuery(e.target).closest(".fusion-builder-data-cid").data("cid"),i=FusionPageBuilderViewManager.getView(t);e.preventDefault(),i.settings()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ElementLibraryView=window.wp.Backbone.View.extend({className:"fusion_builder_modal_settings",events:{"click .fusion-builder-all-modules .fusion-builder-element:not(.fusion-builder-element-generator,.fusion-builder-disabled-element)":"addModule","click .fusion_builder_custom_elements_load":"addCustomModule","click .fusion-builder-column-layouts li":"addNestedColumns"},initialize:function(e){this.options=e,!0===FusionPageBuilderApp.shortcodeGenerator?this.template=FusionPageBuilder.template(jQuery("#fusion-builder-generator-modules-template").html()):"fusion_builder_column_inner"===this.model.get("element_type")?this.template=FusionPageBuilder.template(jQuery("#fusion-builder-nested-column-modules-template").html()):this.template=FusionPageBuilder.template(jQuery("#fusion-builder-modules-template").html())},render:function(){return this.$el.html(this.template(FusionPageBuilderApp.elements)),FusionPageBuilderApp.showSavedElements("elements",this.$el.find("#custom-elements")),FusionApp.elementSearchFilter(this.$el),FusionApp.dialog.dialogTabs(this.$el),this},addCustomModule:function(e){var t,i,o,n,s=this;e&&e.preventDefault(),!0!==FusionApp.layoutIsLoading&&(FusionApp.layoutIsLoading=!0,t=jQuery(e.currentTarget).closest("li").data("layout_id"),i=jQuery(e.currentTarget).find(".fusion_module_title").text(),o=jQuery(e.currentTarget).closest("li").hasClass("fusion-global"),void 0!==this.options.targetElement&&(n=this.options.targetElement),jQuery(e.currentTarget).parent(".fusion-builder-all-modules").css("opacity","0"),jQuery(e.currentTarget).parent(".fusion-builder-all-modules").prev("#fusion-loader").show(),jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,data:{action:"fusion_builder_load_layout",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,fusion_is_global:o,fusion_layout_id:t}}).done(function(i){var s=JSON.parse(i);void 0!==n?FusionPageBuilderApp.shortcodesToBuilder(s.post_content,FusionPageBuilderApp.parentColumnId,!1,!1,n,"after"):FusionPageBuilderApp.shortcodesToBuilder(s.post_content,FusionPageBuilderApp.parentColumnId),FusionApp.layoutIsLoading=!1,jQuery(e.currentTarget).parent(".fusion-builder-all-modules").css("opacity","1"),jQuery(e.currentTarget).parent(".fusion-builder-all-modules").prev("#fusion-loader").hide(),o&&setTimeout(fusionGlobalManager.handleGlobalsFromLibrary,500,t,FusionPageBuilderApp.parentColumnId)}).always(function(){FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.added_custom_element+i),FusionEvents.trigger("fusion-content-changed"),s.removeView()}))},addModule:function(e){var t,i,o,n,s,a,r,l,u,d,c;e&&e.preventDefault(),(t=jQuery(e.currentTarget).find(".fusion_module_label").text())in fusionAllElements?(a=fusionAllElements[t].params,o=fusionAllElements[t].multi,n=fusionAllElements[t].shortcode,s=fusionAllElements[t].name,r=fusionAllElements[t].allow_generator,u=fusionAllElements[t].child_ui):(a="",o="",n="",r=""),i={},_.each(a,function(e){i[e.param_name]=_.isObject(e.value)?e.default:e.value}),d={type:"element",added:"manually",cid:FusionPageBuilderViewManager.generateCid(),element_type:n,params:i,parent:this.attributes["data-parent_cid"],view:this.options.view,allow_generator:r,inline_editor:FusionPageBuilderApp.inlineEditorHelpers.inlineEditorAllowed(n),multi:o,child_ui:u,at_index:FusionPageBuilderApp.getCollectionIndex(this.options.targetElement)},void 0!==this.options.targetElement&&(d.targetElement=this.options.targetElement,d.targetElementPosition="after"),l=this.collection.add([d]),this.remove(),c={currentModel:l[0],handleType:"save",attributes:l[0].attributes},fusionGlobalManager.handleMultiGlobal(c),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.added+" "+s+" "+fusionBuilderText.element),FusionEvents.trigger("fusion-content-changed")},addNestedColumns:function(e){var t,i,o,n;e&&e.preventDefault(),n={type:"fusion_builder_row_inner",element_type:"fusion_builder_row_inner",added:"manually",cid:t=FusionPageBuilderViewManager.generateCid(),parent:this.model.get("cid"),view:this,at_index:FusionPageBuilderApp.getCollectionIndex(this.options.targetElement)},void 0!==this.options.targetElement&&(n.targetElement=this.options.targetElement,n.targetElementPosition="after"),this.collection.add([n]),o=FusionPageBuilderViewManager.getView(t),FusionPageBuilderApp.activeModal="column",i=(jQuery(e.target).is("li")?jQuery(e.target):jQuery(e.target).closest("li")).data("layout").split(","),_.size(i),_.each(i,function(e,t){o.addNestedColumn(e,!1)}),this.remove(),FusionEvents.trigger("fusion-content-changed"),o.setRowData(),o.updateSavedContent(),e&&(FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.added_nested_columns),FusionEvents.trigger("fusion-content-changed")),setTimeout(function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-content-changed",o.$el.closest(".fusion-builder-column-outer").data("cid"))},300)},removeView:function(){this.remove()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ColumnLibraryView=window.wp.Backbone.View.extend({className:"fusion_builder_modal_settings",template:FusionPageBuilder.template(jQuery("#fusion-builder-column-library-template").html()),events:{"click .fusion-builder-column-layouts li":"addColumns","click .fusion_builder_custom_columns_load":"addCustomColumn"},initialize:function(e){this.options=e},render:function(){return this.$el.html(this.template(this.model.toJSON())),FusionPageBuilderApp.showSavedElements("columns",this.$el.find("#custom-columns")),FusionApp.elementSearchFilter(this.$el),FusionApp.dialog.dialogTabs(this.$el),this},addCustomColumn:function(e){var t,i,o,n,s=this;e&&e.preventDefault(),FusionPageBuilderApp.activeModal="column",!0!==FusionPageBuilderApp.layoutIsLoading&&(FusionPageBuilderApp.layoutIsLoading=!0,t=this.model,i=jQuery(e.currentTarget).data("layout_id"),o=jQuery(e.currentTarget).find(".fusion_module_title").text(),n=jQuery(e.currentTarget).closest("li").hasClass("fusion-global"),jQuery(e.currentTarget).parent(".fusion-builder-all-modules").css("opacity","0"),jQuery(e.currentTarget).parent(".fusion-builder-all-modules").prev("#fusion-loader").show(),jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,data:{action:"fusion_builder_load_layout",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,fusion_is_global:n,fusion_layout_id:i}}).done(function(t){var o=JSON.parse(t);FusionPageBuilderApp.shortcodesToBuilder(o.post_content,FusionPageBuilderApp.parentRowId),FusionPageBuilderApp.layoutIsLoading=!1,jQuery(e.currentTarget).parent(".fusion-builder-all-modules").css("opacity","1"),jQuery(e.currentTarget).parent(".fusion-builder-all-modules").prev("#fusion-loader").hide(),n&&setTimeout(window.fusionGlobalManager.handleGlobalsFromLibrary,500,i,FusionPageBuilderApp.parentRowId)}).always(function(){t.unset("added"),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.added_custom_column+o),FusionEvents.trigger("fusion-content-changed"),s.removeView()}))},addColumns:function(e){var t,i,o,n,s,a,r,l,u,d,c,h,m,p=[];e&&e.preventDefault(),FusionPageBuilderApp.activeModal="column",t=this,i=(jQuery(e.target).is("li")?jQuery(e.target):jQuery(e.target).closest("li")).data("layout").split(","),_.size(i),o=this.options.view,h=void 0!==this.options.targetElement&&this.options.targetElement,c=FusionPageBuilderApp.getCollectionIndex(h),_.each(i,function(e,i){n=fusionAllElements.fusion_builder_column.params,s={},u=FusionPageBuilderViewManager.generateCid(),p.push(u),_.each(n,function(e){a=_.isObject(e.value)?e.default:e.value,s[e.param_name]=a}),s.type=e,l={type:"fusion_builder_column",element_type:"fusion_builder_column",cid:u,parent:t.model.get("cid"),view:o,params:s,at_index:c},m&&(h=(h=FusionPageBuilderViewManager.getView(m)).$el),h&&(l.targetElement=h,l.targetElementPosition="after"),FusionPageBuilderApp.collection.add([l]),m=u,"new"===c?c=1:c++}),this.model.unset("added"),(r=FusionPageBuilderViewManager.getView(FusionPageBuilderApp.parentRowId))&&(r.createVirtualRows(),r.updateColumnsPreview()),FusionEvents.trigger("fusion-content-changed"),this.removeView(),e&&(_.each(p,function(e){(d=FusionPageBuilderViewManager.getView(e))&&d.scrollHighlight(e===u)}),!0===FusionPageBuilderApp.newContainerAdded?(window.fusionHistoryState=fusionBuilderText.added_section,FusionPageBuilderApp.newContainerAdded=!1):window.fusionHistoryState=fusionBuilderText.added_columns,FusionEvents.trigger("fusion-history-save-step",window.fusionHistoryState))},removeView:function(){this.remove()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.NestedColumnLibraryView=window.wp.Backbone.View.extend({className:"fusion-builder-modal-settings-container",template:FusionPageBuilder.template(jQuery("#fusion-builder-column-library-template").html()),events:{"click .fusion-builder-column-layouts li":"addNestedColumns","click .fusion-builder-modal-close":"closeModal"},initialize:function(e){this.options=e,this.listenTo(FusionEvents,"fusion-modal-view-removed",this.remove)},render:function(){return this.$el.html(this.template(this.options)),this.$el.addClass("fusion-add-to-nested"),FusionApp.elementSearchFilter(this.$el),this},addNestedColumns:function(e){var t,i,o,n,s,a,r,l,u=this.attributes["data-parent_cid"];e&&e.preventDefault(),o=FusionPageBuilderViewManager.getView(u),void 0!==this.attributes["data-nested_column_cid"]?(n=FusionPageBuilderViewManager.getView(this.attributes["data-nested_column_cid"]),i=n.$el,s=n.$el):i=this.$el.closest(".fusion-builder-row-content").find(".fusion-builder-row-container-inner"),a=window.FusionPageBuilderApp.getCollectionIndex(s),t=(jQuery(e.target).is("li")?jQuery(e.target):jQuery(e.target).closest("li")).data("layout").split(","),_.size(t),_.each(t,function(e,t){r=o.addNestedColumn(e,i,s,a),l=FusionPageBuilderViewManager.getView(r),s=l.$el,a++}),o.createVirtualRows(),o.updateColumnsPreview(),this.remove(),FusionEvents.trigger("fusion-columns-added"),e&&(FusionEvents.trigger("fusion-history-turn-on-tracking"),window.fusionHistoryState=fusionBuilderText.added_nested_columns,FusionEvents.trigger("fusion-content-changed"))},closeModal:function(e){e.preventDefault(),this.remove()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ContainerLibraryView=window.wp.Backbone.View.extend({className:"fusion_builder_modal_settings",template:FusionPageBuilder.template(jQuery("#fusion-builder-container-library-template").html()),events:{"click .fusion-builder-column-layouts li":"addColumns","click .fusion_builder_custom_sections_load":"addCustomSection","click .fusion-builder-section-next-page":"addNextPage"},initialize:function(e){this.options=e},render:function(){return this.$el.html(this.template(this.model.toJSON())),FusionPageBuilderApp.showSavedElements("sections",this.$el.find("#custom-sections")),FusionApp.elementSearchFilter(this.$el),FusionApp.dialog.dialogTabs(this.$el),this},addColumns:function(e){var t,i,o,n,s,a,r,l,u,d,c=[];e&&e.preventDefault(),FusionPageBuilderApp.activeModal="column",t=this,o=""!==(i=jQuery(e.target).is("li")?jQuery(e.target):jQuery(e.target).closest("li")).data("layout")&&i.data("layout").split(","),_.size(o),n=this.options.view,o&&_.each(o,function(e,i){s=fusionAllElements.fusion_builder_column.params,a={},u=FusionPageBuilderViewManager.generateCid(),c.push(u),_.each(s,function(e){r=_.isObject(e.value)?e.default:e.value,a[e.param_name]=r}),a.type=e,l={type:"fusion_builder_column",element_type:"fusion_builder_column",cid:u,parent:t.model.get("cid"),view:n,params:a},t.collection.add([l])}),this.model.unset("added"),FusionPageBuilderViewManager.getView(FusionPageBuilderApp.parentRowId).setRowData(),FusionEvents.trigger("fusion-content-changed"),this.removeView(),e&&(_.each(c,function(e){(d=FusionPageBuilderViewManager.getView(e))&&d.scrollHighlight(e===u)}),!0===FusionPageBuilderApp.newContainerAdded?(window.fusionHistoryState=fusionBuilderText.added_section,FusionPageBuilderApp.newContainerAdded=!1):window.fusionHistoryState=fusionBuilderText.added_columns,FusionEvents.trigger("fusion-history-save-step",window.fusionHistoryState),jQuery(".fusion-builder-live").removeClass("fusion-builder-blank-page-active"))},addCustomSection:function(e){var t,i,o,n,s=this.model,a=this.model.get("parent"),r=FusionPageBuilderViewManager.getView(a),l=this;o=r.$el.prev(".fusion-builder-container"),FusionPageBuilderApp.targetContainerCID=o.data("cid"),e&&e.preventDefault(),void 0!==r&&r.removeContainer(),!0!==FusionPageBuilderApp.layoutIsLoading&&(FusionPageBuilderApp.layoutIsLoading=!0,t=jQuery(e.currentTarget).data("layout_id"),i=jQuery(e.currentTarget).find(".fusion_module_title").text(),n=jQuery(e.currentTarget).closest("li").hasClass("fusion-global"),jQuery(e.currentTarget).parent(".fusion-builder-all-modules").css("opacity","0"),jQuery(e.currentTarget).parent(".fusion-builder-all-modules").prev("#fusion-loader").show(),jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,data:{action:"fusion_builder_load_layout",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,fusion_is_global:n,fusion_layout_id:t}}).done(function(i){var o=JSON.parse(i);FusionPageBuilderApp.shortcodesToBuilder(o.post_content,FusionPageBuilderApp.parentRowId),FusionPageBuilderApp.layoutIsLoading=!1,jQuery(e.currentTarget).parent(".fusion-builder-all-modules").css("opacity","1"),jQuery(e.currentTarget).parent(".fusion-builder-all-modules").prev("#fusion-loader").hide(),n&&setTimeout(fusionGlobalManager.handleGlobalsFromLibrary,500,t,FusionPageBuilderApp.parentRowId)}).always(function(){s.unset("added"),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.added_custom_section+i),jQuery(".fusion-builder-live").removeClass("fusion-builder-blank-page-active"),FusionEvents.trigger("fusion-content-changed"),l.removeView()}))},addNextPage:function(e){var t,i,o=this.model.get("parent"),n=FusionPageBuilderViewManager.getView(o);e&&e.preventDefault(),t=n.$el.prev(".fusion-builder-container"),FusionPageBuilderApp.targetContainerCID=t.find(".fusion-builder-data-cid").data("cid"),i=FusionPageBuilderViewManager.generateCid(),this.collection.add([{type:"fusion_builder_next_page",added:"manually",module_type:"fusion_builder_next_page",cid:i,params:{},view:n,appendAfter:t,created:"auto"}]),void 0!==n&&(FusionPageBuilderApp.targetContainerCID="",n.removeContainer()),FusionEvents.trigger("fusion-content-changed"),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.added_nextpage),this.removeView()},removeView:function(){this.remove()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.GeneratorElementsView=window.wp.Backbone.View.extend({className:"fusion_builder_modal_settings",template:FusionPageBuilder.template(jQuery("#fusion-builder-generator-modules-template").html()),events:{"click .fusion-builder-all-modules .fusion-builder-element":"addElement","click .fusion-builder-column-layouts .generator-column":"addColumns","click .fusion-builder-column-layouts .generator-section":"addContainer"},initialize:function(e){this.options=e,this.listenTo(FusionEvents,"fusion-modal-view-removed",this.remove)},render:function(){return this.$el.html(this.template(FusionPageBuilderApp.elements)),FusionApp.elementSearchFilter(this.$el),FusionApp.dialog.dialogTabs(this.$el),this},addElement:function(e){var t,i,o,n,s,a,r,l;e&&e.preventDefault(),(t=jQuery(e.currentTarget)).find(".fusion_module_title").text(),(i=t.find(".fusion_module_label").text())in fusionAllElements?(n=fusionAllElements[i].multi,s=fusionAllElements[i].shortcode):(o="",n="",s=""),r=jQuery.extend(!0,{},fusionAllElements[i].params),o={},_.each(r,function(e){var t;t=_.isObject(e.value)?e.default:e.value,o[e.param_name]=t}),l={type:"generated_element",added:"manually",element_type:s,params:o,view:this.options.view,multi:n,target:this.options.targetCid,cid:FusionPageBuilderViewManager.generateCid()},"undefined"!==o.element_content&&"undefined"!=typeof tinyMCE&&"undefined"!==tinyMCE.activeEditor&&void 0===n&&window.tinyMCE.activeEditor&&(a=window.tinyMCE.activeEditor.selection.getContent())&&(l.params.element_content=a,window.tinyMCE.activeEditor.selection.setContent(""),a="",delete l.added),this.collection.add(l),FusionPageBuilderApp.shortcodeGenerator="",FusionPageBuilderApp.shortcodeGeneratorEditorID="",this.remove()},addColumns:function(e){var t,i,o,n,s,a,r,l="[fusion_builder_row_inner]",u="fusion_builder_column_inner",d="[/fusion_builder_row_inner]";!FusionPageBuilderApp.builderActive&&jQuery(e.target).closest("#builder-regular-columns").length&&(l="",u="fusion_builder_column",d=""),e&&e.preventDefault(),FusionPageBuilderApp.activeModal="column",t=this,i=(jQuery(e.target).is("li")?jQuery(e.target):jQuery(e.target).closest("li")).data("layout").split(","),_.size(i),o=this.options.view,n=fusionAllElements[u].params,s={},_.each(n,function(e){a=_.isObject(e.value)?e.default:e.value,s[e.param_name]=a}),_.each(i,function(e,i){var n;s.type=e,n={type:"generated_element",added:"manually",element_type:u,view:o,params:s},r=t.collection.add(n),l+=FusionPageBuilderApp.generateElementShortcode(r,!1,!0)}),l+=d,fusionBuilderInsertIntoEditor(l,FusionPageBuilderApp.shortcodeGeneratorEditorID),FusionPageBuilderApp.shortcodeGenerator="",FusionPageBuilderApp.shortcodeGeneratorEditorID="",this.remove()},addContainer:function(e){var t,i,o;e&&e.preventDefault(),FusionPageBuilderApp.activeModal="container",FusionPageBuilderViewManager.generateCid(),t=fusionAllElements.fusion_builder_container.params,i={},_.each(t,function(e){o=_.isObject(e.value)?e.default:e.value,i[e.param_name]=o}),this.collection.add([{type:"generated_element",added:"manually",element_type:"fusion_builder_container",params:i,view:this}])}})});FusionPageBuilder=FusionPageBuilder||{};!function(e){e(document).ready(function(){FusionPageBuilder.NestedColumnView=FusionPageBuilder.BaseColumnView.extend({template:FusionPageBuilder.template(e("#fusion-builder-inner-column-template").html()),events:{"click .fusion-builder-add-element":"addModule","click .fusion-builder-settings-column":"settings","click .fusion-builder-column-remove":"removeColumn","click .fusion-builder-column-clone":"cloneColumn","click .fusion-builder-column-size":"sizesShow","click .column-size":"sizeSelectWirefame","click .fusion-builder-column-drag":"preventDefault"},initialize:function(){this.$el.attr("data-cid",this.model.get("cid")),this.$el.attr("data-column-size",this.model.attributes.params.type),void 0!==this.model.attributes.params&&void 0!==this.model.attributes.params.fusion_global&&(this.$el.attr("fusion-global-layout",this.model.attributes.params.fusion_global),this.$el.removeClass("fusion-global-nested-column").addClass("fusion-global-nested-column")),this.columnSpacer=!1,this.forceAppendChildren=!1,this.listenTo(FusionEvents,"fusion-view-update-fusion_builder_column_inner",this.reRender),this.baseColumnInit(),this.baseInit()},render:function(){var e=this,t=this.getTemplateAtts();return this.$el.html(this.template(t)),void 0!==this.model.attributes.selectors&&this.setElementAttributes(this.$el,this.model.attributes.selectors),this.appendChildren(),setTimeout(function(){e.droppableColumn(),e.sortableElements(),e.disableSortableElements()},100),this},droppableColumn:function(){var e=this,t=this.$el,i=this.model.get("cid"),o=t.find(".fusion-nested-column-target"),n=jQuery("#fb-preview")[0].contentWindow.jQuery("body");t.draggable({appendTo:FusionPageBuilderApp.$el,zIndex:999999,delay:100,cursorAt:{top:15,left:15},iframeScroll:!0,containment:n,cancel:".fusion-builder-live-element",helper:function(){var e=FusionPageBuilderApp.DraggableHelpers.draggableClasses(i);return jQuery('<div class="fusion-column-helper '+e+'" data-cid="'+i+'"><span class="fusiona-column"></span></div>')},start:function(){n.addClass("fusion-nested-column-dragging fusion-active-dragging"),t.addClass("fusion-being-dragged")},stop:function(){setTimeout(function(){n.removeClass("fusion-nested-column-dragging fusion-active-dragging")},10),t.removeClass("fusion-being-dragged")}}),o.droppable({tolerance:"touch",hoverClass:"ui-droppable-active",accept:".fusion-builder-column-inner",drop:function(i,o){var n,s,a,r,l=o.draggable.data("cid"),u=FusionPageBuilderViewManager.getView(l),d=u.model.get("parent"),c=t;"large"===FusionApp.getPreviewWindowSize()||void 0===e.isFlex||!0!==e.isFlex?(jQuery(i.target).hasClass("target-after")?c.after(o.draggable):t.before(o.draggable),n=o.draggable.closest(".fusion-builder-row-content").data("cid"),s=FusionPageBuilderViewManager.getView(n),r=o.draggable.parent().children(".fusion-builder-column-inner").index(o.draggable),FusionPageBuilderApp.onDropCollectionUpdate(u.model,r,n),s.setRowData(),n!==d&&(a=FusionPageBuilderViewManager.getView(d)).setRowData(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.column+" order changed"),setTimeout(function(){"object"!=typeof a||FusionPageBuilderApp.sameContainerTypes(a.model.get("parent"),s.model.get("parent"))?u.droppableColumn():(FusionEvents.trigger("fusion-close-settings-"+u.model.get("cid")),u.reRender())},300)):FusionPageBuilderViewManager.getView(e.model.get("parent"))._updateResponsiveColumnsOrder(o.draggable,c.closest(".fusion-builder-row").children(".fusion-builder-column-inner"),parseInt(jQuery(i.target).closest(".fusion-builder-column-inner").data("cid")),jQuery(i.target).hasClass("target-after"))}}),t.find(".fusion-element-target-column").droppable({tolerance:"touch",hoverClass:"ui-droppable-active",accept:".fusion-builder-live-element",drop:function(i,o){var n,s,a=e.model.get("cid"),r=o.draggable.data("cid"),l=FusionPageBuilderViewManager.getView(r);t.find(".fusion-nested-column-content").append(o.draggable),n=o.draggable.parent().children(".fusion-builder-live-element").index(o.draggable),FusionPageBuilderApp.onDropCollectionUpdate(l.model,n,a),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.moved+" "+fusionAllElements[l.model.get("element_type")].name+" "+fusionBuilderText.element),s={currentModel:l.model,handleType:"save",attributes:l.model.attributes},fusionGlobalManager.handleMultiGlobal(s),FusionEvents.trigger("fusion-content-changed"),e._equalHeights()}}),FusionPageBuilderApp.wireframeActive&&this.disableDroppableColumn()},disableDroppableColumn:function(){var e=this.$el,t=e.find(".fusion-column-target");void 0!==e.draggable("instance")&&e.draggable("destroy"),void 0!==t.droppable("instance")&&t.droppable("destroy"),void 0!==e.find(".fusion-element-target-column").droppable("instance")&&e.find(".fusion-element-target-column").droppable("destroy")},enableDroppableColumn:function(){this.droppableColumn()},refreshJs:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-fusion_builder_column_inner",this.model.attributes.cid)},setElementAttributes:function(e,t){"object"==typeof t&&e.length&&_.each(t,function(t,i){"class"===i?e.addClass(t):"id"===i?e.attr("id",t):"style"===i?e.attr("style",t):-1!==i.indexOf("data")&&(i=i.replace(/_/g,"-"),e.attr(i,t))})},removeColumn:function(e){var t,i=FusionPageBuilderViewManager.getView(this.model.get("parent")),o=this.$el.closest(".fusion-builder-column-outer").data("cid");e&&e.preventDefault(),setTimeout(function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-content-changed",o)},300),t=FusionPageBuilderViewManager.getChildViews(this.model.get("cid")),_.each(t,function(e){e.removeElement()}),FusionPageBuilderViewManager.removeView(this.model.get("cid")),FusionEvents.trigger("fusion-element-removed",this.model.get("cid")),this.model.destroy(),this.remove(),i.setRowData(),e&&FusionEvents.trigger("fusion-content-changed")},appendChildren:function(){var e,t,i=this;this.model.children.each(function(o){e=o.attributes.cid,t=FusionPageBuilderViewManager.getView(e),i.$el.find(".fusion-builder-column-content").append(t.$el),t.delegateEvents()})},addChildView:function(e){var t,i={model:e,collection:FusionPageBuilderElements,attributes:{"data-cid":e.get("cid")}};t=void 0!==e.get("multi")&&"multi_element_parent"===e.get("multi")?void 0!==FusionPageBuilder[e.get("element_type")]?new(FusionPageBuilder[e.get("element_type")])(i):new FusionPageBuilder.ParentElementView(i):void 0!==FusionPageBuilder[e.get("element_type")]?new(FusionPageBuilder[e.get("element_type")])(i):new FusionPageBuilder.ElementView(i),FusionPageBuilderViewManager.addView(e.get("cid"),t),void 0!==this.model&&this.model.get("type"),_.isUndefined(e.get("targetElement"))||void 0!==e.get("from")?void 0===e.get("targetElementPosition")||"end"===e.get("targetElementPosition")?this.$el.find(".fusion-builder-column-content.fusion-nested-column-content").append(t.render().el):this.$el.find(".fusion-builder-column-content.fusion-nested-column-content").find(".fusion-builder-empty-column").after(t.render().el):void 0===e.get("targetElementPosition")||"after"===e.get("targetElementPosition")?e.get("targetElement").after(t.render().el):e.get("targetElement").before(t.render().el),"off"!==FusionApp.preferencesData.open_settings&&void 0!==e.get("added")&&t.settings()},cloneColumn:function(e){var t=jQuery.extend(!0,{},this.model.attributes),i=FusionPageBuilderViewManager.getView(this.model.get("parent"));e&&e.preventDefault(),t.created="manually",t.cid=FusionPageBuilderViewManager.generateCid(),t.targetElement=this.$el,t.cloned=!0,t.at_index=FusionPageBuilderApp.getCollectionIndex(this.$el),FusionPageBuilderApp.collection.add(t),this.$el.find(".fusion-builder-live-element").each(function(){var e,i,o,n;jQuery(this).hasClass("fusion-builder-live-element")&&(e=jQuery(this),i=void 0===e.data("cid")?e.find(".fusion-builder-data-cid").data("cid"):e.data("cid"),o=FusionPageBuilderElements.find(function(e){return e.get("cid")==i}),(n=jQuery.extend(!0,{},o.attributes)).created="manually",n.cid=FusionPageBuilderViewManager.generateCid(),n.parent=t.cid,n.from="fusion_builder_column_inner",delete n.targetElementPosition,FusionPageBuilderApp.collection.add(n))}),e&&(FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.cloned+" "+fusionBuilderText.column),i.createVirtualRows(),i.updateColumnsPreview(),FusionEvents.trigger("fusion-content-changed")),this._refreshJs()},sizeSelectWirefame:function(e){var t=this.model.attributes.params.type,i="",o="",n="",s=this.getColumnSizeText(t),a="",r=FusionPageBuilderViewManager.getView(this.model.get("parent"));void 0!==e&&(e.preventDefault(),void 0!==(i=jQuery(e.currentTarget).attr("data-column-size"))&&(n=i.replace("_","/"),o=this.getColumnSizeText(i),this.$el.attr("data-column-size",i),this.$el.removeClass(s),this.$el.removeClass(t),this.$el.removeClass("fusion-builder-column-"+t),this.$el.removeClass("fusion_builder_column_"+t),this.$el.removeClass("fusion_builder_column_inner_"+t),this.$el.addClass(o),this.$el.addClass(i),this.$el.addClass("fusion-builder-column-"+i),this.$el.addClass("fusion_builder_column_"+i),this.$el.find(".fusion-builder-resize-inner-column").text(n),setTimeout(function(){r.$el.find(".fusion-builder-column-inner").each(function(){a+=jQuery(this).attr("data-column-size").replace("_","/")+" + "}),r.$el.find(".fusion-builder-module-preview p").html(a.slice(0,a.length-3))},100)),this.sizeSelect(e))},getColumnSizeText:function(e){var t="";switch(e){case"1_1":t="fusion-one-full";break;case"1_4":t="fusion-one-fourth";break;case"3_4":t="fusion-three-fourth";break;case"1_2":t="fusion-one-half";break;case"1_3":t="fusion-one-third";break;case"2_3":t="fusion-two-third";break;case"1_5":t="fusion-one-fifth";break;case"2_5":t="fusion-two-fifth";break;case"3_5":t="fusion-three-fifth";break;case"4_5":t="fusion-four-fifth";break;case"5_6":t="fusion-five-sixth";break;case"1_6":t="fusion-one-sixth"}return t},onOptionChange:function(e,t,i){var o=this.model.get("parent"),n=this.model.get("cid"),s=!1;switch((void 0===i||void 0!==i&&("change"!==i.type||"change"===i.type&&void 0!==i.srcElement))&&(s=!0),e){case"spacing":this.model.attributes.params[e]=t,this.validColumnSpacing(t)&&FusionPageBuilderViewManager.getView(o).setSingleRowData(n),!0===s&&("yes"===t||"no"===t?this.destroySpacingResizable():(this.columnSpacer=!1,this.columnSpacing()));break;case"margin_top":case"margin_bottom":this.model.attributes.params[e]=t,!0===s&&(this.destroyMarginResizable(),this.marginDrag());break;case"padding_top":case"padding_right":case"padding_bottom":case"padding_left":this.model.attributes.params[e]=t,!0===s&&(this.destroyPaddingResizable(),this.paddingDrag())}},sortableElements:function(){var e=this;this.$el.find(".fusion-builder-column-content").sortable({items:".fusion-builder-live-element",connectWith:".fusion-builder-column-inner .fusion-builder-column-content",cancel:".fusion-builder-settings, .fusion-builder-clone, .fusion-builder-remove, .fusion-builder-element-save, .fusion-builder-add-element, .fusion-builder-insert-column, .fusion-builder-save-module-dialog, .fusion-builder-inner-row-close",tolerance:"pointer",appendTo:e.$el.find(".fusion-builder-column-content").parent(),helper:"clone",over:function(t){e.onSortOver(t)},update:function(t,i){e.onSortUpdate(t,i)},stop:function(t,i){e.onSortStop(t,i)}})},isBlockLayout:function(){return this.values&&"block"===this.values.content_layout},getColumnContent:function(){var e,t={},i="";return _.each(this.model.get("params"),function(e,i){t[i]="undefined"===e||void 0===e?"":e}),e={min_height:"",last:"no",hover_type:"none",link:"",border_position:"all"},_.each(e,function(e,i){void 0===t[i]&&(t[i]=e)}),i+='[fusion_builder_column_inner type="'+t.type+'"',_.each(t,function(e,t){i+=" "+t+'="'+e+'"'}),i+="]",this.$el.find(".fusion-builder-live-element").each(function(){i+=FusionPageBuilderApp.generateElementShortcode(jQuery(this),!1)}),i+="[/fusion_builder_column_inner]"}})})}(jQuery);FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.InnerRowView=FusionPageBuilder.BaseRowView.extend({className:"fusion_builder_row_inner fusion_builder_column_element fusion-nested-columns fusion-builder-nested-element",template:FusionPageBuilder.template(jQuery("#fusion-builder-row-inner-template").html()),defaultZIndex:10,events:{"click .fusion-builder-row-remove":"removeRow","click .fusion-builder-row-save":"openLibrary","click .fusion-builder-row-clone":"cloneNestedRow","click .fusion-builder-row-settings":"editRow","click .fusion-builder-stop-editing":"stopEdit","click .fusion-builder-cancel-row":"cancelChanges","click .fusion-builder-row-add-child":"displayInnerColumn","click .fusion-builder-insert-inner-column":"displayInnerColumn","click .fusion-builder-settings":"editNestedColumn","click .fusion-builder-modal-save":"closeNestedPopupAndSave","click .fusion-builder-inner-row-close":"closeNestedPopup","click .fusion-builder-modal-close":"closeNestedPopup","mousedown .fusion-builder-nested-columns-settings-overlay":"overlayMousedown"},initialize:function(){this.baseRowInit(),this.nestedRow=!0,this.model.set("rows",{}),this.$el.attr("data-cid",this.model.get("cid")),void 0!==this.model.attributes.params&&void 0!==this.model.attributes.params.fusion_global&&(this.$el.attr("fusion-global-layout",this.model.attributes.params.fusion_global),this.$el.removeClass("fusion-global-nested-row").addClass("fusion-global-nested-row")),this.listenTo(FusionEvents,"fusion-close-inner-modal",this.hideInnerRowDialog),this.model.children=new FusionPageBuilder.Collection,this.savedContent="",this.listenTo(this.model.children,"add",this.addChildView),this.listenTo(FusionEvents,"fusion-builder-loaded",this.updateColumnsPreview),this.listenTo(FusionEvents,"fusion-wireframe-toggle",this.wireFrameToggled)},render:function(){var e=this;return this.$el.html(this.template(this.getTemplateAtts())),setTimeout(function(){e.droppableColumn(),e.droppableElement(),e.updateWireframeUI()},100),this},updateWireframeUI:function(){var e=this.$el,t="";this.$el.find(".fusion-nested-column-preview-columns").remove(),e.find(".fusion-builder-column-inner").each(function(){t+=String(jQuery(this).data("column-size")).replace("_","/")+" + "}),e.find(".fusion-nested-column-preview-title").after('<p class="fusion-nested-column-preview-columns">'+t.slice(0,t.length-3)+"</p>")},overlayMousedown:function(e){e.stopPropagation()},attr:function(){var e,t,i={style:""},o=FusionPageBuilderApp.getParentContainer(this),n=o&&o.isFlex(),s=jQuery.extend(!0,{},fusionAllElements.fusion_builder_container.defaults,_.fusionCleanParameters(o.model.attributes.params));return i.id="fusion-builder-row-"+this.model.get("cid"),i.class="fusion-row fusion-builder-row-container-inner fusion-builder-row-inner fusion-builder-row",i["data-cid"]=this.model.get("cid"),n&&(i.class+=" fusion-flex-align-items-"+s.flex_align_items,"stretch"!==s.align_content&&(i.class+=" fusion-flex-align-content-"+s.align_content),"flex-start"!==s.flex_justify_content&&(i.class+=" fusion-flex-justify-content-"+s.flex_justify_content),e="100%","%"===fusionSanitize.get_unit(s.flex_column_spacing)?(t=fusionSanitize.number(s.flex_column_spacing),e=fusionSanitize.number(e)*(1+t/100)+fusionSanitize.get_unit(e)):e="calc( "+e+" + "+s.flex_column_spacing+" )",i.style+="max-width:"+e+" !important;",i.style+="width:"+e+";",i.style+="margin-left: calc(-"+s.flex_column_spacing+" / 2 );",i.style+="margin-right: calc(-"+s.flex_column_spacing+" / 2 );"),i},getTemplateAtts:function(){var e={};return e.id=this.model.get("cid"),e.title=fusionAllElements[this.model.get("element_type")].name,e.params=this.model.get("params"),e.attr=this.attr(),e},getContent:function(){return this.getInnerRowContent()},droppableColumn:function(){var e=this.$el;e.find(".fusion-nested-column-target").droppable({tolerance:"touch",hoverClass:"ui-droppable-active",accept:".fusion-builder-column",drop:function(t,i){var o,n=jQuery(t.target).closest(".fusion-builder-row-content").data("cid"),s=FusionPageBuilderViewManager.getView(n),a=i.draggable.data("cid"),r=FusionPageBuilderViewManager.getView(a),l=r.model.get("parent");o=i.draggable.parent().children(".fusion-builder-column").index(i.draggable),FusionPageBuilderApp.onDropCollectionUpdate(r.model,o,self.model.get("cid")),e.find(".fusion-builder-row-container-inner").append(i.draggable),s.setRowData(),n!==l&&FusionPageBuilderViewManager.getView(l).setRowData(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.column+" order changed"),setTimeout(function(){r.droppableColumn()},300)}})},disableDroppableElement:function(){var e=this.$el;void 0!==e.draggable("instance")&&e.draggable("disable"),void 0!==e.find("> .fusion-element-target").droppable("instance")&&e.find("> .fusion-element-target").droppable("disable")},enableDroppableElement:function(){var e=this.$el;void 0!==e.draggable("instance")&&void 0!==e.find("> .fusion-element-target").droppable("instance")?(e.draggable("enable"),e.find("> .fusion-element-target").droppable("enable")):this.droppableElement()},droppableElement:function(){var e=this.$el,t=this.model.get("cid"),i=jQuery("#fb-preview")[0].contentWindow.jQuery("body");e.draggable({appendTo:FusionPageBuilderApp.$el,zIndex:999999,delay:100,cursorAt:{top:15,left:15},iframeScroll:!0,containment:i,cancel:".fusion-live-editable, .fusion-builder-live-child-element:not( [data-fusion-no-dragging] )",helper:function(){var e=FusionPageBuilderApp.DraggableHelpers.draggableClasses(t);return jQuery('<div class="fusion-element-helper '+e+'" data-cid="'+t+'"><span class="fusiona-column"></span></div>')},start:function(){i.addClass("fusion-element-dragging fusion-active-dragging"),e.addClass("fusion-being-dragged"),e.prev(".fusion-builder-live-element").find(".target-after").addClass("target-disabled")},stop:function(){setTimeout(function(){i.removeClass("fusion-element-dragging fusion-active-dragging")},10),e.removeClass("fusion-being-dragged"),FusionPageBuilderApp.$el.find(".target-disabled").removeClass("target-disabled")}}),e.find(".fusion-element-target").droppable({tolerance:"touch",hoverClass:"ui-droppable-active",accept:".fusion-builder-live-element, .fusion_builder_row_inner",drop:function(t,i){var o,n,s=jQuery(t.target).closest(".fusion-builder-column").data("cid"),a=FusionPageBuilderViewManager.getView(s),r=i.draggable.data("cid"),l=FusionPageBuilderViewManager.getView(r);jQuery(t.target).hasClass("target-after")?e.after(i.draggable):e.before(i.draggable),n=i.draggable.parent().children(".fusion-builder-live-element, .fusion_builder_row_inner").index(i.draggable),FusionPageBuilderApp.onDropCollectionUpdate(l.model,n,s),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.moved+" "+fusionAllElements[l.model.get("element_type")].name+" "+fusionBuilderText.element),o={currentModel:l.model,handleType:"save",attributes:l.model.attributes},fusionGlobalManager.handleMultiGlobal(o),FusionEvents.trigger("fusion-content-changed"),a._equalHeights()}}),FusionPageBuilderApp.wireframeActive&&this.disableDroppableElement()},cloneNestedRow:function(e,t){var i,o;"object"==typeof e&&e.preventDefault(),(i=jQuery.extend(!0,{},this.model.attributes)).created="manually",i.cid=FusionPageBuilderViewManager.generateCid(),i.at_index=FusionPageBuilderApp.getCollectionIndex(this.$el),"object"==typeof e?(i.targetElement=this.$el,i.targetElementPosition="after"):"clone"===e&&delete i.targetElementPosition,t&&(i.parent=t),FusionPageBuilderApp.collection.add(i),this.$el.find(".fusion-builder-column-inner").each(function(){var e=jQuery(this),t=e.data("cid"),n=FusionPageBuilderViewManager.getView(t);(o=jQuery.extend(!0,{},n.model.attributes)).created="manually",o.cid=FusionPageBuilderViewManager.generateCid(),o.parent=i.cid,FusionPageBuilderApp.collection.add(o),e.find(".fusion-builder-live-element").each(function(){var e=jQuery(this),t=void 0===e.data("cid")?e.find(".fusion-builder-data-cid").data("cid"):e.data("cid"),i=FusionPageBuilderElements.find(function(e){return e.get("cid")==t}),n=jQuery.extend(!0,{},i.attributes);n.created="manually",n.cid=FusionPageBuilderViewManager.generateCid(),n.parent=o.cid,n.from="fusion_builder_row_inner",delete n.targetElementPosition,FusionPageBuilderApp.collection.add(n)})}),t||(FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.cloned_nested_columns),FusionEvents.trigger("fusion-content-changed"))},editRow:function(e){var t,i;e&&e.preventDefault(),this.model.unset("added"),this.updateSavedContent(),(t=FusionPageBuilderViewManager.getView(this.model.get("parent"))).$el.addClass("fusion-builder-editing-child"),t.$el.removeClass("active"),t.$el.closest(".fusion-builder-container").removeClass("fusion-column-sizer-active").addClass("fusion-container-editing-child"),(i=t.$el.closest(".fusion-builder-row")).addClass("fusion-builder-row-editing-child"),i.parent().closest(".fusion-builder-row").addClass("fusion-builder-row-editing-child"),this.$el.addClass("editing"),this.$el.append('<div class="fusion-row-overlay"></div>'),jQuery("body").addClass("nested-ui-active"),jQuery("#fb-preview")[0].contentWindow.jQuery("body").append('<div class="fusion-row-overlay"></div>'),jQuery("#fb-preview")[0].contentWindow.jQuery("body").addClass("nested-ui-active nested-columns-edited"),FusionEvents.trigger("fusion-row-nested-edit"),FusionEvents.trigger("fusion-history-pause-tracking")},updateSavedContent:function(){this.savedContent=this.getInnerRowContent()},stopEdit:function(e){e&&e.preventDefault(),this.removeEditUI(),this.closeChildrenSettings(),FusionEvents.trigger("fusion-history-resume-tracking"),!0===this.contentChanged()&&(window.fusionHistoryState=fusionBuilderText.edited+" "+fusionAllElements[this.model.get("element_type")].name+" "+fusionBuilderText.element,FusionEvents.trigger("fusion-history-save-step",window.fusionHistoryState))},contentChanged:function(){return this.getInnerRowContent()!==this.savedContent},removeEditUI:function(e){var t;e&&e.preventDefault(),(t=FusionPageBuilderViewManager.getView(this.model.get("parent"))).$el.removeClass("fusion-builder-editing-child"),t.$el.closest(".fusion-builder-row").removeClass("fusion-builder-row-editing-child"),t.$el.closest(".fusion-container-editing-child").removeClass("fusion-container-editing-child"),this.$el.removeClass("editing"),this.$el.find(".fusion-row-overlay").remove(),jQuery("body").removeClass("nested-ui-active"),jQuery("#fb-preview")[0].contentWindow.jQuery("body").find(".fusion-row-overlay").remove(),jQuery("#fb-preview")[0].contentWindow.jQuery("body").removeClass("nested-ui-active nested-columns-edited")},closeChildrenSettings:function(){_.each(this.collection.models,function(e){("element"===e.attributes.type||"fusion_builder_column_inner"===e.attributes.type)&&0<jQuery('.fusion_builder_module_settings[data-cid="'+e.attributes.cid+'"]').length&&FusionEvents.trigger("fusion-close-settings-"+e.attributes.cid)})},getInnerRowContent:function(){var e="",t=this.$el,i=t.data("cid");return FusionPageBuilderElements.findWhere({cid:i}),e+="[fusion_builder_row_inner]",t.find(".fusion-builder-column-inner").each(function(){var t=jQuery(this).data("cid"),i=FusionPageBuilderViewManager.getView(t);e+=i.getColumnContent()}),e+="[/fusion_builder_row_inner]"},removeRow:function(e){var t,i=FusionPageBuilderViewManager.getView(this.model.get("parent"));e&&e.preventDefault(),t=FusionPageBuilderViewManager.getChildViews(this.model.get("cid")),_.each(t,function(e){e.removeColumn()}),FusionPageBuilderViewManager.removeView(this.model.get("cid")),FusionEvents.trigger("fusion-element-removed",this.model.get("cid")),this.model.destroy(),this.remove(),e&&(FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.deleted_nested_columns),FusionEvents.trigger("fusion-content-changed"),i.$el.find(".fusion-builder-module-controls-container a").trigger("mouseleave"),this.removeEditUI())},cancelChanges:function(e){e&&e.preventDefault(),this.removeEditUI(),this.closeChildrenSettings(),!0===this.contentChanged()&&(FusionPageBuilderApp.shortcodesToBuilder(this.savedContent,this.model.get("parent"),"undefined","undefined",this.$el),this.removeRow()),FusionEvents.trigger("fusion-history-resume-tracking")},addNestedColumn:function(e,t,i,o){var n,s,a,r,l,u;return r=this.model.get("cid"),n=this.options.view,s=fusionAllElements.fusion_builder_column_inner.params,a={},_.each(s,function(e){l=_.isObject(e.value)?e.default:e.value,a[e.param_name]=l}),a.type=e,u={type:"fusion_builder_column_inner",element_type:"fusion_builder_column_inner",cid:FusionPageBuilderViewManager.generateCid(),parent:r,view:n,params:a,targetElement:i,at_index:o},u=jQuery.extend(!0,{},u),this.collection.add([u]),u.cid},appendChildren:function(e=!0){var t,i,o=this;this.model.children.each(function(n){t=n.attributes.cid,i=FusionPageBuilderViewManager.getView(t),o.$el.find(".fusion-builder-row-container-inner").append(e?i.render().$el:i.$el),i.delegateEvents()})},addChildView:function(e){var t,i={model:e,collection:FusionPageBuilderElements,attributes:{"data-cid":e.get("cid")}};i.className="fusion-builder-column fusion-builder-column-inner fusion-builder-column-"+e.attributes.params.type,this.createVirtualRows(),t=new FusionPageBuilder.NestedColumnView(i),_.isUndefined(e.get("cloned"))||!0!==e.get("cloned")||(e.targetElement=t.$el,e.unset("cloned")),FusionPageBuilderViewManager.addView(e.get("cid"),t),_.isUndefined(e.get("targetElement"))||void 0!==e.get("from")?(void 0===e.get("targetElementPosition")||"end"===e.get("targetElementPosition")?this.$el.find(".fusion-builder-row-container-inner").append(t.render().el):this.$el.find(".fusion-builder-row-container-inner").prepend(t.render().el),e.unset("from")):void 0===e.get("targetElementPosition")||"after"===e.get("targetElementPosition")?e.get("targetElement").after(t.render().el):e.get("targetElement").before(t.render().el),this.updateColumnsPreview()},displayInnerColumn:function(e){var t,i,o;e&&e.preventDefault(),o=jQuery(e.currentTarget).closest(".fusion-builder-column-inner").data("cid"),FusionPageBuilderApp.parentRowId=this.model.get("cid"),i={model:this.model,collection:this.collection,view:this,attributes:{"data-modal_view":"nested_column_library","data-parent_cid":this.model.get("cid"),"data-nested_column_cid":o},nested:!0},t=new FusionPageBuilder.NestedColumnLibraryView(i),jQuery(t.render().el).dialog({title:"Select Column",width:FusionApp.dialog.dialogWidth,height:FusionApp.dialog.dialogHeight,draggable:!1,modal:!0,resizable:!1,dialogClass:"fusion-builder-dialog fusion-builder-element-library-dialog",open:function(e){jQuery(e.target).find(".fusion-builder-modal-top-container").appendTo(".fusion-builder-element-library-dialog .ui-dialog-titlebar"),FusionApp.dialog.resizeDialog()},close:function(){t.remove()}})},editNestedColumn:function(e){e&&e.preventDefault(),this.savedContent=this.getInnerRowContent(),this.$el.find(".fusion-builder-row-content").addClass("fusion-builder-row-content-active"),this.$el.closest(".fusion-row").addClass("fusion-builder-row-active"),this.$el.closest(".fusion-builder-ui-wireframe").addClass("fusion-builder-nested-cols-dialog-open"),this.$el.closest(".fusion-builder-column").removeClass("active"),this.$el.closest(".fusion-builder-container").removeClass("fusion-column-sizer-active"),FusionEvents.trigger("fusion-history-turn-on-tracking"),FusionEvents.trigger("fusion-history-capture-editor"),FusionEvents.trigger("fusion-history-turn-off-tracking"),FusionEvents.trigger("fusion-history-pause-tracking")},closeNestedPopupAndSave:function(e){e&&e.preventDefault(),this.updateWireframeUI(),this.$el.find(".fusion-builder-row-content").removeClass("fusion-builder-row-content-active"),this.$el.closest(".fusion-row").removeClass("fusion-builder-row-active"),this.$el.closest(".fusion-builder-ui-wireframe").removeClass("fusion-builder-nested-cols-dialog-open")},closeNestedPopup:function(e){e&&e.preventDefault(),this.$el.find(".fusion-builder-row-content").removeClass("fusion-builder-row-content-active"),this.$el.closest(".fusion-row").removeClass("fusion-builder-row-active"),this.$el.closest(".fusion-builder-ui-wireframe").removeClass("fusion-builder-nested-cols-dialog-open"),!0===this.contentChanged()&&(FusionPageBuilderApp.shortcodesToBuilder(this.savedContent,this.model.get("parent"),"undefined","undefined",this.$el),this.removeRow()),FusionEvents.trigger("fusion-history-resume-tracking")},openLibrary:function(e){var t={model:{target:jQuery(e.currentTarget).data("target"),focus:jQuery(e.currentTarget).data("focus"),element_cid:this.model.get("cid"),element_name:void 0!==this.model.get("admin_label")&&""!==this.model.get("admin_label")?this.model.get("admin_label"):""}};e&&(e.preventDefault(),e.stopPropagation(),FusionPageBuilderApp.sizesHide(e)),new FusionPageBuilder.LibraryView(t).render(),FusionPageBuilderApp.removeContextMenu()},wireFrameToggled:function(){FusionPageBuilderApp.wireframeActive?(jQuery("body").hasClass("nested-ui-active")&&this.stopEdit(),this.enableSortableColumns(),this.disableDroppableElement(),this.updateWireframeUI()):(this.disableSortableColumns(),this.enableDroppableElement())},recalculateMargins:function(){var e=this.attr();this.$el.find(".fusion-builder-row-container-inner").first().attr("style",e.style)},disableSortableColumns:function(){this.$el.find(".fusion-builder-row-container").sortable("disable")},sortableColumns:function(){var e=".fusion-builder-column-inner",t=this;this.$el.find(".fusion-builder-row-container-inner").sortable({items:e,helper:"clone",cancel:".fusion-builder-settings-column, .fusion-builder-column-size, .fusion-builder-column-clone, .fusion-builder-column-remove, .fusion-builder-add-element, .fusion-builder-insert-column, .fusion-builder-save-column, .column-sizes, .fusion-builder-modal-save, .fusion-builder-inner-row-close",tolerance:"pointer",update:function(){t.onSortUpdate()},stop:function(i,o){t.onSortStop(i,o,e)}}).disableSelection()}})});FusionPageBuilder=FusionPageBuilder||{};!function(e){e(document).ready(function(){FusionPageBuilder.BlankPageView=window.wp.Backbone.View.extend({className:"fusion-builder-blank-page",template:FusionPageBuilder.template(e("#fusion-builder-blank-page-template").html()),events:{"click .fusion-builder-new-section-add":"addContainer","click .fusion-builder-video-button":"openVideoModal","click #fusion-load-template-dialog":"openLibrary"},initialize:function(){this.$el.attr("data-cid",this.model.get("cid"))},render:function(){var e=this.getColorScheme(FusionApp.settings.content_bg_color);return this.$el.html(this.template(this.model.toJSON())),this.$el.addClass("fusion-builder-scheme-"+e),this.$el.find("#video-dialog").dialog({dialogClass:"fusion-builder-dialog fusion-video-dialog",autoOpen:!1,modal:!0,height:470,width:700}),this},getColorScheme:function(e){return e="string"!=typeof e?"#ffffff":e.replace("#",""),parseInt(e,16)>8388607.5?"light":"dark"},openVideoModal:function(e){e&&e.preventDefault(),jQuery("#video-dialog").dialog("open"),jQuery("#video-dialog iframe").focus(),jQuery("#video-dialog iframe")[0].contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")},addContainer:function(e){var t,i,o,n;e&&(e.preventDefault(),FusionPageBuilderApp.newContainerAdded=!0),t=FusionPageBuilderViewManager.generateCid(),i=fusionAllElements.fusion_builder_container.params,o={},_.each(i,function(e){n=_.isObject(e.value)?e.default:e.value,o[e.param_name]=n,"dimension"===e.type&&_.isObject(e.value)&&_.each(e.value,function(e,t){o[t]=e})}),this.collection.add([{type:"fusion_builder_container",added:"manually",element_type:"fusion_builder_container",cid:t,params:o,view:this,created:"auto"}]),FusionPageBuilderViewManager.getView(t).addRow(),this.removeBlankPageHelper()},openLibrary:function(e){var t={model:{target:jQuery(e.currentTarget).data("target"),focus:jQuery(e.currentTarget).data("focus")}};e&&(e.preventDefault(),e.stopPropagation(),FusionPageBuilderApp.sizesHide(e)),new FusionPageBuilder.LibraryView(t).render()},removeBlankPageHelper:function(e){e&&e.preventDefault(),FusionPageBuilderViewManager.removeView(this.model.get("cid")),this.model.destroy(),jQuery("#video-dialog").length&&jQuery("#video-dialog").dialog("destroy"),this.remove()}}),jQuery("body").on("click",".ui-dialog-titlebar-close",function(){var e=jQuery(this).closest(".ui-dialog");e.find("#video-dialog").length&&(e.find("#video-dialog iframe")[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"),e.hide())})})}(jQuery);FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.PreferencesView=window.wp.Backbone.View.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-front-end-preferences").html()),events:{"click .fusion-panel-description":"showHideDescription","change .button-set-value":"optionChanged"},initialize:function(){},render:function(){var e=this;return this.$el.html(this.template()),this.$el=this.$el.dialog({title:"Preferences",width:600,height:FusionApp.dialog.dialogHeight,draggable:!1,resizable:!1,modal:!0,dialogClass:"fusion-builder-dialog fusion-builder-settings-dialog fusion-builder-preferences-dialog",open:function(e){var t=jQuery(e.target);FusionPageBuilder.options.radioButtonSet.optionRadioButtonSet(t),FusionApp.dialog.resizeDialog()},close:function(){e.saveChanges()}}).closest(".ui-dialog"),this},optionChanged:function(){var e,t={},i=[];for(this.$el.find("input").each(function(){t[jQuery(this).attr("id")]=jQuery(this).val(),t[jQuery(this).attr("id")]!==FusionApp.preferencesData[jQuery(this).attr("id")]&&i.push(jQuery(this).attr("id"))}),FusionApp.preferencesData=t,e=0;e<i.length;e++)FusionEvents.trigger("fusion-preferences-"+i[e]+"-updated")},saveChanges:function(){var e={};jQuery("li.fusion-builder-preferences").css("pointer-events","none"),this.$el.find("input").each(function(){e[jQuery(this).attr("id")]=jQuery(this).val()}),FusionApp.preferencesData=e,jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,dataType:"JSON",data:{action:"fusion_app_save_builder_preferences",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,preferences:e}}).done(function(e){FusionApp.preferences=e,jQuery("li.fusion-builder-preferences").css("pointer-events","auto")}),this.removeView()},removeView:function(){this.$el.find(".fusion-save-element-fields").remove(),this.$el.find(".fusion-tabs-menu").appendTo("#fusion-builder-front-end-library"),this.remove()},showHideDescription:function(e){var t=jQuery(e.currentTarget);t.closest(".fusion-builder-option").find(".description").first().slideToggle(250),t.toggleClass("active")}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.ElementPreviewView=window.wp.Backbone.View.extend({className:"fusion_module_block_preview ",dynamicParams:{},contentPreviewElements:["fusion_text","fusion_title","fusion_alert","fusion_button","fusion_imageframe","fusion_sharing"],globalIconPlaceholder:"#fusion_dynamic_data_icon#",initialize:function(){this.dynamicParams=this.options.dynamicParams,jQuery("#"+fusionAllElements[this.model.attributes.element_type].preview_id).length?this.template=FusionPageBuilder.template(jQuery("#"+fusionAllElements[this.model.attributes.element_type].preview_id).html()):this.template=FusionPageBuilder.template(jQuery("#fusion-builder-block-module-default-preview-template").html())},render:function(){var e=this.template(this.getTemplateAttributes());return this.$el.html(this.updatePreview(e)),this},getTemplateAttributes:function(){var e=jQuery.extend(!0,{},this.model.attributes),t=this.getDynamicData(),i="";return-1!==this.contentPreviewElements.indexOf(this.model.attributes.element_type)&&(_.isEmpty(t)||void 0===t.element_content||(i="","undefined"!=typeof FusionApp&&void 0!==FusionApp.data.dynamicOptions[t.element_content.data]?i=FusionApp.data.dynamicOptions[t.element_content.data].label:void 0!==fusionDynamicData.dynamicOptions[t.element_content.data]&&(i=fusionDynamicData.dynamicOptions[t.element_content.data].label),e.params.element_content=this.globalIconPlaceholder+i)),e},updatePreview:function(e){var t,i=this.getDynamicData(),o=[],n=!1,s='<span class="fusiona-dynamic-data"></span>',a="",r="";return void 0!==this.model.attributes.multi&&"multi_element_parent"===this.model.attributes.multi&&void 0!==this.model.attributes.params.element_content&&-1!==this.model.attributes.params.element_content.indexOf("dynamic_params")&&(n=!0),-1!==this.contentPreviewElements.indexOf(this.model.attributes.element_type)||_.isEmpty(i)&&!n||(t=jQuery("<div />",{html:e}),n&&(t.find("ul").remove(),void 0!==fusionAllElements[this.model.attributes.element_type]&&void 0!==fusionAllElements[fusionAllElements[this.model.attributes.element_type].element_child]&&(r=fusionAllElements[fusionAllElements[this.model.attributes.element_type].element_child].name,o.push(r))),_.each(i,function(e){a="","undefined"!=typeof FusionApp&&void 0!==FusionApp.data.dynamicOptions[e.data]?a=FusionApp.data.dynamicOptions[e.data].label:void 0!==fusionDynamicData.dynamicOptions[e.data]&&(a=fusionDynamicData.dynamicOptions[e.data].label),o.push(a)}),t.append('<div class="fusion-builder-dynamic-data-preview fusion-builder-dynamic-data-preview-inline">'+s+o.join(", ")+"</div>"),e=t.html()),e.replace(this.globalIconPlaceholder,s)},getDynamicData:function(){var e={};return void 0!==this.dynamicParams?e=this.dynamicParams.getAll():void 0!==this.model.attributes.dynamic_params&&(e=this.model.attributes.dynamic_params),e}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.NextPage=FusionPageBuilder.BaseView.extend({className:"fusion-builder-next-page",template:FusionPageBuilder.template(jQuery("#fusion-builder-next-page-template").html()),events:{"click .fusion-builder-delete-next-page":"removeNextPage","click .fusion-builder-next-page-toggle":"toggleNextPagePreview","click .fusion-builder-next-page-link":"changePageTrigger"},initialize:function(){var e=this.model.get("params");this.$el.attr("data-cid",this.model.get("cid")),FusionApp.data.next_page_elements_count<=FusionPageBuilderViewManager.countElementsByType("fusion_builder_next_page")&&(FusionApp.data.next_page_elements_count+=1),e.last&&this.$el.addClass("fusion-builder-next-page-last"),this.listenTo(FusionEvents,"fusion-wireframe-toggle",this.wireFrameToggled)},render:function(){var e=this,t=this.getTemplateAtts();return this.$el.html(this.template(t)),this.addPaginationLinks(),setTimeout(function(){e.droppableContainer()},100),this},droppableContainer:function(){var e=this.$el,t=this.model.get("cid"),i=jQuery("#fb-preview")[0].contentWindow.jQuery("body");e&&(e.draggable({appendTo:FusionPageBuilderApp.$el,zIndex:999999,delay:100,cursorAt:{top:15,left:15},iframeScroll:!0,containment:i,cancel:".fusion-builder-column",helper:function(){var e=FusionPageBuilderApp.DraggableHelpers.draggableClasses(t);return jQuery('<div class="fusion-container-helper '+e+'" data-cid="'+t+'"><span class="fusiona-container"></span></div>')},start:function(){i.addClass("fusion-container-dragging fusion-active-dragging"),e.addClass("fusion-being-dragged"),e.prev(".fusion-builder-container").length&&e.prev(".fusion-builder-container").addClass("hide-target-after"),e.prev(".fusion-fusion-builder-next-pager").length&&e.prev(".fusion-fusion-builder-next-page").addClass("hide-target-after")},stop:function(){setTimeout(function(){i.removeClass("fusion-container-dragging fusion-active-dragging")},10),e.removeClass("fusion-being-dragged"),FusionPageBuilderApp.$el.find(".hide-target-after").removeClass("hide-target-after")}}),e.find(".fusion-container-target").droppable({tolerance:"touch",hoverClass:"ui-droppable-active",accept:".fusion-builder-container, .fusion-builder-next-page",drop:function(t,i){jQuery(t.target).hasClass("target-after")?e.after(i.draggable):e.before(i.draggable),FusionEvents.trigger("fusion-content-changed"),FusionPageBuilderApp.scrollingContainers(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.nextpage+" Element order changed")}}),FusionPageBuilderApp.wireframeActive&&this.disableDroppableContainer())},enableDroppableContainer:function(){var e=this.$el;void 0!==e.draggable("instance")&&void 0!==e.find(".fusion-container-target").droppable("instance")?(e.draggable("enable"),e.find(".fusion-container-target").droppable("enable")):this.droppableContainer()},disableDroppableContainer:function(){var e=this.$el;void 0!==e.draggable("instance")&&e.draggable("disable"),void 0!==e.find(".fusion-container-target").droppable("instance")&&e.find(".fusion-container-target").droppable("disable")},wireFrameToggled:function(){FusionPageBuilderApp.wireframeActive?this.disableDroppableContainer():this.enableDroppableContainer()},getTemplateAtts:function(){var e={},t=Math.max(FusionApp.data.next_page_elements_count,FusionPageBuilderViewManager.countElementsByType("fusion_builder_next_page"));return e.pages=t,e=this.filterTemplateAtts(e)},addPaginationLinks:function(){var e,t=jQuery("#fb-preview").contents().find(".fusion-builder-next-page"),i="";for(e=1;e<=FusionApp.data.next_page_elements_count;e++)i=1===e?" current":"",this.$el.find(".fusion-builder-next-page-pagination").append('<a class="fusion-builder-next-page-link'+i+'" href="#" data-page="'+e+'">'+e+"</a>");t.find(".fusion-builder-next-page-pagination").eq(0).find(".fusion-builder-next-page-link").length<FusionApp.data.next_page_elements_count&&t.each(function(){jQuery(this).find(".fusion-builder-next-page-pagination").append('<a class="fusion-builder-next-page-link" href="#" data-page="'+FusionApp.data.next_page_elements_count+'">'+FusionApp.data.next_page_elements_count+"</a>")})},removeNextPage:function(e){var t=jQuery("#fb-preview").contents().find(".fusion-builder-next-page"),i=jQuery("#fb-preview").contents().find(".fusion-builder-container"),o=this.$el.hasClass("live-preview-active"),n=t.index(this.$el);e&&e.preventDefault(),FusionPageBuilderViewManager.removeView(this.model.get("cid")),this.model.destroy(),this.remove(),FusionApp.data.next_page_elements_count-=1,jQuery("#fb-preview").contents().find(".fusion-builder-next-page").each(function(){jQuery(this).find(".fusion-builder-next-page-link").eq(0).remove(),jQuery(this).find(".fusion-builder-next-page-link").each(function(e){jQuery(this).attr("data-page",e+1),jQuery(this).html(e+1)})}),o&&(jQuery(t.get(n)).length&&2<t.length?this.changePage(n):(i.show(),2===t.length&&this.toggleNextPagePreview())),FusionEvents.trigger("fusion-content-changed"),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.deleted_nextpage)},toggleNextPagePreview:function(e){var t=jQuery("#fb-preview").contents().find(".fusion-builder-next-page"),i=jQuery("#fb-preview").contents().find(".fusion-builder-next-page-last"),o=jQuery("#fb-preview").contents().find(".fusion-builder-container"),n=t.index(this.$el);e&&e.preventDefault(),this.$el.hasClass("live-preview-active")?(t.show(),i.hide(),o.show()):this.changePage(n),t.toggleClass("live-preview-active")},changePageTrigger:function(e){var t=parseInt(jQuery(e.target).html(),10)-1;e.preventDefault(),this.changePage(t)},changePage:function(e){var t=jQuery("#fb-preview").contents().find(".fusion-builder-next-page").eq(e),i=jQuery("#fb-preview").contents().find(".fusion-builder-next-page").eq(e-1),o=jQuery("#fb-preview").contents().find(".fusion-builder-next-page"),n=jQuery("#fb-preview").contents().find(".fusion-builder-container");o.removeClass("fusion-next-page-active"),o.find(".fusion-builder-next-page-link").removeClass("current"),o.hide(),n.hide(),t.addClass("fusion-next-page-active"),t.show(),t.find('.fusion-builder-next-page-link[data-page="'+(e+1)+'"]').addClass("current"),0===e?t.prevAll(".fusion-builder-container").show():(t.prevAll(".fusion-builder-container").show(),i.prevAll(".fusion-builder-container").hide())},nextPageTriggerEvent:function(e){FusionEvents.trigger("fusion-next-page"),e&&(e.preventDefault(),FusionEvents.trigger("fusion-next-page"))}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.keyBoardShorCutsView=window.wp.Backbone.View.extend({template:FusionPageBuilder.template(jQuery("#fusion-builder-front-end-keyboard-shortcuts").html()),events:{"click .fusion-open-prefernces-panel":"openPreferencePanel"},initialize:function(){},render:function(){var e=this;return this.$el.html(this.template()),this.$el=this.$el.dialog({title:"Keyboard Shortcuts",width:600,height:FusionApp.dialog.dialogHeight,draggable:!1,resizable:!1,modal:!0,dialogClass:"fusion-builder-large-library-dialog fusion-builder-dialog fusion-builder-keyboard-shortcuts-dialog",open:function(){FusionApp.dialog.resizeDialog()},close:function(){e.removeDialog()}}).closest(".ui-dialog"),this},removeDialog:function(){this.remove()},openPreferencePanel:function(){this.remove(),jQuery(".fusion-builder-preferences").trigger("click")}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.LibraryView=window.wp.Backbone.View.extend({el:"#fusion-builder-front-end-library",events:{"click .fusion-tabs-menu > li > a":"switchTab","change .fusion-builder-demo-select":"demoSelect","input .fusion-builder-demo-page-link":"demoSelectByURL","click .fusion-builder-demo-button-load":"loadDemoPage","click .fusion-builder-demo-layout-button-load":"loadDemoLayout","click .ui-dialog-titlebar-close":"removeView","click .fusion-builder-layout-button-load":"loadLayout","click .fusion-builder-layout-button-save":"saveLayout","click .fusion-builder-layout-button-delete":"deleteLayout","click .fusion-builder-element-button-save":"saveElement"},initialize:function(){var e=this;jQuery(document).on("click",".fusion-builder-library-dialog .fusion-tabs-menu > li > a",function(t){e.switchTab(t)}),this.listenTo(FusionEvents,"fusion-show-loader",this.showLoader),this.listenTo(FusionEvents,"fusion-hide-loader",this.hideLoader)},showLoader:function(){jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-builder-live-editor").css("height","148px"),jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-builder-live-editor").append('<div class="fusion-builder-element-content fusion-loader"><span class="fusion-builder-loader"></span></div>'),jQuery("#fb-preview")[0].contentWindow.jQuery("#fusion_builder_container").hide()},hideLoader:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("#fusion_builder_container").fadeIn("fast"),jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-builder-live-editor > .fusion-builder-element-content.fusion-loader").remove(),jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-builder-live-editor").removeAttr("style")},render:function(){var e=this;return this.$el=this.$el.dialog({title:fusionBuilderText.builder_ibrary_title,width:FusionApp.dialog.dialogWidth,height:FusionApp.dialog.dialogHeight,draggable:!1,resizable:!1,modal:!0,dialogClass:"fusion-builder-large-library-dialog fusion-builder-dialog fusion-builder-library-dialog",open:function(){FusionApp.dialog.resizeDialog()},close:function(){e.removeView()}}).closest(".ui-dialog"),this.appendSave(),this.targetTab(),this.focusInput(),this},targetTab:function(){void 0!==this.model.target?this.$el.find('.fusion-tabs-menu > li > a[href="'+this.model.target+'"]').trigger("click"):this.$el.find(".fusion-tabs-menu > li:first-child > a").trigger("click")},focusInput:function(){var e=this;void 0!==this.model.focus&&setTimeout(function(){e.$el.find(e.model.target).find(e.model.focus).focus()},200)},appendSave:function(){var e,t;void 0!==this.model.target&&void 0!==this.model.element_cid&&(t=void 0!==(e=FusionPageBuilderViewManager.getView(this.model.element_cid)).getSaveLabel?e.getSaveLabel():fusionBuilderText.save_element,jQuery(this.model.target).find(".fusion-builder-layouts-header-element-fields").append('<div class="fusion-save-element-fields"><div class="save-as-global"><label><input type="checkbox" id="fusion_save_global" name="fusion_save_global">'+fusionBuilderText.save_global+'</label></div><input type="text" value="'+this.model.element_name+'" id="fusion-builder-save-element-input" class="fusion-builder-save-element-input" placeholder="'+fusionBuilderText.enter_name+'" /><a href="#" class="fusion-builder-save-column fusion-builder-element-button-save" data-element-cid="'+this.model.element_cid+'">'+t+"</a></div>"))},switchTab:function(e){var t=jQuery(e.target),i=t.attr("href");e&&e.preventDefault(),FusionEvents.trigger("fusion-switch-element-option-tabs"),t.parent("li").addClass("current").removeClass("inactive"),t.parent("li").siblings().removeClass("current").addClass("inactive"),this.$el.find(".fusion-builder-layouts-tab").css("display","none"),this.$el.find(i).css("display","block")},demoSelect:function(e){var t=jQuery(e.target).val();jQuery("#fusion-builder-layouts-demos .fusion-page-layouts").addClass("hidden"),jQuery("#fusion-builder-demo-url-invalid").addClass("hidden"),jQuery(".fusion-builder-demo-page-link").val(""),jQuery("#fusion-builder-layouts-demos .demo-"+t).removeClass("hidden")},demoSelectByURL:function(e){var t,i,o,n=jQuery(e.target).val();"/"===(n=n.replace("https://","").replace("http://",""))[n.length-1]||_.isEmpty(n)||(n+="/"),i=(t=jQuery("#fusion-builder-layouts-demos").find('.fusion-page-layout[data-page-link="'+n+'"]')).closest(".fusion-page-layouts"),jQuery("#fusion-builder-layouts-demos .fusion-page-layouts").addClass("hidden"),jQuery("#fusion-builder-demo-url-invalid").addClass("hidden"),_.isEmpty(n)?(o=jQuery(".fusion-builder-demo-select").val(),jQuery("#fusion-builder-layouts-demos .demo-"+o).removeClass("hidden")):t.length?(i.show(),i.find(".fusion-page-layout").hide(),t.show()):jQuery("#fusion-builder-demo-url-invalid").removeClass("hidden")},loadDemoPage:function(e){var t,i,o,n,s=this,a=document.getElementById("fb-preview").contentWindow.document,r=a.write;a.write=function(){},document.write=function(){},e&&e.preventDefault(),FusionApp.confirmationPopup({title:fusionBuilderText.import_demo_page,content:fusionBuilderText.importing_single_page,actions:[{label:fusionBuilderText.cancel,classes:"no",callback:function(){FusionApp.confirmationPopup({action:"hide"})}},{label:fusionBuilderText.ok,classes:"yes",callback:function(){!0!==FusionPageBuilderApp.layoutIsLoading&&(FusionPageBuilderApp.layoutIsLoading=!0,FusionPageBuilderApp.loaded=!1,t=jQuery(e.currentTarget).data("page-name"),i=jQuery(e.currentTarget).data("demo-name"),o=jQuery(e.currentTarget).data("post-id"),jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,data:{action:"fusion_builder_load_demo",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,page_name:t,demo_name:i,post_id:o},beforeSend:function(){FusionEvents.trigger("fusion-show-loader"),FusionApp.confirmationPopup({action:"hide"}),s.$el.css("display","none"),s.$el.next(".ui-widget-overlay").css("display","none")}}).done(function(e){var t,i,o=!1;FusionPageBuilderApp.layoutLoaded(),i=void 0!==(t=JSON.parse(e)).custom_css&&t.custom_css,n=t.post_content,i&&(FusionApp.data.postMeta._fusion_builder_custom_css=i),jQuery.each(t.post_meta,function(e,t){o=!0,FusionApp.data.postMeta[e]=t[0]}),void 0!==t.page_template&&FusionApp.data.postMeta._wp_page_template!==t.page_template&&(FusionApp.data.postMeta._wp_page_template=t.page_template,o=!0),o&&FusionApp.contentChange("page","page-option"),FusionApp.data.postContent=n,FusionApp.contentChange("page","builder-content"),i&&"undefined"!=typeof avadaPanelIFrame&&avadaPanelIFrame.liveUpdatePageCustomCSS(i),FusionPageBuilderApp.clearBuilderLayout(!1),FusionPageBuilderApp.createBuilderLayout(n),o&&FusionApp.fullRefresh(),FusionPageBuilderApp.layoutIsLoading=!1}).always(function(){FusionEvents.trigger("fusion-hide-loader"),a.write=r,document.write=r,FusionPageBuilderApp.loaded=!0,FusionEvents.trigger("fusion-builder-loaded"),s.removeView()}))}}]})},loadDemoLayout:function(e){var t,i,o=this,n=document.getElementById("fb-preview").contentWindow.document,s=fusionBuilderText.import_demo_layout,a=fusionBuilderText.importing_demo_layout,r=n.write;n.write=function(){},document.write=function(){},e&&e.preventDefault(),jQuery(e.target).closest(".fusion-builder-layouts-tab").is("#fusion-builder-layouts-forms")&&(a=fusionBuilderText.importing_demo_form,s=fusionBuilderText.importing_demo_form_title),FusionApp.confirmationPopup({title:s,content:a,actions:[{label:fusionBuilderText.cancel,classes:"no",callback:function(){FusionApp.confirmationPopup({action:"hide"})}},{label:fusionBuilderText.ok,classes:"yes",callback:function(){!0!==FusionPageBuilderApp.layoutIsLoading&&(FusionPageBuilderApp.layoutIsLoading=!0,FusionPageBuilderApp.loaded=!1,layoutName=jQuery(e.currentTarget).data("layout-name"),t=jQuery(e.currentTarget).data("post-id"),jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,data:{action:"fusion_builder_load_demo_layout",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,layout_name:layoutName,post_id:t},beforeSend:function(){FusionEvents.trigger("fusion-show-loader"),FusionApp.confirmationPopup({action:"hide"}),o.$el.css("display","none"),o.$el.next(".ui-widget-overlay").css("display","none")}}).done(function(e){FusionPageBuilderApp.layoutLoaded(),i=e.data.post_content,FusionApp.data.postContent=i,FusionApp.contentChange("page","builder-content"),"object"==typeof e.data._fusion&&(_.each(e.data._fusion,function(e,t){FusionApp.data.postMeta._fusion[t]=e}),FusionApp.contentChange("page","page-option")),FusionPageBuilderApp.clearBuilderLayout(!1),FusionPageBuilderApp.createBuilderLayout(i),FusionPageBuilderApp.layoutIsLoading=!1}).always(function(){FusionEvents.trigger("fusion-hide-loader"),n.write=r,document.write=r,FusionPageBuilderApp.loaded=!0,FusionEvents.trigger("fusion-builder-loaded"),jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-sticky-header-reinit"),o.removeView()}))}}]})},loadLayout:function(e){var t,i,o,n=this;e&&e.preventDefault(),!0!==FusionPageBuilderApp.layoutIsLoading&&(FusionPageBuilderApp.layoutIsLoading=!0,t=jQuery(e.currentTarget).closest(".fusion-page-layout"),i=jQuery(e.currentTarget).data("load-type"),FusionPageBuilderApp.builderToShortcodes(),o=FusionApp.getPost("post_content"),FusionPageBuilderApp.loaded=!1,jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,data:{action:"fusion_builder_load_layout",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,fusion_layout_id:t.data("layout_id")},beforeSend:function(){FusionEvents.trigger("fusion-show-loader"),n.$el.css("display","none"),n.$el.next(".ui-widget-overlay").css("display","none")}}).done(function(e){var t,n,s=!1,a=void 0!==FusionApp.data.postMeta._fusion_builder_custom_css?FusionApp.data.postMeta._fusion_builder_custom_css:"";FusionPageBuilderApp.layoutLoaded(),n=void 0!==(t=JSON.parse(e)).custom_css&&t.custom_css,"above"===i?(o=t.post_content+o,n&&(FusionApp.data.postMeta._fusion_builder_custom_css=n+"\n"+a)):"below"===i?(o+=t.post_content,n&&(FusionApp.data.postMeta._fusion_builder_custom_css=a+"\n"+n)):(o=t.post_content,n&&(FusionApp.data.postMeta._fusion_builder_custom_css=n),jQuery.each(t.post_meta,function(e,t){s=!0,FusionApp.data.postMeta[e]=t[0]}),void 0!==t.page_template&&FusionApp.data.postMeta._wp_page_template!==t.page_template&&(FusionApp.data.postMeta._wp_page_template=t.page_template,s=!0),s&&FusionApp.contentChange("page","page-option")),FusionApp.setPost("post_content",o),FusionApp.contentChange("page","builder-content"),s?FusionApp.fullRefresh(!1,{},{post_content:o}):(n&&"undefined"!=typeof avadaPanelIFrame&&avadaPanelIFrame.liveUpdatePageCustomCSS(n),FusionPageBuilderApp.clearBuilderLayout(!1),FusionPageBuilderApp.createBuilderLayout(o)),FusionPageBuilderApp.layoutIsLoading=!1}).always(function(){FusionPageBuilderApp.loaded=!0,FusionEvents.trigger("fusion-builder-loaded"),FusionEvents.trigger("fusion-hide-loader"),jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-sticky-header-reinit"),n.removeView()}))},saveLayout:function(e){var t,i,o,n,s,a;e&&e.preventDefault(),FusionPageBuilderApp.builderToShortcodes(),t=FusionApp.getPost("post_content"),i=jQuery("#new_template_name").val(),o=jQuery("#fusion-builder-layouts-templates .fusion-page-layouts"),n=jQuery("#fusion_builder_main_container").data("post-id"),s=void 0!==FusionApp.data.postMeta._fusion_builder_custom_css?FusionApp.data.postMeta._fusion_builder_custom_css:"",a=void 0!==FusionApp.data.postMeta._wp_page_template?FusionApp.data.postMeta._wp_page_template:"",""!==i?(jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,dataType:"json",data:{action:"fusion_builder_save_layout",fusion_po_type:"object",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,fusion_layout_name:i,fusion_layout_content:t,fusion_layout_post_type:"fusion_template",fusion_current_post_id:n,fusion_custom_css:s,fusion_page_template:a,fusion_options:FusionApp.data.postMeta,fusion_front_end:!0},complete:function(e){o.prepend(e.responseText)}}),jQuery("#new_template_name").val("")):alert(fusionBuilderText.please_enter_template_name)},deleteLayout:function(e){var t;e&&(e.preventDefault(),FusionApp.confirmationPopup({title:fusionBuilderText.are_you_sure,content:fusionBuilderText.are_you_sure_you_want_to_delete_this,actions:[{label:fusionBuilderText.cancel,classes:"no",callback:function(){FusionApp.confirmationPopup({action:"hide"})}},{label:fusionBuilderText.im_sure,classes:"yes",callback:function(){!0!==FusionPageBuilderApp.layoutIsDeleting&&(FusionPageBuilderApp.layoutIsDeleting=!0,t=jQuery(e.currentTarget).closest(".fusion-page-layout"),jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,data:{action:"fusion_builder_delete_layout",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,fusion_layout_id:t.data("layout_id")}}).done(function(){t.remove(),FusionPageBuilderApp.layoutIsDeleting=!1}),FusionApp.confirmationPopup({action:"hide"}))}}]}))},saveElement:function(e){var t=jQuery("#fusion-builder-save-element-input").val(),i=jQuery(this.model.target).find(".fusion-page-layouts"),o=jQuery(this.model.target).find("#fusion_save_global").is(":checked"),n=FusionPageBuilderViewManager.getView(this.model.element_cid),s=n.getContent(),a=void 0!==n.getCategory?n.getCategory():"elements",r=!1,l=null,u="",d={};switch(e&&e.preventDefault(),void 0!==n.model.attributes.params&&void 0!==n.model.attributes.params.fusion_global&&(l=n.model.attributes.params.fusion_global,delete(d=n.model.get("params")).fusion_global,n.model.set("params",d),s=n.getColumnContent(),d.fusion_global=l,n.model.set("params",d)),a){case"sections":u="ul.fusion-page-layouts.fusion-layout-sections li";break;case"columns":u="ul.fusion-page-layouts.fusion-layout-columns li";break;case"elements":u="ul.fusion-page-layouts.fusion-layout-elements li"}jQuery.each(jQuery(u),function(){var e=jQuery(this).find("h4.fusion-page-layout-title").html().split("<div ")[0];if(e=e.replace(/\u2013|\u2014/g,"-"),t.toLowerCase().trim()===e.toLowerCase().trim())return alert(fusionBuilderText.duplicate_element_name_error),r=!0,!1}),!0!==FusionPageBuilderApp.layoutIsSaving&&!0!==r&&(FusionPageBuilderApp.layoutIsSaving=!0,""!==t?jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,dataType:"json",data:{action:"fusion_builder_save_layout",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,fusion_layout_name:t,fusion_layout_content:s,fusion_layout_post_type:"fusion_element",fusion_layout_new_cat:a,fusion_save_global:o,fusion_front_end:!0},complete:function(e){var t,s=n.model.get("cid"),r=jQuery(e.responseText).attr("data-layout_id");FusionPageBuilderApp.layoutIsSaving=!1,i.prepend(e.responseText),jQuery(".fusion-save-element-fields").remove(),o&&(void 0===n.model.attributes.params&&(n.model.attributes.params={}),n.model.attributes.params.fusion_global=r,"sections"===a?(FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"] .fusion-builder-module-controls-type-container .fusion-builder-module-controls').after('<a href="#" class="fusion-builder-container-global fusion-builder-module-control fusion-builder-unglobal-tooltip" data-cid='+s+'><span class="fusiona-globe"></span><span class="fusion-container-tooltip"><span class="fusion-tooltip-text">'+fusionBuilderText.global_container+"</span></span></a>"),FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"] .fusion-builder-wireframe-utility-toolbar').first().append('<a href="#" class="fusion-builder-container-global fusion-builder-module-control fusion-builder-unglobal-tooltip" data-cid='+s+'><span class="fusiona-globe"></span><span class="fusion-container-tooltip"><span class="fusion-tooltip-text">'+fusionBuilderText.global_container+"</span></span></a>"),FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"]').addClass("fusion-global-container")):"columns"===a?(FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"] .fusion-builder-module-controls-inner.fusion-builder-column-controls-inner').after('<a href="#" class="fusion-builder-column-global fusion-builder-module-control fusion-builder-unglobal-tooltip" data-cid='+s+'><span class="fusiona-globe"></span><span class="fusion-column-tooltip"><span class="fusion-tooltip-text">'+fusionBuilderText.global_column+"</span></span></a>"),FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"] .fusion-builder-wireframe-utility-toolbar').first().append('<a href="#" class="fusion-builder-column-global fusion-builder-module-control fusion-builder-unglobal-tooltip" data-cid='+s+'><span class="fusiona-globe"></span><span class="fusion-column-tooltip"><span class="fusion-tooltip-text">'+fusionBuilderText.global_column+"</span></span></a>"),FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"]').addClass("fusion-global-column")):"elements"===a&&void 0!==n.model.get("multi")&&"multi_element_parent"===n.model.get("multi")?(FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"]').addClass("fusion-global-parent-element"),FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"] .fusion-builder-module-controls-inner').after('<a href="#" class="fusion-builder-element-global fusion-builder-module-control fusion-builder-unglobal-tooltip" data-cid='+s+'><span class="fusiona-globe"></span><span class="fusion-element-tooltip"><span class="fusion-tooltip-text">'+fusionBuilderText.global_element+"</span></span></a>"),FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"] .fusion-builder-wireframe-utility-toolbar').first().append('<a href="#" class="fusion-builder-element-global fusion-builder-module-control fusion-builder-unglobal-tooltip" data-cid='+s+'><span class="fusiona-globe"></span><span class="fusion-element-tooltip"><span class="fusion-tooltip-text">'+fusionBuilderText.global_element+"</span></span></a>")):"elements"===a&&"fusion_builder_row_inner"===n.model.get("element_type")?(FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"]').addClass("fusion-global-nested-row"),FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"] .fusion-builder-module-controls-inner').after('<a href="#" class="fusion-builder-element-global fusion-builder-module-control fusion-builder-unglobal-tooltip" data-cid='+s+'><span class="fusiona-globe"></span><span class="fusion-element-tooltip"><span class="fusion-tooltip-text">'+fusionBuilderText.global_element+"</span></span></a>"),FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"] .fusion-builder-wireframe-utility-toolbar').last().append('<a href="#" class="fusion-builder-element-global fusion-builder-module-control fusion-builder-unglobal-tooltip" data-cid='+s+'><span class="fusiona-globe"></span><span class="fusion-element-tooltip">'+fusionBuilderText.global_element+"</span></span></a>")):"elements"===a&&(FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"]').addClass("fusion-global-element"),FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"] .fusion-builder-module-controls-inner').after('<a href="#" class="fusion-builder-element-global fusion-builder-module-control fusion-builder-unglobal-tooltip" data-cid='+s+'><span class="fusiona-globe"></span><span class="fusion-element-tooltip"><span class="fusion-tooltip-text">'+fusionBuilderText.global_element+"</span></span></a>"),FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"] .fusion-builder-wireframe-utility-toolbar').first().append('<a href="#" class="fusion-builder-element-global fusion-builder-module-control fusion-builder-unglobal-tooltip" data-cid='+s+'><span class="fusiona-globe"></span><span class="fusion-element-tooltip"><span class="fusion-tooltip-text">'+fusionBuilderText.global_element+"</span></span></a>")),FusionPageBuilderApp.$el.find('div[data-cid="'+s+'"]').attr("fusion-global-layout",r),FusionEvents.trigger("fusion-element-added"),FusionPageBuilderApp.saveGlobal=!0,t={currentModel:n.model,handleType:"save",attributes:n.model.attributes},setTimeout(fusionGlobalManager.handleMultiGlobal,500,t),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.saved+" "+fusionAllElements[n.model.get("element_type")].name+" "+fusionBuilderText.as_global),void 0!==FusionApp.contentChange&&FusionApp.contentChange("page","builder-content"))}}):alert(fusionBuilderText.please_enter_element_name))},removeView:function(){this.$el.find(".fusion-save-element-fields").remove(),this.$el.find(".fusion-builder-modal-top-container").prependTo("#fusion-builder-front-end-library"),FusionApp.dialogCloseResets(this),this.remove()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.Wireframe=Backbone.Model.extend({initialize:function(){this.listenTo(window.FusionEvents,"fusion-preview-update",this.updateWireframe),this.listenTo(window.FusionEvents,"fusion-builder-loaded",this.openWireframeAfterFullRefresh),this.listenTo(window.FusionEvents,"fusion-undo-state",this.setUpWireFrameAfterUndo)},updateWireframe:function(e,t){"site_width"===e&&jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-builder-ui-wireframe").find("#fusion_builder_container").css("max-width",t)},openWireframeAfterFullRefresh:function(){FusionPageBuilderApp.wireframeActive&&(jQuery("body").removeClass("fusion-builder-ui-wireframe"),jQuery("#fb-preview")[0].contentWindow.jQuery("body").removeClass("fusion-builder-ui-wireframe"),this.toggleWireframe())},setUpWireFrameAfterUndo:function(e){var t=jQuery("#fb-preview")[0].contentWindow,i=t.jQuery("body").find("#fusion_builder_container"),o=i.offset().top,n=t.jQuery("body").find(".fusion-header-wrapper"),s=n.length?n.offset().top+n.outerHeight():0;e&&e.preventDefault(),setTimeout(function(){t.jQuery("body").hasClass("fusion-builder-ui-wireframe")?(i.css("max-width",window.FusionApp.settings.site_width),s>o&&i.css("margin-top",s+25+"px")):i.css({"margin-top":"","max-width":""}),window.FusionEvents.trigger("fusion-wireframe-toggle")},100)},toggleWireframe:function(e){var t=jQuery("#fb-preview")[0].contentWindow,i=t.jQuery("body").find("#fusion_builder_container"),o=i.offset().top,n=t.jQuery("body").find(".fusion-header-wrapper"),s=n.length?n.offset().top+n.outerHeight():0;e&&e.preventDefault(),setTimeout(function(){jQuery("body").toggleClass("fusion-builder-ui-wireframe"),jQuery(".fusion-builder-wireframe-toggle").toggleClass("active"),t.jQuery("body").toggleClass("fusion-builder-ui-wireframe"),t.jQuery("body").hasClass("fusion-builder-ui-wireframe")?(FusionPageBuilderApp.wireframeActive=!0,i.css("max-width",window.FusionApp.settings.site_width),s>o&&i.css("margin-top",s+25+"px"),t.jQuery("body").hasClass("nested-columns-edited")&&FusionPageBuilderViewManager.getView(t.jQuery(".fusion-builder-nested-element.editing").data("cid")).stopEdit()):(FusionPageBuilderApp.wireframeActive=!1,i.css({"margin-top":"","max-width":""})),window.FusionEvents.trigger("fusion-wireframe-toggle")},100)}}),jQuery(document).ready(function(){_.extend(FusionPageBuilder.BaseColumnView.prototype,{disableSortableElements:function(){var e=this.$el.find(".fusion-builder-column-content");void 0!==e.sortable("instance")&&e.sortable("disable"),e.removeClass("ui-sortable"),e.removeClass("ui-sortable-disabled")},enableSortableElements:function(){var e=this.$el.find(".fusion-builder-column-content");("fusion_builder_column"===this.model.get("element_type")?void 0!==e.sortable("instance"):e.data("sortable"))?(e.sortable("enable"),e.addClass("ui-sortable")):this.sortableElements()},wireFrameToggled:function(){FusionPageBuilderApp.wireframeActive?(this.disableDroppableColumn(),this.enableSortableElements()):(this.enableDroppableColumn(),this.disableSortableElements(),this._equalHeights())},onSortOver:function(e){1===jQuery(e.target).find(".fusion-builder-live-element, .fusion_builder_row_inner").length&&jQuery(e.target).find(".fusion-builder-column-content").append(".ui-sortable-placeholder")},onSortUpdate:function(){this._equalHeights()},onSortStop:function(e,t){var i,o=window.FusionPageBuilderViewManager.getView(t.item.data("cid")),n=t.item.parent().children(".fusion-builder-live-element, .fusion_builder_row_inner").index(t.item);window.FusionPageBuilderApp.onDropCollectionUpdate(o.model,n,t.item.parent().data("cid")),i={currentModel:o.model,handleType:"save",attributes:o.model.attributes},window.fusionGlobalManager.handleMultiGlobal(i),window.FusionEvents.trigger("fusion-history-save-step",window.fusionBuilderText.moved+" "+window.fusionAllElements[o.model.get("element_type")].name+" "+window.fusionBuilderText.element),window.FusionEvents.trigger("fusion-content-changed")}}),_.extend(FusionPageBuilder.BaseRowView.prototype,{enableSortableColumns:function(){var e=this.$el.find(".fusion-builder-row-container");("fusion_builder_row"===this.model.get("element_type")?void 0!==e.sortable("instance"):e.data("sortable"))?e.sortable("enable"):this.sortableColumns()},onSortUpdate:function(){},onSortStop:function(e,t,i){var o=t.item.data("cid"),n=window.FusionPageBuilderViewManager.getView(o),s=n.model.get("parent"),a=t.item.parent().data("cid"),r=t.item.parent().children(i).index(t.item);window.FusionPageBuilderApp.onDropCollectionUpdate(n.model,r,a),FusionPageBuilderViewManager.getView(a).setRowData(),a!==s&&FusionPageBuilderViewManager.getView(s).setRowData(),window.FusionEvents.trigger("fusion-history-save-step",window.fusionBuilderText.column+" order changed")}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.SettingsHelpers=Backbone.Model.extend({initialize:function(){this.openSettingsView=null,this.openChildSettingsView=null,this.modalDialogMoreView=null,this.listenTo(window.FusionEvents,"fusion-settings-modal-save",this.removeElementSettingsView),this.listenTo(window.FusionEvents,"fusion-settings-modal-cancel",this.removeElementSettingsView),this.listenTo(window.FusionEvents,"fusion-settings-removed",this.removeElementSettingsView),this.listenTo(window.FusionEvents,"fusion-preferences-editing_mode-updated",this.editingModeChanged)},shouldRenderSettings:function(e){var t,i,o=e.model.get("parent"),n="multi_element_child"===e.model.get("multi"),s=e.model.get("cid"),a="generated_element"===e.model.get("type"),r=!1,l="dialog"===window.FusionApp.preferencesData.editing_mode?jQuery(".fusion-builder-dialog.fusion-builder-settings-dialog .ui-dialog-content"):window.FusionApp.sidebarView.$el.find(".fusion-builder-custom-tab");return a?jQuery('.ui-dialog-content[data-cid="'+s+'"]').length?(jQuery('.ui-dialog-content[data-cid="'+s+'"]').closest(".ui-dialog").show(),!1):(jQuery('.ui-dialog-content:not( [data-cid="'+s+'"] )').length&&jQuery('.ui-dialog-content:not( [data-cid="'+s+'"] )').closest(".ui-dialog").hide(),!0):(l.length&&l.each(function(){if(t=jQuery(this).attr("data-cid"),i="dialog"===window.FusionApp.preferencesData.editing_mode?jQuery(this).closest(".fusion-builder-dialog.fusion-builder-settings-dialog"):jQuery(this),parseInt(s,10)===parseInt(t,10))return i.show(),void(r=!0);i.hide()}),r?("dialog"!==window.FusionApp.preferencesData.editing_mode&&window.FusionApp.sidebarView.openSidebarAndShowEOTab(),!1):(this.openSettingsView&&(n&&o===this.openSettingsView.model.get("cid")&&"multi_element_parent"===this.openSettingsView.model.get("multi")?"dialog"===window.FusionApp.preferencesData.editing_mode?this.openSettingsView.$el.closest(".fusion-builder-dialog.fusion-builder-settings-dialog").hide():this.openSettingsView.$el.hide():this.openSettingsView.saveSettings()),this.openChildSettingsView&&this.openChildSettingsView.saveSettings(),n?this.openChildSettingsView=e:this.openSettingsView=e,!0))},removeElementSettingsView:function(e){this.openSettingsView&&e===this.openSettingsView.model.get("cid")&&(this.openSettingsView=!1),this.openChildSettingsView&&e===this.openChildSettingsView.model.get("cid")&&(this.openChildSettingsView=!1)},renderDialogMoreOptions:function(e){var t="dialog"===window.FusionApp.preferencesData.editing_mode?e.$el.closest(".ui-dialog").find(".fusion-utility-menu-wrap"):e.$el.find(".fusion-utility-menu-wrap");this.modalDialogMoreView=new FusionPageBuilder.modalDialogMore({model:this.model}),jQuery(this.modalDialogMoreView.render({view:e}).el).appendTo(t),t.find(".fusion-utility-menu").off().on("click",function(e){(t=jQuery(this).closest(".fusion-utility-menu-wrap")).toggleClass("active"),e.stopPropagation(),window.FusionPageBuilderApp.sizesHide(e)})},editingModeChanged:function(){this.openSettingsView&&this.openSettingsView.saveSettings(),this.openChildSettingsView&&this.openChildSettingsView.saveSettings()}});FusionPageBuilder=FusionPageBuilder||{};_.mixin({fusionGetAttributes:function(e){var t="";return"string"==typeof e?'class="'+e+'"':(_.each(e,function(e,i){void 0!==e&&("valueless_attribute"===(e=e.toString())?t+=" "+i:0<e.length&&(e=e.replace(/\s\s+/g," "),t+=" "+i+'="'+e+'"'))}),t)},fusionCleanParameters:function(e){return Object.keys(e).forEach(function(t){e[t]&&"object"==typeof e[t]?_.fusionCleanParameters(e[t]):null!==e[t]&&""!==e[t]||delete e[t]}),e},buildTitleElement:function(e,t,i){var o,n=jQuery("body").hasClass("rtl")?"right":"left",s=parseInt(e.heading_size),a="",r="",l="",u="",d=t.title_margin.top,c=t.title_margin.bottom,h=t.title_border_color,m=t.title_style_type,p=-1!==m.indexOf("underline")||-1!==m.indexOf("none");return _.each(m.split(" "),function(e){u+=" sep-"+e}),o=" fusion-title fusion-title-size-"+["one","two","three","four","five","six"][s-1]+u,d&&(r+="margin-top:"+_.fusionGetValueWithUnit(d)+";"),c&&(r+="margin-bottom:"+_.fusionGetValueWithUnit(c)+";"),""===d&&""===c||(l+="margin:0;"),!1!==p&&(-1!==m.indexOf("underline")&&h?r+="border-bottom-color:"+h+";":-1!==m.indexOf("none")&&(u+=" fusion-sep-none")),a+='<div class="'+o+'" style="'+r+'">',!1===p&&"right"===n&&(a+='<div class="title-sep-container">',a+='<div class="title-sep'+u+'"></div>',a+="</div>"),a+="<h"+s+' class="title-heading-'+n+'" style="'+l+'">',a+=i,a+="</h"+s+">",!1===p&&"left"===n&&(a+='<div class="title-sep-container">',a+='<div class="title-sep'+u+'"></div>',a+="</div>"),a+="</div>"},fusionVisibilityAtts:function(e,t){var i,o=["small-visibility","medium-visibility","large-visibility"],n=o;return""===e&&(e=n),"no"===e&&(e=n),"yes"===e&&(n=n.filter(function(e){return"small-visibility"!==e}),e=n),"string"==typeof e&&(e=e.split(","),_.each(e,function(t,i){e[i]=t.replace(new RegExp(" ","g"),"")})),i=o,_.each(i,function(i){e&&-1===e.indexOf(i)&&("object"==typeof t?t.class+=" fusion-no-"+i:t+=" fusion-no-"+i)}),t},fusionGetAnimationTypes:function(){return["bounce","fadeIn","fadeInUp","fadeInDown","fadeInLeft","fadeInRight","flash","rubberBand","shake","slideIn","slideInUp","slideInDown","slideInLeft","slideInRight","zoomIn","zoomInUp","zoomInDown","zoomInRight","zoomInLeft"]},fusionGetAnimations:function(e){var t,i,o={};return(e=_.defaults(e,{type:"",direction:"left",speed:"0.1",offset:"bottom-in-view"})).type&&(o.animation_class="fusion-animated","static"===e.direction&&(e.direction=""),"bounce"!==e.type&&"flash"!==e.type&&"shake"!==e.type&&"rubberBand"!==e.type&&(t="In"+e.direction.charAt(0).toUpperCase()+e.direction.slice(1),e.type+=t),o["data-animationType"]=e.type,e.speed&&(o["data-animationDuration"]=e.speed)),e.offset&&(i=e.offset,"top-into-view"===e.offset?i="100%":"top-mid-of-view"===e.offset&&(i="50%"),o["data-animationOffset"]=i),o},fusionFontAwesome:function(e){var t={arrow:"angle-right",asterik:"asterisk",cross:"times","ban-circle":"ban","bar-chart":"bar-chart-o",beaker:"flask",bell:"bell-o","bell-alt":"bell","bitbucket-sign":"bitbucket-square","bookmark-empty":"bookmark-o",building:"building-o","calendar-empty":"calendar-o","check-empty":"square-o","check-minus":"minus-square-o","check-sign":"check-square",check:"check-square-o","chevron-sign-down":"chevron-circle-down","chevron-sign-left":"chevron-circle-left","chevron-sign-right":"chevron-circle-right","chevron-sign-up":"chevron-circle-up","circle-arrow-down":"arrow-circle-down","circle-arrow-left":"arrow-circle-left","circle-arrow-right":"arrow-circle-right","circle-arrow-up":"arrow-circle-up","circle-blank":"circle-o",cny:"rub","collapse-alt":"minus-square-o","collapse-top":"caret-square-o-up",collapse:"caret-square-o-down","comment-alt":"comment-o","comments-alt":"comments-o",copy:"files-o",cut:"scissors",dashboard:"tachometer","double-angle-down":"angle-double-down","double-angle-left":"angle-double-left","double-angle-right":"angle-double-right","double-angle-up":"angle-double-up",download:"arrow-circle-o-down","download-alt":"download","edit-sign":"pencil-square",edit:"pencil-square-o","ellipsis-horizontal":"ellipsis-h","ellipsis-vertical":"ellipsis-v","envelope-alt":"envelope-o","exclamation-sign":"exclamation-circle","expand-alt":"plus-square-o",expand:"caret-square-o-right","external-link-sign":"external-link-square","eye-close":"eye-slash","eye-open":"eye","facebook-sign":"facebook-square","facetime-video":"video-camera","file-alt":"file-o","file-text-alt":"file-text-o","flag-alt":"flag-o","folder-close-alt":"folder-o","folder-close":"folder","folder-open-alt":"folder-open-o",food:"cutlery",frown:"frown-o",fullscreen:"arrows-alt","github-sign":"github-square",group:"users","h-sign":"h-square","hand-down":"hand-o-down","hand-left":"hand-o-left","hand-right":"hand-o-right","hand-up":"hand-o-up",hdd:"hdd-o","heart-empty":"heart-o",hospital:"hospital-o","indent-left":"outdent","indent-right":"indent","info-sign":"info-circle",keyboard:"keyboard-o",legal:"gavel",lemon:"lemon-o",lightbulb:"lightbulb-o","linkedin-sign":"linkedin-square",meh:"meh-o","microphone-off":"microphone-slash","minus-sign-alt":"minus-square","minus-sign":"minus-circle","mobile-phone":"mobile",moon:"moon-o",move:"arrows",off:"power-off","ok-circle":"check-circle-o","ok-sign":"check-circle",ok:"check","paper-clip":"paperclip",paste:"clipboard","phone-sign":"phone-square",picture:"picture-o","pinterest-sign":"pinterest-square","play-circle":"play-circle-o","play-sign":"play-circle","plus-sign-alt":"plus-square","plus-sign":"plus-circle",pushpin:"thumb-tack","question-sign":"question-circle","remove-circle":"times-circle-o","remove-sign":"times-circle",remove:"times",reorder:"bars","resize-full":"expand","resize-horizontal":"arrows-h","resize-small":"compress","resize-vertical":"arrows-v","rss-sign":"rss-square",save:"floppy-o",screenshot:"crosshairs","share-alt":"share","share-sign":"share-square",share:"share-square-o","sign-blank":"square",signin:"sign-in",signout:"sign-out",smile:"smile-o","sort-by-alphabet-alt":"sort-alpha-desc","sort-by-alphabet":"sort-alpha-asc","sort-by-attributes-alt":"sort-amount-desc","sort-by-attributes":"sort-amount-asc","sort-by-order-alt":"sort-numeric-desc","sort-by-order":"sort-numeric-asc","sort-down":"sort-asc","sort-up":"sort-desc",stackexchange:"stack-overflow","star-empty":"star-o","star-half-empty":"star-half-o",sun:"sun-o","thumbs-down-alt":"thumbs-o-down","thumbs-up-alt":"thumbs-o-up",time:"clock-o",trash:"trash-o","tumblr-sign":"tumblr-square","twitter-sign":"twitter-square",unlink:"chain-broken",upload:"arrow-circle-o-up","upload-alt":"upload","warning-sign":"exclamation-triangle","xing-sign":"xing-square","youtube-sign":"youtube-square","zoom-in":"search-plus","zoom-out":"search-minus"},i=e;if(""!==e){if("fusion-prefix-"===e.substr(0,14))return e.replace("fusion-prefix-","");"icon-"!==e.substr(0,5)&&"fa-"===e.substr(0,3)||(void 0!==t[(e=e.replace("icon-","fa-")).replace("fa-","")]?i="fa-"+t[e.replace("fa-","")]:"fa-"!==e.substr(0,3)&&(i="fa-"+e)),-1===e.trim().indexOf(" ")&&(i="fa "+e)}return i},fusionValidateAttrValue:function(e,t,i){var o,n,s="";return i=void 0===i||i,""!==(e=String(e))&&(e=e.trim(),o=parseFloat(e),n=e.replace(o,""),s=void 0===t||""===t?o:""===n?o+t:!(!i&&n!==t)&&e),s},fusionGetVideoProvider:function(e){var t,i;return t=!1,(i=(e=e.trim()).match(/youtube\.com\/watch\?v=([^\&\?\/]+)/))?void 0!==i[1]&&(t=i[1]):(i=e.match(/youtube\.com\/embed\/([^\&\?\/]+)/))?void 0!==i[1]&&(t=i[1]):(i=e.match(/youtube\.com\/v\/([^\&\?\/]+)/))?void 0!==i[1]&&(t=i[1]):(i=e.match(/youtu\.be\/([^\&\?\/]+)/))&&void 0!==i[1]&&(t=i[1]),!1!==t?{type:"youtube",id:t}:(i=e.match(/vimeo\.com\/(\w*\/)*(\d+)/))&&1<i.length?{type:"vimeo",id:i[i.length-1]}:(i=e.match(/^\d+$/))&&void 0!==i[0]?{type:"vimeo",id:i[0]}:{type:"youtube",id:e}},fusionCheckValue:function(e){return-1===e.indexOf("%")&&-1===e.indexOf("px")&&(e+="px"),e},fusionGetValueWithUnit:function(e,t,i){var o,n,s;return t=void 0!==t?t:"px",i=void 0!==i?i:"add",o=[],e=(e=void 0===e?"":e).trim(),-1!==jQuery.inArray(e,["auto","inherit","initial"])?e:/\d/.test(e)?1<(s=e.split(" ")).length?(_.each(s,function(e){n=parseFloat(e),isNaN(n)||(e==n?e=n+t:"force_replace"===i&&(e=n+t)),o.push(e)}),o.join(" ")):e==(n=parseFloat(e))?n+t:"force_replace"===i?n+t:e:void 0},fusionSingleDimension:function(e,t){if(4===(e=e.split(" ")).length){if("top"===t)return e[0];if("right"===t)return e[1];if("bottom"===t)return e[2];if("left"===t)return e[3]}else if(3===e.length){if("top"===t)return e[0];if("right"===t||"left"===t)return e[1];if("bottom"===t)return e[2]}else if(2===e.length){if("top"===t||"bottom"===t)return e[0];if("right"===t||"left"===t)return e[1]}return e[0]},fusionGetMasonryAttribute:function(e){var t,i,o={};return t=" - "+parseFloat(e.blog_grid_column_spacing)/2+"px","string"==typeof e.element_orientation_class&&-1!==e.element_orientation_class.indexOf("fusion-element-portrait")&&(t=""),i=parseFloat(e.blog_grid_column_spacing)+"px","transparent"!==e.timeline_color&&0!==jQuery.Color(e.timeline_color).alpha()&&(t=" - "+parseFloat(e.blog_grid_column_spacing)/2+"px","string"==typeof e.element_orientation_class&&-1!==e.element_orientation_class.indexOf("fusion-element-portrait")&&(t=" + 4px"),i=parseFloat(e.blog_grid_column_spacing)-2+"px","string"==typeof e.element_orientation_class&&-1!==e.element_orientation_class.indexOf("fusion-element-landscape")&&(i=parseFloat(e.blog_grid_column_spacing)-6+"px")),o.class="fusion-masonry-element-container",o.style=e.masonry_attribute_style+"padding-top:calc((100% + "+i+") * "+e.element_base_padding+t+");",o},fusionFeaturedImage:function(e){var t=FusionPageBuilder.template(jQuery("#tmpl-featured-image").html()),i={};return"object"!=typeof e||void 0===e.featured_images?"":(i.data=e,t(i))},fusionGetElementOrientationClass:function(e,t,i){var o,n="fusion-element-grid";return void 0!==e.imageWidth&&void 0!==e.imageHeight&&("1.0"===t?(o=1.6-.4,.4+.2>e.imageHeight/e.imageWidth?n="fusion-element-landscape":o<e.imageHeight/e.imageWidth?n="fusion-element-portrait":e.imageWidth>i&&(n="fusion-element-landscape fusion-element-portrait")):t<e.imageWidth/e.imageHeight?n="fusion-element-landscape":t<e.imageHeight/e.imageWidth?n="fusion-element-portrait":e.imageWidth>i&&(n="fusion-element-landscape fusion-element-portrait")),n},fusionGetElementBasePadding:function(e){var t=.8,i={"fusion-element-grid":t,"fusion-element-landscape":t/2,"fusion-element-portrait":2*t};return void 0!==i[e]&&(t=i[e]),t},fusionRenderPostMetadata:function(e,t,i){var o="",n="";if(void 0!==i){if(t.post_meta&&"no"!==i.post_meta||!t.post_meta&&"yes"===i.post_meta){if(!(-1===jQuery.inArray(e,["alternate","grid_timeline"])||t.post_meta_author||t.post_meta_date||t.post_meta_cats||t.post_meta_tags||t.post_meta_comments))return"";t.post_meta_author&&(t.disable_date_rich_snippet_pages?o+='By <span class="vcard"><span class="fn">'+i.author_post_link+"</span></span>":o+="By <span>"+i.author_post_link+"</span>",o+='<span class="fusion-inline-sep">|</span>'),t.post_meta_date&&(o+=_.fusionRenderRichSnippets(i,!1,!1,!0),o+="<span>"+i.formatted_date+'</span><span class="fusion-inline-sep">|</span>'),t.post_meta_cats&&i.categories&&(o+=t.post_meta_tags?"Categories: "+i.categories:i.categories,o+='<span class="fusion-inline-sep">|</span>'),t.post_meta_tags&&i.tags&&(o+='<span class="meta-tags">'+window.fusionBuilderText.tags.replace("%s",i.tags)+'</span><span class="fusion-inline-sep">|</span>'),t.post_meta_comments&&"grid_timeline"!==e&&(o+='<span class="fusion-comments">'+i.comments+"</span>"),o?(o=""+o,"single"===e?n+='<div class="fusion-meta-info"><div class="fusion-meta-info-wrapper">'+o+"</div></div>":-1!==jQuery.inArray(e,["alternate","grid_timeline"])?n+='<p class="fusion-single-line-meta">'+o+"</p>":n+="recent_posts"===e?o:'<div class="fusion-alignleft">'+o+"</div>"):n+=""}else i.disable_date_rich_snippet_pages&&(n+=_.fusionRenderRichSnippets(i,!1));return n}},fusionRenderRichSnippets:function(e){var t="";if(void 0!==e)return e.disable_date_rich_snippet_pages&&(t=""),t},fusionGetBlogSlideshow:function(e){var t=FusionPageBuilder.template(jQuery("#tmpl-new-slideshow-blog-shortcode").html()),i={};return"object"!=typeof e?"":(i.data=e,t(i))},fusionGetFixedContent:function(e,t,i,o){var n,s;return t=void 0!==t?t:"no",i=void 0!==i?i:55,o="yes"===(o=void 0!==o&&o)||o||"1"==o,e.read_more=e.hasOwnProperty("read_more")?e.read_more:"","no"===t?e.full_content:(n=(n=o?e.excerpt_stripped:e.excerpt).replace(/\[/g,"&#91;").replace(/\]/g,"&#93;").replace(/\.\.\./g,"&#8230;"),s=" "+e.read_more.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;").replace(/\.\.\./g,"&#8230;").trim(),-1!==n.indexOf(s)&&(n=n.replace(s,"")),"characters"===e.excerpt_base.toLowerCase()?i<n.length&&(n=n.substring(0,i)):n=n.split(" ").splice(0,i).join(" "),n+=s,_.fusionFixHtml(n))},fusionFixHtml:function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerHTML},fusionUcFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},fusionRawUrlEncode:function(e){return e+="",encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},fusionAutoCalculateAccentColor:function(e){var t=jQuery.Color(e),i=parseInt(100*t.lightness(),10);return 0<i?50<=i?t.lightness(i/200).toRgbaString():t.lightness(i/50).toRgbaString():t.lightness(70).toRgbaString()},fusionBuildSocialLinks:function(e,t,i,o){var n,s,a,r,l,u=!1,d="",c={},h=0;if(e=_.isUndefined(e)?"":e,o=_.isUndefined(o)?0:o,_.isUndefined(i.social_icon_boxed)||(i.icons_boxed=i.social_icon_boxed),""!=e&&jQuery.isArray(e)){if(_.each(i,function(e,t){c[t="social_icon_color_type"===(t="social_icon_boxed_colors"===(t="social_icon_colors"===(t="social_icon_boxed"===t?"icons_boxed":t)?"icon_colors":t)?"box_colors":t)?"color_type":t]=e}),"brand"===c.color_type)u=!0,(n=_.fusionSocialIcons(!0,!0)).mail={label:"Email Address",color:"#000000"},s={};else for(s=void 0!==c.icon_colors?c.icon_colors.split("|"):"",n=void 0!==c.box_colors?c.box_colors.split("|"):"",a=s.length,r=n.length,l=e.length,h=0;h<l;h++)1===a&&(s[h]=s[0]),1===r&&(n[h]=n[0]);_.each(e,function(e){_.each(e,function(e,a){var r;"custom"===a&&e?_.each(e,function(e,l){var c,h,m,p="";"yes"===i.icons_boxed&&(p=o<n.length?n[o]:"",!0===u&&(p=n[a].color?n[a].color:"")),c=i.social_media_icons,_.isObject(c)||(c={}),_.isUndefined(c.custom_title)&&(c.custom_title={}),_.isUndefined(c.custom_source)&&(c.custom_source={}),_.isUndefined(c.custom_title[l])&&(c.custom_title[l]=""),_.isUndefined(c.custom_source[l])&&(c.custom_source[l]=""),r={social_network:c.custom_title[l],social_link:e,icon_color:o<s.length?s[o]:"",box_color:p},_.isFunction(t)&&(r=t(r,i)),d+="<a "+_.fusionGetAttributes(r)+">",d+="<img",_.isUndefined(c.custom_source[l].url)||(d+=' src="'+c.custom_source[l].url+'"'),_.isUndefined(c.custom_title[l])||""==c.custom_title[l]||(d+=' alt="'+c.custom_title[l]+'"'),!_.isUndefined(c.custom_source[l].width)&&c.custom_source[l].width&&(h=parseInt(c.custom_source[l].width,10),d+=' width="'+h+'"'),"undefined"!==c.custom_source[l].height&&c.custom_source[l].height&&(m=parseInt(c.custom_source[l].height,10),d+=' height="'+m+'"'),d+=" /></a>"}):(r=1==u?{social_network:a,social_link:e,icon_color:"yes"===i.icons_boxed?"#ffffff":n[a].color,box_color:"yes"===i.icons_boxed?n[a].color:""}:{social_network:a,social_link:e,icon_color:o<s.length?s[o]:"",box_color:o<n.length?n[o]:""},_.isFunction(t)&&(r=t(r,i)),d+="<a "+_.fusionGetAttributes(r)+"></a>"),o++})})}return d},fusionSocialIcons:function(e,t){var i,o;return e=!!_.isUndefined(e)||e,t=!_.isUndefined(t)&&t,i={blogger:{label:"Blogger",color:"#f57d00"},deviantart:{label:"Deviantart",color:"#4dc47d"},discord:{label:"Discord",color:"#26262B"},digg:{label:"Digg",color:"#000000"},dribbble:{label:"Dribbble",color:"#ea4c89"},dropbox:{label:"Dropbox",color:"#007ee5"},facebook:{label:"Facebook",color:"#3b5998"},flickr:{label:"Flickr",color:"#0063dc"},forrst:{label:"Forrst",color:"#5b9a68"},instagram:{label:"Instagram",color:"#3f729b"},linkedin:{label:"LinkedIn",color:"#0077b5"},myspace:{label:"Myspace",color:"#000000"},paypal:{label:"Paypal",color:"#003087"},pinterest:{label:"Pinterest",color:"#bd081c"},reddit:{label:"Reddit",color:"#ff4500"},rss:{label:"RSS",color:"#f26522"},skype:{label:"Skype",color:"#00aff0"},soundcloud:{label:"Soundcloud",color:"#ff8800"},spotify:{label:"Spotify",color:"#2ebd59"},tiktok:{label:"Tiktok",color:"#010101"},tumblr:{label:"Tumblr",color:"#35465c"},twitch:{label:"Twitch",color:"#6441a5"},twitter:{label:"Twitter",color:"#55acee"},vimeo:{label:"Vimeo",color:"#1ab7ea"},vk:{label:"VK",color:"#45668e"},wechat:{label:"WeChat",color:"#7bb22e"},whatsapp:{label:"WhatsApp",color:"#77e878"},xing:{label:"Xing",color:"#026466"},yahoo:{label:"Yahoo",color:"#410093"},yelp:{label:"Yelp",color:"#af0606"},youtube:{label:"Youtube",color:"#cd201f"},email:{label:"Email Address",color:"#000000"},phone:{label:"Phone",color:"#000000"}},e&&(i.custom={label:"Custom",color:""}),t||(o={},_.each(i,function(e){o.network_id=e.label}),i=o),i},fusionSortSocialNetworks:function(e,t){var i,o,n=[],s="";return t.social_media_icons_icon&&jQuery.isArray(t.social_media_icons_icon)&&(s=t.social_media_icons_icon.join("|")),jQuery.isArray(s)||(s=s.split("|")),jQuery.isArray(s)&&(_.each(s,function(t,s){var a;a="email"===t?"mail":t,_.isUndefined(e[t])||(i={},"custom"===t?e[t]&&(i[s]=e[t][s],(o={})[t]=i,n.push(o)):(i[a]=e[t],n.push(i),delete e[t]))}),_.each(e,function(e,t){"custom"!==t&&((i={})[t]=e,n.push(i))})),n},fusionGetSocialNetworks:function(e){var t={};return _.each({facebook:"facebook",tiktok:"tiktok",twitch:"twitch",twitter:"twitter",instagram:"instagram",linkedin:"linkedin",discord:"discord",dribbble:"dribbble",rss:"rss",youtube:"youtube",pinterest:"pinterest",flickr:"flickr",vimeo:"vimeo",tumblr:"tumblr",digg:"digg",blogger:"blogger",skype:"skype",myspace:"myspace",deviantart:"deviantart",yahoo:"yahoo",reddit:"reddit",forrst:"forrst",paypal:"paypal",dropbox:"dropbox",soundcloud:"soundcloud",vk:"vk",wechat:"wechat",whatsapp:"whatsapp",xing:"xing",yelp:"yelp",spotify:"spotify",email:"mail",phone:"phone"},function(i,o){void 0!==e[o]&&""!==e[o]&&(t[i]=e[o])}),e.show_custom&&"yes"===e.show_custom&&(t.custom={},jQuery.isArray(e.social_media_icons_icon)&&_.each(e.social_media_icons_icon,function(i,o){"custom"===i&&jQuery.isArray(e.social_media_icons_url)&&!_.isUndefined(e.social_media_icons_url[o])&&""!==e.social_media_icons_url[o]&&(e["custom_"+o]&&""!==e["custom_"+o]?t.custom[o]=e["custom_"+o]:t.custom[o]=e.social_media_icons_url[o])})),t},fusionGetPadding:function(e){return e.padding_top=void 0!==e.padding_top?_.fusionGetValueWithUnit(e.padding_top):"0px",e.padding_right=void 0!==e.padding_right?_.fusionGetValueWithUnit(e.padding_right):"0px",e.padding_bottom=void 0!==e.padding_bottom?_.fusionGetValueWithUnit(e.padding_bottom):"0px",e.padding_left=void 0!==e.padding_left?_.fusionGetValueWithUnit(e.padding_left):"0px",e.padding=e.padding_top+" "+e.padding_right+" "+e.padding_bottom+" "+e.padding_left,e},fusionGetMargin:function(e){return""!==e.margin_bottom&&(e.margin_bottom=_.fusionGetValueWithUnit(e.margin_bottom)),""!==e.margin_top&&(e.margin_top=_.fusionGetValueWithUnit(e.margin_top)),e},fusionAnimations:function(e,t){var i=!1;return e&&void 0!==e.animation_type&&""!==e.animation_type&&(i=_.fusionGetAnimations({type:e.animation_type,direction:e.animation_direction,speed:e.animation_speed,offset:e.animation_offset}),void 0!==(t=jQuery.extend(t,i)).class?t.class+=" "+t.animation_class:t.class=t.animation_class,delete t.animation_class),t},fusionPagination:function(e,t,i,o,n,s){var a,r,l,u,d,c="";if(s=void 0!==s?parseInt(s,10):2,t=void 0!==t?parseInt(t,10):1,i=parseInt(i,10),r=s,l=s,1!==(e=parseInt(e,10))){if("pagination"!==o&&"pagination"!==n.toLowerCase()?(c+='<div class="fusion-infinite-scroll-trigger"></div>',c+='<div class="pagination infinite-scroll clearfix">'):c+='<div class="pagination clearfix">',d=t+i,0>=(u=t-i)&&(u=0<t-1?t-1:1),e<d&&(d=e),"pagination"===o){if(1<t&&(c+='<a class="pagination-prev" href="#"><span class="page-prev"></span><span class="page-text">Previous</span></a>',0<r)){for(r>=u&&(r=u-1),a=1;a<=r;a++)c+='<a href="#" class="inactive">'+a+"</a>";0<r&&r<u-1&&(c+='<span class="pagination-dots paginations-dots-start">&middot;&middot;&middot;</span>')}for(a=u;a<=d;a++)c+=t==a?'<span class="current">'+a+"</span>":'<a href="#" class="inactive">'+a+"</a>";if(t<e){if(0<l)for(e-l<=d&&(l=e-d),d+1<e- --l&&(c+='<span class="pagination-dots paginations-dots-end">&middot;&middot;&middot;</span>'),a=e-l;a<=e;a++)c+='<a href="#" class="inactive">'+a+"</a>";c+='<a class="pagination-next" href="#"><span class="page-text">Next</span><span class="page-next"></span></a>'}}c+="</div>",c+='<div class="fusion-clearfix"></div>'}return c},fusionInlineEditor:function(e,t){var i=_.extend({cid:!1,param:"element_content",encoding:!1,"disable-return":!1,"disable-extra-spaces":!1,toolbar:"full",overrides:!1},e),o=FusionPageBuilderViewManager.getView(i.cid);return"number"!=typeof i.cid?t:(t["data-inline-parent-cid"]=i.cid,void 0!==t.class?t.class+=" fusion-live-editable":t.class="fusion-live-editable",i["disable-return"]&&(t["data-disable-return"]="true"),i["disable-extra-spaces"]&&(t["data-disable-extra-spaces"]="true"),i.encoding&&(t["data-encoding"]="true"),"object"==typeof i.overrides&&_.each(i.overrides,function(e,i){t["data-inline-override-"+i]=e}),t["data-toolbar"]=i.toolbar.toString(),t["data-param"]=i.param,"object"==typeof o&&"object"==typeof o.dynamicParams&&o.dynamicParams.hasDynamicParam(i.param)&&(t["data-dynamic-content-overriding"]="true"),t)},fusionContainerMapDeprecatedArgs:function(e){return(void 0!==e.backgroundattachment&&"scroll"===e.backgroundattachment||void 0!==e.background_attachment&&"scroll"===e.background_attachment)&&(e.backgroundattachment="none",e.background_attachment="none"),_.each({backgroundposition:"background_position",backgroundattachment:"background_parallax",background_attachment:"background_parallax",bordersize:"border_size",bordercolor:"border_color",borderstyle:"border_style",paddingtop:"padding_top",paddingbottom:"padding_bottom",paddingleft:"padding_left",paddingright:"padding_right",backgroundcolor:"background_color",backgroundimage:"background_image",backgroundrepeat:"background_repeat",paddingBottom:"padding_bottom",paddingTop:"padding_top"},function(t,i){void 0===e[t]&&void 0!==e[i]&&(e[t]=e[i],delete e[i])}),e},autop:function(e,t){var i,o,n,s,a,r,l,u,d=[];if(void 0===e||""===e.trim())return"";if(t=void 0===t||t,-1!==(e+="\n").indexOf("<pre")){for(o=(i=e.split("</pre>")).pop(),e="",n=0;n<i.length;n++)-1!==(a=(s=i[n]).indexOf("<pre"))?(r="<pre wp-pre-tag-"+n+"></pre>",d.push([r,s.substr(a)+"</pre>"]),e+=s.substr(0,a)+r):e+=s;e+=o}return l="(?:table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary)",e=(e=(e=(e=e.replace(/<br\s*\/?>\s*<br\s*\/?>/g,"\n\n")).replace(new RegExp("(<"+l+"[\\s/>])","g"),"\n\n$1")).replace(new RegExp("(</"+l+">)","g"),"$1\n\n")).replace(/\r\n|\r/g,"\n"),-1!==(e=this.replaceInHtmlTags(e,{"\n":" \x3c!-- wpnl --\x3e "})).indexOf("<option")&&(e=(e=e.replace(/\s*<option/g,"<option")).replace(/<\/option>\s*/g,"</option>")),-1!==e.indexOf("</object>")&&(e=(e=(e=e.replace(/(<object[^>]*>)\s*/g,"$1")).replace(/\s*<\/object>/g,"</object>")).replace(/\s*(<\/?(?:param|embed)[^>]*>)\s*/g,"$1")),-1===e.indexOf("<source")&&-1===e.indexOf("<track")||(e=(e=(e=e.replace(/([<\[](?:audio|video)[^>\]]*[>\]])\s*/g,"$1")).replace(/\s*([<\[]\/(?:audio|video)[>\]])/g,"$1")).replace(/\s*(<(?:source|track)[^>]*>)\s*/g,"$1")),-1!==e.indexOf("<figcaption")&&(e=(e=e.replace(/\s*(<figcaption[^>]*>)/,"$1")).replace(/<\/figcaption>\s*/,"</figcaption>")),u=(e=e.replace(/\n\n+/g,"\n\n")).split(/\n\s*\n/).filter(Boolean),e="",u.forEach(function(t){e+="<p>"+t.replace(/^\n*|\n*$/g,"")+"</p>\n"}),e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<p>\s*<\/p>/g,"")).replace(/<p>([^<]+)<\/(div|address|form)>/g,"<p>$1</p></$2>")).replace(new RegExp("<p>\\s*(</?"+l+"[^>]*>)\\s*</p>","g"),"$1")).replace(/<p>(<li.+?)<\/p>/g,"$1")).replace(/<p><blockquote([^>]*)>/gi,"<blockquote$1><p>")).replace(/<\/blockquote><\/p>/g,"</p></blockquote>")).replace(new RegExp("<p>\\s*(</?"+l+"[^>]*>)","g"),"$1")).replace(new RegExp("(</?"+l+"[^>]*>)\\s*</p>","g"),"$1"),t&&(e=(e=(e=(e=e.replace(/<(script|style).*?<\/\\1>/g,function(e){return e[0].replace(/\n/g,"<WPPreserveNewline />")})).replace(/<br>|<br\/>/g,"<br />")).replace(/(<br \/>)?\s*\n/g,function(e,t){return t?e:"<br />\n"})).replace(/<WPPreserveNewline \/>/g,"\n")),e=(e=(e=e.replace(new RegExp("(</?"+l+"[^>]*>)\\s*<br />","g"),"$1")).replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)/g,"$1")).replace(/\n<\/p>$/g,"</p>"),Object.keys(d).length&&(e=e.replace(new RegExp(Object.keys(d).join("|"),"gi"),function(e){return d[e]})),-1!==e.indexOf("\x3c!-- wpnl --\x3e")&&(e=e.replace(/\s?<!-- wpnl -->\s?/g,"\n")),e},htmlSplit:function(e){for(var t,i=[],o=e,n=new RegExp("(<((?=!--|!\\[CDATA\\[)((?=!-)!(?:-(?!->)[^\\-]*)*(?:--\x3e)?|!\\[CDATA\\[[^\\]]*(?:](?!]>)[^\\]]*)*?(?:]]>)?)|[^>]*>?))");t=o.match(n);)i.push(o.slice(0,t.index)),i.push(t[0]),o=o.slice(t.index+t[0].length);return o.length&&i.push(o),i},replaceInHtmlTags:function(e,t){var i,o,n,s=this.htmlSplit(e),a=!1,r=Object.keys(t);for(i=1;i<s.length;i+=2)for(o=0;o<r.length;o++)if(n=r[o],-1!==s[i].indexOf(n)){s[i]=s[i].replace(new RegExp(n,"g"),t[n]),a=!0;break}return a&&(e=s.join("")),e},fusionGetFilterStyle:function(e,t){var i="regular"===t?"":"_hover",o="regular"===t?"_hover":"",n="",s="",a="";return _.each({filter_hue:{property:"hue-rotate",unit:"deg",default:"0"},filter_saturation:{property:"saturate",unit:"%",default:"100"},filter_brightness:{property:"brightness",unit:"%",default:"100"},filter_contrast:{property:"contrast",unit:"%",default:"100"},filter_invert:{property:"invert",unit:"%",default:"0"},filter_sepia:{property:"sepia",unit:"%",default:"0"},filter_opacity:{property:"opacity",unit:"%",default:"100"},filter_blur:{property:"blur",unit:"px",default:"0"}},function(t,r){n=r+i,s=r+o,t.default===e[n]&&t.default===e[s]||(a+=t.property+"("+e[n]+t.unit+") ")}),a.trim()},fusionGetFilterStyleElem:function(e,t,i){var o,n="",s="body:not(.fusion-builder-ui-wireframe):not(.fusion-disable-element-filters) ",a="body:not(.fusion-builder-ui-wireframe):not(.fusion-disable-element-filters) ";return"object"==typeof t?(s+=t.regular,a+=t.hover):(s+=t,a+=t+":hover"),""!==(n=this.fusionGetFilterStyle(e,"regular"))&&(n=s+"{filter: "+n+";}"),""!==(o=this.fusionGetFilterStyle(e,"hover"))&&(n=n.replace("}","transition: filter 0.3s ease-in-out;}"),n+=a+"{filter: "+o+";}"),'<style id="fusion-filter-'+i+'-style">'+n+"</style>"},getGradientString:function(e,t){var i="",o=jQuery.Color(e.gradient_start_color).alpha(),n=jQuery.Color(e.gradient_end_color).alpha();if(!_.isEmpty(e.gradient_start_color)&&0!==o||!_.isEmpty(e.gradient_end_color)&&0!==n)switch("linear"===e.gradient_type?i+="linear-gradient("+e.linear_angle+"deg,":"radial"===e.gradient_type&&(i+="radial-gradient(circle at "+e.radial_direction+", "),i+=e.gradient_start_color+" "+e.gradient_start_position+"%,",i+=e.gradient_end_color+" "+e.gradient_end_position+"%)",t){case"main_bg":case"parallax":""!==e.background_image&&"yes"!==e.fade&&(i+=",url('"+e.background_image+"')");break;case"fade":case"column":""!==e.background_image&&(i+=",url('"+e.background_image+"')")}return i},fusionGetBoxShadowStyle:function(e){var t="";return t+=_.fusionGetValueWithUnit(e.box_shadow_horizontal),t+=" "+_.fusionGetValueWithUnit(e.box_shadow_vertical),t+=" "+_.fusionGetValueWithUnit(e.box_shadow_blur),t+=" "+_.fusionGetValueWithUnit(e.box_shadow_spread),t+=" "+e.box_shadow_color,void 0!==e.box_shadow_style&&""!==e.box_shadow_style&&(t+=" "+e.box_shadow_style),t+=";"},fusionGetTextShadowStyle:function(e){var t="";return t+=_.fusionGetValueWithUnit(e.text_shadow_horizontal),t+=" "+_.fusionGetValueWithUnit(e.text_shadow_vertical),t+=" "+_.fusionGetValueWithUnit(e.text_shadow_blur),t+=" "+e.text_shadow_color,t+=";"},fusionGetFontStyle:function(e,t,i="string"){var o={},n="",s="";return""!==t["fusion_font_family_"+e]&&(t["fusion_font_family_"+e].includes("'")||"inherit"===t["fusion_font_family_"+e]?o["font-family"]=t["fusion_font_family_"+e]:o["font-family"]="'"+t["fusion_font_family_"+e]+"'",""!==t["fusion_font_variant_"+e]&&((s=t["fusion_font_variant_"+e].replace("italic",""))!==t["fusion_font_variant_"+e]&&(o["font-style"]="italic"),""!==s&&(o["font-weight"]=s))),"string"===i?(jQuery.each(o,function(e,t){n+=e+":"+t+";"}),n):o},FusionIsValidJSON:function(e){try{JSON.parse(e)}catch(e){return!1}return!0},fusionGetStickyClass:function(e){return""===e||e.includes(",")?"":" fusion-display-"+e+"-only"},fusionSanitize:function(e){var t={"":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"s","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"C","":"c","":"C","":"c","":"D","":"d","":"D","":"d","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"G","":"g","":"G","":"g","":"H","":"h","":"H","":"h","":"I","":"i","":"I","":"i","":"I","":"i","":"I","":"i","":"I","":"i","":"IJ","":"ij","":"J","":"j","":"K","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"L","":"l","":"l","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"n","":"O","":"o","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"T","":"t","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"s","":"f","":"O","":"o","":"U","":"u","":"A","":"a","":"I","":"i","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"A","":"a","":"AE","":"ae","":"O","":"o","":"a","":"A","":"v","":"V","":"g","":"G","":"d","":"D","":"e","":"E","":"z","":"Z","":"i","":"I","":"th","":"TH","":"i","":"I","":"k","":"K","":"l","":"L","":"m","":"M","":"n","":"N","":"ks","":"KS","":"o","":"O","":"p","":"P","":"r","":"R","":"s","":"S","":"s","":"t","":"T","":"y","":"Y","":"f","":"F","":"x","":"X","":"ps","":"PS","":"o","":"O"," ":"_","'":"","?":"","/":"","\\":"",".":"",",":"","`":"",">":"","<":"",'"':"","[":"","]":"","|":"","{":"","}":"","(":"",")":""};return e.replace(/\W/g,function(e){return void 0!==t[e]?t[e]:e}).toLowerCase()}});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.InlineEditorHelpers=Backbone.Model.extend({initialize:function(){this._reRenderElement=_.debounce(_.bind(this.reRenderElement,this),300),this._logChangeEvent=_.debounce(_.bind(this.logChangeEvent,this),500),this.initialValue=null},logChangeEvent:function(e,t,i,o){var n=o,s={type:"param",param:e,newValue:t,cid:i.parentView.model.get("cid")},a=window.fusionAllElements[i.get("element_type")],r="object"==typeof a.params[n]?a.params[n].heading:e;s.oldValue=this.initialValue,this.initialValue=null,window.FusionEvents.trigger("fusion-history-save-step",window.fusionBuilderText.edited+" "+a.name+" - "+r,s)},updateInlineShortcode:function(e,t,i,o){var n=i.parentView.model.attributes.params.element_content,s=n.replace(e,t);i.parentView.model.attributes.params.element_content=s,i.set("inlineElement",t),null===this.initialValue&&(this.initialValue=n),this._logChangeEvent("element_content",s,i,o)},processInlineElement:function(e,t){var i,o=jQuery("#fb-preview")[0].contentWindow.jQuery(e.parentView.$el).find('[data-id="'+e.get("cid")+'"]').find('[data-toggle="tooltip"]');o.length&&o.tooltip("destroy"),this.updateInlineShortcode(e.get("inlineElement"),FusionPageBuilderApp.generateElementShortcode(e,!1,!0),e,t),i=this.getInlineElementMarkup(e),e.parentView.$el.find('[data-id="'+e.get("cid")+'"]:not(.fusion-inline-ajax)').html("").append(i),jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-fusion_text",e.parentView.model.attributes.cid)},getInlineElementMarkup:function(e){var t={model:e};return(void 0!==FusionPageBuilder[e.get("element_type")]?new(FusionPageBuilder[e.get("element_type")])(t):new FusionPageBuilder.ElementView(t)).getTemplate()},getInlineElementSettings:function(e){var t={model:e},i=new FusionPageBuilder.ElementSettingsView(t);FusionPageBuilderApp.SettingsHelpers.shouldRenderSettings(i)&&("dialog"===window.FusionApp.preferencesData.editing_mode?jQuery(i.render().el).dialog({title:window.fusionAllElements[e.get("element_type")].name,width:window.FusionApp.dialog.dialogData.width,height:window.FusionApp.dialog.dialogData.height,position:window.FusionApp.dialog.dialogData.position,dialogClass:"fusion-builder-dialog fusion-builder-settings-dialog",dragStop:function(e,t){window.FusionApp.dialog.saveDialogPosition(t.offset)},resizeStop:function(e,t){window.FusionApp.dialog.saveDialogSize(t.size)},open:function(e){var t=jQuery(e.target),i=t.find(".fusion-builder-modal-top-container");t.closest(".ui-dialog").find(".ui-dialog-titlebar").append(i),FusionPageBuilderApp.$el.addClass("fusion-builder-no-ui")},dragStart:function(e){jQuery(e.target).trigger("click")},beforeClose:function(){i.saveSettings(),window.FusionEvents.trigger("fusion-content-changed"),FusionPageBuilderApp.$el.removeClass("fusion-builder-no-ui")}}):(i.model.set("title",window.fusionAllElements[e.get("element_type")].name),i.model.set("display","sidebar"),window.FusionApp.sidebarView.renderElementSettings(i)))},removeStyle:function(e){var t,i,o,n,s=e.parentView.model.get("params");t=e.$target.closest(".fusion-live-editable"),e.$target.replaceWith(e.attributes.params.element_content),i=void 0!==(n=FusionPageBuilderApp.inlineEditors.getEditor(t.data("medium-editor-editor-index")))?n.getContent():t.html(),o=t.data("param"),i=i.replace(/&quot;/g,"'"),i=FusionPageBuilderApp.htmlToShortcode(i,e.parentView.model.get("cid")),s[o]=i,e.parentView.model.set("params",s)},liveEditor:function(e){var t=e.$el.find('.fusion-live-editable:not([data-medium-editor-element="true"])');t.length&&t.each(function(){FusionPageBuilderApp.inlineEditors.addEditorInstance(jQuery(this),e)})},removeLiveEditors:function(e){var t=e.$el.find('[data-medium-editor-element="true"]'),i=e.model.get("inlineEditors");void 0!==i&&i.length&&_.each(i,function(e){FusionPageBuilderApp.inlineEditors.destroyEditor(e)}),t.length&&t.each(function(){FusionPageBuilderApp.inlineEditors.destroyEditor(jQuery(this).data("medium-editor-editor-index"))}),e.model.set("inlineEditors",[])},liveEditorEvent:function(e){var t=this,i=e.$el.find(".fusion-live-editable");t.removeLiveEditors(e),!0===e.model.get("inline_editor")&&e.$el&&(1===i.length&&e.autoSelectEditor?FusionPageBuilderApp.inlineEditors.addEditorInstance(i,e,!0):i.on("mouseenter.inline-editor",function(){t.liveEditor(e)}),e.autoSelectEditor=!1)},getInlineHTML:function(e,t){var i;if(""===e||void 0===e)return"";try{i=jQuery(e)}catch(t){return e}return 0===i.length?i=jQuery("<span />").html(e):1<i.length&&(i=jQuery("<div />").html(e)),i.addClass("fusion-disable-editing fusion-inline-ajax").attr("contenteditable","false").attr("data-id",t),i[0].outerHTML},inlineEditorAllowed:function(e){return void 0!==window.fusionAllElements[e]&&void 0!==window.fusionAllElements[e].inline_editor&&window.fusionAllElements[e].inline_editor},updateParentElementParam:function(e,t,i,o){var n=window.FusionPageBuilderViewManager.getView(e),s=void 0!==n&&n.model.get("params");return o=void 0!==o&&o,!(void 0===e||void 0===t||void 0===i||!s||!t||i!==s[t]&&(n.activeInlineEditing=!0,o?this._reRenderElement(n,t,i):this.reRenderElement(n,t,i),0))},reRenderElement:function(e,t,i){e&&e.updateParam(t,i)&&e.reRender()},setOverrideParams:function(e,t){var i=MediumEditor.selection.getSelectionHtml(e.document),o=MediumEditor.selection.getSelectionElement(e.document),n=o?o.innerHTML.trim():"",s={};if(e.parentCid=!1,e.override=!1,o&&o.classList.contains("fusion-live-editable"))if("string"==typeof t){if(!o.getAttribute("data-inline-override-"+t)||i.trim()!==n&&jQuery("<div>"+i+"</div>").text().trim()!==jQuery("<div>"+n+"</div>").text().trim())return;e.override=o.getAttribute("data-inline-override-"+t),e.parentCid=o.getAttribute("data-inline-parent-cid")}else"object"==typeof t&&_.each(t,function(t){!o.getAttribute("data-inline-override-"+t)||i.trim()!==n&&jQuery("<div>"+i+"</div>").text().trim()!==jQuery("<div>"+n+"</div>").text().trim()?s[t]=!1:(s[t]=o.getAttribute("data-inline-override-"+t),e.parentCid=o.getAttribute("data-inline-parent-cid")),e.override=s})}});FusionPageBuilder=FusionPageBuilder||{};jQuery,_.extend(FusionPageBuilder.Callback.prototype,{fusion_preview:function(e,t,i,o){var n,s=i.property,a=window.fusionAllElements[o.model.get("element_type")];if(i.skip||o.changeParam(e,t),t||""===t)return""===t&&void 0!==a&&void 0!==a.defaults&&void 0!==a.defaults[e]&&(t=a.defaults[e]),void 0!==i.dimension&&(s=void 0!==i.property[e]?i.property[e]:e.replace(/_/g,"-")),void 0!==i.unit&&(t=_.fusionGetValueWithUnit(t,i.unit)),n=void 0===i.selector?o.$el:o.$el.find(i.selector),"string"==typeof s&&n.css(s,t),"object"==typeof s&&_.each(i.property,function(e){n.css(e,t)}),{render:!1}},fusion_update_flex_elements:function(e,t,i,o){var n=o.model.get("params"),s=void 0!==n.content_layout?n.content_layout:"column";return i.skip||o.changeParam(e,t),("block"===s&&"block"!==t||"block"===t&&"block"!==s)&&o.model.children.each(function(e){var t,i=e.attributes.cid,o=FusionPageBuilderViewManager.getView(i);o&&("fusion_title"!==(t=o.model.get("element_type"))&&"fusion_button"!==t&&"fusion_text"!==t&&"fusion_imageframe"!==t||o.reRender())}),jQuery('[data-option-id="content_layout"]').attr("data-direction",t),{render:!0}},fusion_container_padding:function(e,t,i,o){return"function"==typeof o.isFlex&&o.isFlex()?(i.skip||o.changeParam(e,t),o.setValues(),o.setResponsiveContainerStyles(),o.$el.find(".fusion-container-responsive-styles").first().html(o.responsiveStyles),{render:!1}):this.fusion_preview(e,t,i,o)},fusion_container_margin:function(e,t,i,o){return this.fusion_container_padding(e,t,i,o)},fusion_column_margin:function(e,t,i,o){return i.skip||o.changeParam(e,t),o.values.flex?(o.values={},o.setArgs(),o.validateArgs(),o.setExtraArgs(),o.setColumnMapData(),o.setResponsiveColumnStyles(),o.$el.find(".fusion-column-responsive-styles").last().html(o.responsiveStyles)):(o.$el.css(e.replace("_","-"),t),o.values[e]=t),{render:!1}},fusion_column_padding:function(e,t,i,o){return this.fusion_column_margin(e,t,i,o)},fusion_add_id:function(e,t,i,o){return i.skip||o.changeParam(e,t),(void 0===i.selector?o.$el:o.$el.find(i.selector)).attr("id",t),{render:!1}},fusion_add_class:function(e,t,i,o){var n,s=o.model.attributes.params[e];return i.skip||o.changeParam(e,t),(n=void 0===i.selector?o.$el:o.$el.find(i.selector)).removeClass(s),n.addClass(t),{render:!1}},fusion_toggle_class:function(e,t,i,o){var n;return i.skip||o.changeParam(e,t),n=void 0===i.selector?o.$el:o.$el.find(i.selector),"object"==typeof i.classes&&_.each(i.classes,function(e,i){n.removeClass(e),t===i&&n.addClass(e)}),{render:!1}},fusion_cart_hide:function(e,t,i,o){return"string"!=typeof i.selector?{render:!0}:(i.skip||o.changeParam(e,t),"no"===t?o.$el.find(".fusion-woo-cart").addClass(i.selector):o.$el.find(".fusion-woo-cart").removeClass(i.selector),{render:!1})},fusion_ajax:function(e,t,i,o,n,s,a,r){var l=jQuery.extend(!0,{},i.params),u={};void 0===e||o.skip||(l[e]=t),u.params=jQuery.extend(!0,{},window.fusionAllElements[i.element_type].defaults,_.fusionCleanParameters(l)),jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"post",dataType:"json",data:{action:s,model:u,option_name:"string"==typeof fusionOptionName&&fusionOptionName,fusion_options:"undefined"!=typeof FusionApp&&"object"==typeof FusionApp.settings&&jQuery.param(FusionApp.settings),fusion_meta:"undefined"!=typeof FusionApp&&"object"==typeof FusionApp.data.postMeta&&jQuery.param(FusionApp.data.postMeta),fusion_load_nonce:fusionAppConfig.fusion_load_nonce,post_id:FusionApp.getDynamicPost("post_id")}}).done(function(i){void 0===a&&(a=FusionPageBuilderElements.find(function(e){return e.get("cid")==n})),void 0===e||o.skip||r.changeParam(e,t),"image_id"!==e||void 0===i.image_data||void 0===i.image_data.url||o.skip||r.changeParam("image",i.image_data.url),a.set("query_data",i),"generated_element"!==a.get("type")&&(void 0===r&&(r=FusionPageBuilderViewManager.getView(n)),void 0===r||o.skip||r.reRender())})},fusion_do_shortcode:function(e,t,i,o){jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"post",dataType:"json",data:{action:"get_shortcode_render",content:t,shortcodes:void 0!==o?o:"",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,cid:e,post_id:FusionApp.getDynamicPost("post_id")}}).done(function(o){var n,s,a={},r=e;void 0!==i&&i&&(r=i),n=FusionPageBuilderElements.find(function(e){return e.get("cid")==r}),s=FusionPageBuilderViewManager.getView(r),a.output=FusionPageBuilderApp.addPlaceholder(t,o.content),s&&"function"==typeof s.filterOutput&&(a.output=s.filterOutput(a.output)),a.shortcode=t,n&&n.set("markup",a),"object"==typeof o.shortcodes&&_.each(o.shortcodes,function(e,t){FusionPageBuilderApp.extraShortcodes.addShortcode(t,FusionPageBuilderApp.addPlaceholder(t,e))}),void 0!==s&&s.reRender("ajax"),FusionPageBuilderApp.viewsToRerender&&(_.each(FusionPageBuilderApp.viewsToRerender,function(e){FusionPageBuilderViewManager.getView(e).reRender("ajax")}),FusionPageBuilderApp.viewsToRerender=[])})},fusion_code_mirror:function(e,t,i,o){return i.skip||o.changeParam(e,t),FusionPageBuilderApp.base64Encode(FusionPageBuilderApp.base64Decode(t))===t&&(t=FusionPageBuilderApp.base64Decode(t)),o.syntaxHighlighter.getDoc().setValue(t),{render:!1}},dynamic_shortcode:function(e){return void 0===e.shortcode||""===e.shortcode?"":jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"post",dataType:"json",data:{action:"get_shortcode_render",content:e.shortcode,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,cid:!1,post_id:FusionApp.getDynamicPost("post_id")}}).done(function(t){FusionPageBuilderApp.dynamicValues.setValue(e,t.content)})},post_featured_image:function(e){var t="",i=FusionApp.getDynamicPost("post_meta"),o=FusionApp.getPost("post_type_name").toLowerCase();return i._fusion=i._fusion||{},void 0===(t=void 0!==e.type&&"main"!==e.type?i._fusion["kd_"+e.type+"_"+o+"_id"]:i._thumbnail_id)||""===t?t:wp.media.attachment(t).fetch().then(function(){FusionPageBuilderApp.dynamicValues.setValue(e,wp.media.attachment(t).get("url"))})},fusion_get_object_title:function(){return void 0!==FusionApp.data?FusionApp.getDynamicPost("post_title"):""},fusion_get_post_id:function(){return void 0!==FusionApp.data?FusionApp.getDynamicPost("post_id"):""},fusion_get_object_excerpt:function(){return void 0!==FusionApp.data?FusionApp.getDynamicPost("post_excerpt"):""},fusion_get_post_date:function(e){return void 0===FusionApp.data?"":"undefined"===e.format||""===e.format?void 0!==e.type&&"modified"===e.type?FusionApp.getDynamicPost("post_modified"):FusionApp.getDynamicPost("post_date"):jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"get",dataType:"json",data:{action:"ajax_dynamic_data_default_callback",callback:FusionApp.data.dynamicOptions[e.data].callback.function,args:e,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,post_id:FusionApp.getDynamicPost("post_id")}}).done(function(t){FusionPageBuilderApp.dynamicValues.setValue(e,t.content)})},fusion_get_post_time:function(e){return void 0===FusionApp.data?"":jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"get",dataType:"json",data:{action:"ajax_dynamic_data_default_callback",callback:FusionApp.data.dynamicOptions[e.data].callback.function,args:e,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,post_id:FusionApp.getDynamicPost("post_id")}}).done(function(t){FusionPageBuilderApp.dynamicValues.setValue(e,t.content)})},fusion_get_post_terms:function(e){return void 0===FusionApp.data?"":jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"get",dataType:"json",data:{action:"ajax_dynamic_data_default_callback",callback:FusionApp.data.dynamicOptions[e.data].callback.function,args:e,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,post_id:FusionApp.getDynamicPost("post_id")}}).done(function(t){FusionPageBuilderApp.dynamicValues.setValue(e,t.content)})},fusion_get_post_custom_field:function(e){var t=FusionApp.getDynamicPost("post_meta");return t._fusion=t._fusion||{},void 0!==t[e.key]?t[e.key]:""},fusion_get_page_option:function(e){var t=FusionApp.getDynamicPost("post_meta");return t._fusion=t._fusion||{},void 0!==t._fusion[e.data]?t._fusion[e.data]:""},fusion_get_site_title:function(){return void 0!==FusionApp.data?FusionApp.data.site_title:""},fusion_get_site_tagline:function(){return void 0!==FusionApp.data?FusionApp.data.site_tagline:""},fusion_get_site_url:function(){return void 0!==FusionApp.data?FusionApp.data.site_url:""},fusion_get_site_logo:function(e){var t=void 0!==e.type&&e.type,i={};if(!t)return"";switch(t){case"default_normal":return FusionApp.settings.logo.url;case"default_retina":return FusionApp.settings.logo_retina.url;case"sticky_normal":return FusionApp.settings.sticky_header_logo.url;case"sticky_retina":return FusionApp.settings.sticky_header_logo_retina.url;case"mobile_normal":return FusionApp.settings.mobile_logo.url;case"mobile_retina":return FusionApp.settings.mobile_logo_retina.url;case"all":return i.default={normal:FusionApp.settings.logo,retina:FusionApp.settings.logo_retina},i.mobile={normal:FusionApp.settings.mobile_logo,retina:FusionApp.settings.mobile_logo_retina},i.sticky={normal:FusionApp.settings.sticky_header_logo,retina:FusionApp.settings.sticky_header_logo_retina},JSON.stringify(i)}return""},fusion_menu:function(e,t,i,o){i.skip||o.changeParam(e,t);const n=o.getTemplateAtts();return o.$el.find("style").first().replaceWith(n.inlineStyles),o.$el.find("nav").attr("data-count",o.model.get("cid")),{render:!1}},fusion_style_block:function(e,t,i,o){var n;i.skip||o.changeParam(e,t);const s=o.getTemplateAtts();return o.$el.find(o.baseSelector).length?(n=o.$el.find("style").first(),0===jQuery(n).length?n=o.$el.find(".fusion-builder-element-content").prepend(s.styles):jQuery(n).replaceWith(s.styles),{render:!1}):{render:!0}},woo_get_price:function(e){return jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"get",dataType:"json",data:{action:"ajax_dynamic_data_default_callback",callback:FusionApp.data.dynamicOptions[e.data].callback.function,args:e,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,post_id:FusionApp.getDynamicPost("post_id")}}).done(function(t){FusionPageBuilderApp.dynamicValues.setValue(e,t.content)})},woo_get_sku:function(e){return jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"get",dataType:"json",data:{action:"ajax_dynamic_data_default_callback",callback:FusionApp.data.dynamicOptions[e.data].callback.function,args:e,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,post_id:FusionApp.getDynamicPost("post_id")}}).done(function(t){FusionPageBuilderApp.dynamicValues.setValue(e,t.content)})},defaultDynamicCallback:function(e){return jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"get",dataType:"json",data:{action:"ajax_dynamic_data_default_callback",callback:FusionApp.data.dynamicOptions[e.data].callback.function,args:e,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,post_id:FusionApp.getDynamicPost("post_id")}}).done(function(t){FusionPageBuilderApp.dynamicValues.setValue(e,t.content)})},woo_get_stock:function(e){return jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"get",dataType:"json",data:{action:"ajax_dynamic_data_default_callback",callback:FusionApp.data.dynamicOptions[e.data].callback.function,args:e,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,post_id:FusionApp.getDynamicPost("post_id")}}).done(function(t){FusionPageBuilderApp.dynamicValues.setValue(e,t.content)})},woo_get_rating:function(e){return jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"get",dataType:"json",data:{action:"ajax_dynamic_data_default_callback",callback:FusionApp.data.dynamicOptions[e.data].callback.function,args:e,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,post_id:FusionApp.getDynamicPost("post_id")}}).done(function(t){FusionPageBuilderApp.dynamicValues.setValue(e,t.content)})},fusion_update_filter_style:function(e,t,i,o){var n,s=o.model.get("cid"),a=jQuery("#fb-preview")[0].contentWindow.jQuery("#fusion-filter-"+s+"-style");return i.skip||o.changeParam(e,t),n=_.fusionGetFilterStyleElem(o.getValues(),"."+i.selector_base+s,s),0<a.length&&a.replaceWith(n),{render:!1}},fusion_update_gradient_style:function(e,t,i,o){var n,s,a="",r="",l="",u="",d="",c=!1,h=o.model.get("element_type");switch(i.skip||o.changeParam(e,t),s=o.getValues(),n=void 0===i.selector?o.$el:o.$el.find(i.selector).first(),h){case"fusion_builder_container":a=_.getGradientString(s,"main_bg"),r=_.getGradientString(s,"parallax"),u=_.getGradientString(s,"fade"),l=_.getGradientString(s),d=jQuery.Color(s.background_color).alpha(),""===a&&""!==s.background_image&&"yes"!==s.fade&&(a="url('"+s.background_image+"')"),n.css("background-image",a),n.find(".parallax-inner").css("background-image",r),n.find(".fullwidth-overlay").css("background-image",l),n.find(".fullwidth-faded").css("background-image",u),(void 0!==s.video_mp4&&""!==s.video_mp4||void 0!==s.video_webm&&""!==s.video_webm||void 0!==s.video_ogv&&""!==s.video_ogv||void 0!==s.video_url&&""!==s.video_url)&&(c=!0),!(1>d&&0!==d&&"none"===s.background_blend_mode&&""===l)||_.isEmpty(s.background_image)&&c?n.removeClass("fusion-blend-mode"):n.addClass("fusion-blend-mode");break;case"fusion_builder_column":case"fusion_builder_column_inner":a=_.getGradientString(s,"column"),d=jQuery.Color(s.background_color).alpha(),""===a&&""!==s.background_image&&(a="url('"+s.background_image+"')"),n.css("background-image",a),1>d&&0!==d&&"none"===s.background_blend_mode&&""===_.getGradientString(s)&&_.isEmpty(s.background_image)&&!_.isEmpty(s.background_color)?n.closest(".fusion-layout-column").addClass("fusion-blend-mode"):n.closest(".fusion-layout-column").removeClass("fusion-blend-mode")}return{render:!1}},fusion_update_breadcrumbs_separator:function(e,t,i,o){var n,s={},a={};if(i.skip||o.changeParam(e,t),!FusionApp.data.is_home&&!FusionApp.data.is_front_page)return n=void 0===i.selector?o.$el:o.$el.find(i.selector),""!==t?n.find(".fusion-breadcrumb-sep").html(t):"undefined"!=typeof FusionApp&&"object"==typeof FusionApp.settings&&n.find(".fusion-breadcrumb-sep").html(FusionApp.settings.breadcrumb_separator),s.output=n.html(),a.breadcrumbs=n.html(),o.model.set("markup",s),o.model.set("query_data",a),{render:!1}},fusion_update_tb_meta_separator:function(e,t,i,o){var n,s={},a={};return i.skip||o.changeParam(e,t),(n=void 0===i.selector?o.$el:o.$el.find(i.selector)).find(".fusion-meta-tb-sep").html(t),s.output=n.html(),a.meta=n.html(),o.model.set("markup",s),o.model.set("query_data",a),{render:!1}},fusion_update_breadcrumbs_prefix:function(e,t,i,o){var n,s={},a={};if(i.skip||o.changeParam(e,t),!FusionApp.data.is_home&&!FusionApp.data.is_front_page)return(n=void 0===i.selector?o.$el:o.$el.find(i.selector)).find(".fusion-breadcrumb-prefix").remove(),""!==t?n.prepend('<span class="fusion-breadcrumb-prefix"><span class="fusion-breadcrumb-item"><span>'+t+"</span></span>:</span>"):"undefined"!=typeof FusionApp&&"object"==typeof FusionApp.settings&&""!==FusionApp.settings.breacrumb_prefix&&n.prepend('<span class="fusion-breadcrumb-prefix"><span class="fusion-breadcrumb-item"><span>'+FusionApp.settings.breacrumb_prefix+"</span></span>:</span>"),s.output=n.html(),a.breadcrumbs=n.html(),o.model.set("markup",s),o.model.set("query_data",a),{render:!1}},fusion_update_flex_container:function(e,t,i,o){var n;switch(i.skip||o.changeParam(e,t),n=void 0===i.selector?o.$el:o.$el.find(i.selector),e){case"flex_align_items":return n.find(".fusion-builder-row").removeClass(function(e,t){return(t.match(/(^|\s)fusion-flex-align-items-\S+/g)||[]).join(" ")}),n.find(".fusion-builder-row").addClass("fusion-flex-align-items-"+t),{render:!1};case"flex_justify_content":return n.find(".fusion-builder-row").removeClass(function(e,t){return(t.match(/(^|\s)fusion-flex-justify-content-\S+/g)||[]).join(" ")}),n.find(".fusion-builder-row").addClass("fusion-flex-justify-content-"+t),{render:!1};case"align_content":return n.removeClass(function(e,t){return(t.match(/(^|\s)fusion-flex-align-content-\S+/g)||[]).join(" ")}),n.find(".fusion-builder-row").removeClass(function(e,t){return(t.match(/(^|\s)fusion-flex-align-content-\S+/g)||[]).join(" ")}),"stretch"!==t&&(n.find(".fusion-builder-row").addClass("fusion-flex-align-content-"+t),n.addClass("fusion-flex-align-content-"+t)),{render:!1}}},fusion_update_flex_column:function(e,t,i,o){var n=o.$el;switch(i.skip||o.changeParam(e,t),e){case"align_self":return n.removeClass(function(e,t){return(t.match(/(^|\s)fusion-flex-align-self-\S+/g)||[]).join(" ")}),"auto"!==t&&n.addClass("fusion-flex-align-self-"+t),{render:!1};case"content_wrap":return n.find(".fusion-column-wrapper").removeClass("fusion-content-nowrap"),"wrap"!==t&&n.find(".fusion-column-wrapper").addClass("fusion-content-nowrap"),{render:!1};case"align_content":return n.find(".fusion-column-wrapper").eq(0).removeClass(function(e,t){return(t.match(/(^|\s)fusion-flex-justify-content-\S+/g)||[]).join(" ")}),n.find(".fusion-column-wrapper").eq(0).addClass("fusion-flex-justify-content-"+t),{render:!1}}},fusion_update_menu_transition:function(e,t,i,o){var n,s=o.model.get("params")[e],a=o.model.get("query_data");return i.skip||o.changeParam(e,t),o.$el.find(".transition-"+s).removeClass("transition-"+s).addClass("transition-"+t),void 0!==a&&void 0!==a.menu_markup&&(n=new RegExp("transition-"+s,"g"),a.menu_markup=a.menu_markup.replace(n,"transition-"+t),o.model.set("query_data",a)),{render:!1}},fusion_update_box_shadow:function(e,t,i,o){var n=o.$el;return i.skip||o.changeParam(e,t),(n=void 0===i.selector?o.$el:o.$el.find(i.selector))[0].style.removeProperty("box-shadow"),"yes"===o.model.attributes.params.box_shadow&&n[0].style.setProperty("box-shadow",_.fusionGetBoxShadowStyle(o.model.attributes.params).replace(";",""),"important"),{render:!1}},acf_get_field:function(e,t){return void 0===e.field||""===e.field?"":jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"post",dataType:"json",data:{action:"ajax_acf_get_field",field:e.field,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,post_id:FusionApp.data.postDetails.post_id,image:void 0!==t&&t,cid:!1}}).done(function(t){FusionPageBuilderApp.dynamicValues.setValue(e,t.content)})},acf_get_image_field:function(e){return this.acf_get_field(e,!0)}});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.Globals=Backbone.Model.extend({initialize:function(){},handleMultiGlobal:function(e){var t,i,o,n;void 0!==e.currentModel.attributes.params&&void 0!==e.currentModel.attributes.params.fusion_global?(t=e.currentModel.attributes.params.fusion_global,i=jQuery("#fb-preview")[0].contentWindow.jQuery('[fusion-global-layout="'+t+'"]').length,o=e.currentModel.get("cid"),n=FusionPageBuilderViewManager.getView(o),1<i&&jQuery.each(jQuery("#fb-preview")[0].contentWindow.jQuery('[fusion-global-layout="'+t+'"]'),function(){var i,s,a,r,l,u;o!==jQuery(this).data("cid")&&(i=jQuery(this).data("cid"),s=FusionPageBuilderViewManager.getView(i),a=FusionPageBuilderElements.find(function(e){return e.get("cid")==i}),"close"===e.handleType?(r=jQuery.extend(!0,{},e.currentModel.get("params")),l=jQuery.extend(!0,{},e.currentModel.get("markup")),a.set("params",r),a.set("markup",l),void 0!==s&&void 0!==s.reRender&&s.reRender()):"save"===e.handleType?(a.set(e.attributes),a.set("cid",i),fusionGlobalManager.updateGlobalLayout(t,n.getContent()),void 0!==s&&void 0!==s.reRender&&s.reRender()):"changeView"===e.handleType?(s.beforePatch(),u=s.getElementContent(),FusionPageBuilderApp._diffdom.apply(u[0],e.difference),s.afterPatch()):"changeOption"===e.handleType&&(a.attributes.params[e.Name]=e.Value,void 0!==s&&void 0!==s.reRender&&s.reRender()))})):void 0!==e.currentModel.attributes.parent&&"changeView"!==e.handleType&&setTimeout(fusionGlobalManager.handleGlobalParents,500,e)},handleGlobalParents:function(e){var t,i=jQuery("#fb-preview")[0].contentWindow,o=e.currentModel.attributes.parent,n=FusionPageBuilderViewManager.getView(o),s={},a={};void 0!==(t=FusionPageBuilderElements.find(function(e){return e.get("cid")==o}))&&(void 0!==t.attributes.params&&void 0!==t.attributes.params.fusion_global&&1<i.jQuery('[fusion-global-layout="'+t.attributes.params.fusion_global+'"]').length&&(jQuery.each(i.jQuery('[fusion-global-layout="'+t.attributes.params.fusion_global+'"]'),function(){var e;o!==jQuery(this).data("cid")&&(e=jQuery(this).data("cid"),s=FusionPageBuilderViewManager.getView(e),void 0!==t.get("multi")&&"multi_element_parent"===t.get("multi")&&fusionGlobalManager.updateMultiElementParent(),void 0===t.get("element_type")||"fusion_builder_column"!==t.get("element_type")&&"fusion_builder_row_inner"!==t.get("element_type")&&"fusion_builder_container"!==t.get("element_type")||fusionGlobalManager.removeChildElements(i,e,t.get("element_type")),void 0!==t.get("element_type")&&"fusion_builder_column"===t.get("element_type")&&fusionGlobalManager.updateColumnElements(n.$el,e),void 0!==t.get("element_type")&&"fusion_builder_row_inner"===t.get("element_type")&&fusionGlobalManager.updateNestedColumnElements(n.$el,s),void 0!==t.get("element_type")&&"fusion_builder_container"===t.get("element_type")&&fusionGlobalManager.updateContainerElements(n.$el,s))}),"save"===e.handleType&&fusionGlobalManager.updateGlobalLayout(t.attributes.params.fusion_global,s.getContent())),void 0!==t.attributes.params&&void 0!==t.attributes.parent&&(a=FusionPageBuilderElements.find(function(e){return e.get("cid")==o}),e.currentModel=a,fusionGlobalManager.handleGlobalParents(e)))},updateMultiElementParent:function(e,t,i){e.attributes.params.element_content=t.attributes.params.element_content,i.generateChildElements()},removeChildElements:function(e,t,i){var o="fusion_builder_container"===i?".fusion-builder-remove, .fusion-builder-column-remove":".fusion-builder-remove";jQuery.each(e.jQuery('[data-cid="'+t+'"] .fusion-builder-module-controls'),function(){jQuery(this).find(o).trigger("click",["automated"])})},updateColumnElements:function(e,t){var i={},o={};e.find(".fusion-builder-live-element:not(.fusion-builder-column-inner .fusion-builder-live-element), .fusion-builder-nested-element").each(function(){var e,i,o,n,s,a,r;jQuery(this).hasClass("fusion-builder-live-element")?(e=jQuery(this),i=void 0===e.data("cid")?e.find(".fusion-builder-data-cid").data("cid"):e.data("cid"),o=FusionPageBuilderElements.find(function(e){return e.get("cid")==i}),(n=jQuery.extend(!0,{},o.attributes)).created="manually",n.cid=FusionPageBuilderViewManager.generateCid(),n.parent=t,n.from="fusion_builder_column",delete n.targetElementPosition,FusionPageBuilderApp.collection.add(n)):jQuery(this).hasClass("fusion_builder_row_inner")&&(a=void 0===(s=jQuery(this)).data("cid")?s.find(".fusion-builder-data-cid").data("cid"):s.data("cid"),void 0!==(r=FusionPageBuilderViewManager.getView(a))&&r.cloneNestedRow("",t))}),o=FusionPageBuilderElements.find(function(e){return e.get("cid")==t}),(i=FusionPageBuilderViewManager.getView(o.get("parent"))).createVirtualRows(),i.updateColumnsPreview(),FusionEvents.trigger("fusion-content-changed")},updateNestedColumnElements:function(e,t){e.find(".fusion-builder-live-element").each(function(){var e={},i=jQuery(this),o=void 0===i.data("cid")?i.find(".fusion-builder-data-cid").data("cid"):i.data("cid"),n=FusionPageBuilderElements.find(function(e){return e.get("cid")==o});(e=jQuery.extend(!0,{},n.attributes)).created="manually",e.cid=FusionPageBuilderViewManager.generateCid(),e.parent=t.$el.find(".fusion-builder-column-inner").data("cid"),e.from="fusion_builder_row_inner",delete e.targetElementPosition,FusionPageBuilderApp.collection.add(e)})},updateContainerElements:function(e,t){e.find(".fusion-builder-column-outer").each(function(){var e=jQuery(this),i=e.data("cid"),o=FusionPageBuilderElements.find(function(e){return e.get("cid")==i}),n=jQuery.extend(!0,{},o.attributes);n.created="manually",n.cid=FusionPageBuilderViewManager.generateCid(),n.parent=t.$el.find(".fusion-builder-row-container").data("cid"),n.from="fusion_builder_container",n.cloned=!0,FusionPageBuilderApp.collection.add(n),e.find(".fusion-builder-column-content:not( .fusion-nested-column-content )").children(".fusion-builder-live-element, .fusion_builder_row_inner").each(function(){var e,t,i,o,s,a;jQuery(this).hasClass("fusion-builder-live-element")?(e=jQuery(this),t=e.data("cid"),i=FusionPageBuilderElements.find(function(e){return e.get("cid")==t}),(o=jQuery.extend(!0,{},i.attributes)).created="manually",o.cid=FusionPageBuilderViewManager.generateCid(),o.parent=n.cid,o.from="fusion_builder_container",delete o.targetElementPosition,FusionPageBuilderApp.collection.add(o)):jQuery(this).hasClass("fusion_builder_row_inner")&&(s=jQuery(this).data("cid"),void 0!==(a=FusionPageBuilderViewManager.getView(s))&&a.cloneNestedRow("",n.cid))})})},updateGlobalLayout:function(e,t){jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,dataType:"json",data:{action:"fusion_builder_update_layout",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,fusion_layout_id:e,fusion_layout_content:t},complete:function(){}})},handleGlobalsFromLibrary:function(e,t){var i,o=jQuery("#fb-preview")[0].contentWindow.jQuery('[data-cid="'+t+'"] [fusion-global-layout="'+e+'"]').last().data("cid"),n={};void 0===o&&(o=jQuery("#fb-preview")[0].contentWindow.jQuery('[fusion-global-layout="'+e+'"]').last().data("cid")),void 0!==(i=FusionPageBuilderElements.find(function(e){return e.get("cid")==o}))&&(n={currentModel:i,handleType:"save",attributes:i.attributes},fusionGlobalManager.handleMultiGlobal(n))}});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.DraggableHelpers=Backbone.Model.extend({initialize:function(){},draggableClasses:function(e){var t,i,o,n;switch(t=FusionPageBuilderElements.find(function(t){return t.get("cid")==e}),o=_.fusionCleanParameters(jQuery.extend(!0,{},t.get("params"))),n=t.get("parent"),t.get("type")){case"fusion_builder_container":void 0!==o.fusion_global&&(i=" container-global-helper"),"yes"===o.hundred_percent_height_scroll&&"yes"===o.hundred_percent_height&&(i=" container-scrolling-helper");break;case"fusion_builder_column":FusionPageBuilderApp.DraggableHelpers.isHeightScroll(n)&&(i=" column-scrolling-helper"),(void 0!==o.fusion_global||FusionPageBuilderApp.DraggableHelpers.isGlobalParent(n))&&(i=" column-global-helper");break;case"fusion_builder_row_inner":i=" row-inner-nested-helper",FusionPageBuilderApp.DraggableHelpers.isHeightScroll(n)&&(i=" row-inner-scrolling-helper"),(void 0!==o.fusion_global||FusionPageBuilderApp.DraggableHelpers.isGlobalParent(n))&&(i=" row-inner-global-helper");break;case"fusion_builder_column_inner":i=" column-inner-nested-helper",FusionPageBuilderApp.DraggableHelpers.isHeightScroll(n)&&(i=" column-inner-scrolling-helper"),(void 0!==o.fusion_global||FusionPageBuilderApp.DraggableHelpers.isGlobalParent(n))&&(i=" column-inner-global-helper");break;case"element":"fusion_builder_column_inner"===FusionPageBuilderElements.find(function(e){return e.get("cid")==n}).get("type")&&(i=" element-nested-helper"),FusionPageBuilderApp.DraggableHelpers.isHeightScroll(n)&&(i=" element-scrolling-helper"),(void 0!==o.fusion_global||FusionPageBuilderApp.DraggableHelpers.isGlobalParent(n))&&(i=" element-global-helper")}return i},isGlobalParent:function(e){var t;return void 0!==(t=FusionPageBuilderElements.find(function(t){return t.get("cid")==e}))&&(void 0!==_.fusionCleanParameters(jQuery.extend(!0,{},t.get("params"))).fusion_global||void 0!==t.get("parent")&&FusionPageBuilderApp.DraggableHelpers.isGlobalParent(t.get("parent")))},isHeightScroll:function(e){var t,i;return void 0!==(t=FusionPageBuilderElements.find(function(t){return t.get("cid")==e}))&&(i=_.fusionCleanParameters(jQuery.extend(!0,{},t.get("params"))),"fusion_builder_container"===t.get("type")&&"yes"===i.hundred_percent_height_scroll&&"yes"===i.hundred_percent_height||void 0!==t.get("parent")&&FusionPageBuilderApp.DraggableHelpers.isHeightScroll(t.get("parent")))}});FusionPageBuilder=FusionPageBuilder||{};jQuery,FusionPageBuilder.IsotopeManager=Backbone.Model.extend({defaults:{selector:"",container:"",itemSelector:"",layoutMode:"packery",isOriginLeft:!jQuery("body.rtl").length,resizable:!0,initLayout:!0,view:!1},initialize:function(){this.listenTo(window.FusionEvents,"fusion-frame-size-changed",this.updateLayout),this.listenTo(window.FusionEvents,"fusion-column-resized",this.updateLayout)},init:function(){var e=this.get("view").$el.find(this.get("selector"));this.set("container",e),e.data("isotope")||e.isotope({layoutMode:this.get("layoutMode"),itemSelector:this.get("itemSelector"),isOriginLeft:!jQuery("body.rtl").length,resizable:!0,initLayout:!0})},reInit:function(e){var t=this;void 0===e&&(e=300),t.destroyIsotope(),setTimeout(function(){t.init()},e)},destroyIsotope:function(){""!==this.get("container")&&this.get("container").data("isotope")&&(this.get("container").isotope("destroy"),this.get("container").removeData("isotope"))},append:function(e){""!==this.get("container")&&this.get("container").data("isotope")&&this.get("container").isotope("appended",e).isotope("layout")},remove:function(e){""!==this.get("container")&&this.get("container").data("isotope")&&this.get("container").isotope("remove",e).isotope("layout")},reloadItems:function(){""!==this.get("container")&&this.get("container").data("isotope")&&this.get("container").isotope("reloadItems").isotope("layout")},updateLayout:function(){""!==this.get("container")&&this.get("container").data("isotope")&&this.get("container").isotope("layout")}});FusionPageBuilder=FusionPageBuilder||{};!function(){var e,t=[],i=[],o=[],n=[];jQuery.fn.outerHTML=function(){return this.length?this[0].outerHTML||(e=this[0],(i=document.createElement("div")).appendChild(e.cloneNode(!0)),t=i.innerHTML,i=null,t):this;var e,t,i},e=_.sortBy(fusionAllElements,function(e){return e.name.toLowerCase()}),_.each(e,function(e){var s,a=i;if(void 0===e.hide_from_builder){if(s={title:e.name,label:e.shortcode},void 0!==e.component&&e.component&&(a=o),void 0===e.generator_only&&void 0===e.form_component&&t.push(s),void 0!==e.form_component&&e.form_component||void 0!==e.allow_in_form&&e.allow_in_form)return void n.push(s);a.push(Object.assign({},s,{generator_only:void 0!==e.generator_only||e.generator_only,templates:void 0!==e.templates&&e.templates,components_per_template:void 0!==e.components_per_template&&e.components_per_template,template_tooltip:void 0!==e.template_tooltip&&e.template_tooltip}))}}),window.FusionPageBuilderViewManager=jQuery.extend(!0,{},new FusionPageBuilder.ViewManager),FusionPageBuilder.AppView=Backbone.View.extend({model:FusionPageBuilder.Element,collection:FusionPageBuilderElements,elements:{modules:t,generator_elements:i,components:o,componentsCounter:0,usedComponents:[],form_components:n},events:{contextmenu:"contextMenu"},template:FusionPageBuilder.template(jQuery("#fusion-builder-front-end-template").html()),initialize:function(){this.extraShortcodes=new FusionPageBuilder.ExtraShortcodes,this.inlineEditors=new FusionPageBuilder.InlineEditorManager,this.inlineEditorHelpers=new FusionPageBuilder.InlineEditorHelpers,this.DraggableHelpers=new FusionPageBuilder.DraggableHelpers,this.SettingsHelpers=new FusionPageBuilder.SettingsHelpers,this.wireframe=new FusionPageBuilder.Wireframe,this.dynamicValues=new FusionPageBuilder.DynamicValues,this.formStyles=!1,this.postContent=!1,this.postID=!1,this.listenTo(this.collection,"add",this.addBuilderElement),this.listenTo(FusionEvents,"fusion-data-updated",this.updateData),this.listenTo(FusionEvents,"fusion-preview-toggle",this.previewToggle),this.previewMode=!1,this.listenTo(FusionEvents,"fusion-preview-update",this.setGlobalStyles),this.listenTo(FusionEvents,"fusion-wireframe-toggle",this.wireFrameToggled),this.listenTo(FusionEvents,"fusion-preview-resize",this.setStackedContentClass),this.listenTo(FusionEvents,"fusion-to-content_break_point-changed",this.setStackedContentClass),this.listenTo(FusionEvents,"fusion-to-header_position-changed",this.reInitScrollingSections),this.listenTo(window.FusionEvents,"fusion-preferences-droppables_visible-updated",this.toggleDroppablesVisibility),this.listenTo(window.FusionEvents,"fusion-preferences-sticky_header-updated",this.toggleStickyHeader),this.listenTo(window.FusionEvents,"fusion-preferences-tooltips-updated",this.toggleTooltips),this.listenTo(window.FusionEvents,"fusion-preferences-element_filters-updated",this.toggleElementFilters),this.listenTo(window.FusionEvents,"fusion-preferences-transparent_header-updated",this.toggleTransparentHeader),this.listenTo(FusionEvents,"fusion-content-changed",function(){fusionTriggerEvent("fusion-resize-stickyheader")}),this.listenTo(FusionEvents,"fusion-builder-loaded",this.fusionLibraryUI),this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this._fusion_do_shortcode=_.debounce(_.bind(FusionApp.callback.fusion_do_shortcode,this),300),this._wireframeToggle=_.debounce(_.bind(this.wireframeToggle,this),200),this.blankPage=!1,this.render(),this.reRenderElements=!1,this.contextMenuView=!1,this.clipboard={},this.lastAjaxCid=!1,this.ajaxContentRequests=[],this._diffdom=new diffDOM({valueDiffing:!1}),jQuery(jQuery("#fb-preview")[0].contentWindow).on("resize",function(){FusionEvents.trigger("fusion-preview-resize")}),jQuery("#fb-preview")[0].contentWindow.jQuery("body").on("click",function(e){FusionPageBuilderApp.sizesHide(e)}),this.correctTooltipPosition(),this.loaded=!1,this.shortcodeAjax=!1,this.inlineElements=["fusion_highlight","fusion_tooltip","fusion_dropcap","fusion_popover","fusion_one_page_text_link","fusion_modal_text_link"],this.documentWrite=!1,this.previewDocumentWrite=!1,this.wireframeActive=!1,this.viewsToRerender=[],this.listenTo(FusionEvents,"fusion-data-updated",this.resetRenderVariable)},resetRenderVariable:function(){this.reRenderElements=!1},getCallbackFunction:function(e,t,i,o,n){var s,a,r=fusionAllElements[o.model.get("element_type")],l=r.params[t];return void 0===l&&void 0!==r.subparam_map&&void 0!==r.subparam_map[t]&&(l=r.params[r.subparam_map[t]]),void 0!==e.noTemplate&&e.noTemplate?((s={}).ajax=!0,s.function="fusion_do_shortcode",n=void 0!==n&&n,a=FusionPageBuilderViewManager.getView(e.cid),n||a.changeParam(t,i),void 0!==e.multi&&!1!==e.multi?(s.parent=this.getParentElementCid(e),s.content=this.getParentElementContent(e,o)):(s.parent=!1,s.content=FusionPageBuilderApp.generateElementShortcode(a.$el))):s=this.CheckIfCallback(r,l,o.model),s},getParentElementCid:function(e){return"multi_element_child"===e.multi?e.parent:e.cid},getParentElementContent:function(e,t){var i;return"multi_element_child"===e.multi?((i=FusionPageBuilderViewManager.getView(e.parent)).updateElementContent(),i.getContent()):t.getContent()},CheckIfCallback:function(e,t,i){return void 0!==t&&void 0!==t.callback?t.callback:void 0!==e&&void 0!==e.callback&&void 0===i.attributes.query_data&&e.callback},setGlobalStyles:function(e,t){var i="",o=!1,n=0;void 0!==t?o=t:void 0===e&&(o=!0),("hundredp_padding"===e||o)&&(n=fusionGetPercentPaddingHorizontalNegativeMargin(),n=fusionGetPercentPaddingHorizontalNegativeMarginIfSiteWidthPercent(0,n),"object"==typeof FusionApp.data.template_override&&"object"==typeof FusionApp.data.template_override.content&&"fusion_tb_section"!==FusionApp.data.postDetails.post_type&&(n=0),i+="body:not(.has-sidebar) .width-100 .fusion-builder-container:before,",i+="body:not(.has-sidebar) .width-100 .fusion-builder-container:after,",i+=".fusion-builder-live .width-100 .fusion-builder-container:hover > .fusion-builder-module-controls-container-wrapper,",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-container-spacing.fusion-container-margin-top,",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-container-spacing.fusion-container-margin-bottom,",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-container-spacing.fusion-container-padding-top,",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-container-spacing.fusion-container-padding-bottom,",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-container-spacing.fusion-container-padding-right",i+="{margin-left:"+n+";margin-right:"+n+"}",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-container-spacing.fusion-container-padding-left{margin-left:"+n+";}",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-container-spacing.fusion-container-padding-right{margin-right:"+n+";}",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-flex-container .fusion-container-spacing.fusion-container-padding-left{margin-left:0;}",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-flex-container .fusion-container-spacing.fusion-container-padding-right{margin-right:0;}",i+="body:not(.has-sidebar) .width-100 .fusion-builder-container:before,",i+="body:not(.has-sidebar) .width-100 .fusion-builder-container:after,",i+=".fusion-builder-live .width-100 .fusion-builder-container:hover > .fusion-builder-module-controls-container-wrapper,",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-flex-container .fusion-container-spacing.fusion-container-margin-top,",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-flex-container .fusion-container-spacing.fusion-container-margin-bottom,",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-flex-container .fusion-container-spacing.fusion-container-padding-top,",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-flex-container .fusion-container-spacing.fusion-container-padding-bottom,",i+=".fusion-builder-live .width-100 .fusion-builder-container .fusion-flex-container .fusion-container-spacing.fusion-container-padding-right",i+="{margin-left:0;margin-right:0}"),i&&(this.$el.children("style").length||this.$el.prepend("<style></style>"),this.$el.children("style").html(i))},correctTooltipPosition:function(){var e=this;this.$el.on("mouseenter",".fusion-builder-module-controls-type-container a, .fusion-builder-column-controls a, .fusion-builder-module-controls a, a.fusion-builder-add-element",function(){var t,i,o,n,s,a,r=jQuery(this).outerWidth(),l=jQuery(this).children(".fusion-container-tooltip, .fusion-column-tooltip, .fusion-element-tooltip");l.length&&(l.children(".fusion-tooltip-text").removeAttr("style"),t=l.outerWidth(),o=(i=l.offset().left)+t,s=0,a=e.$el.width(),jQuery(this).closest(".fusion-fullwidth:not(.video-background) .fusion-row").css("z-index","auto"),jQuery(this).closest(".fusion-fullwidth:not(.video-background)").children(".fullwidth-faded").css("z-index","auto"),jQuery(this).closest(".fusion-element-alignment-left").length||jQuery(this).closest(".fusion-element-alignment-right").length||jQuery(this).closest(".fusion-builder-container").css("z-index","auto"),(n=l.closest(".fusion-carousel-wrapper")).length&&(a=(s=n.offset().left)+n.outerWidth()),i<s?l.children(".fusion-tooltip-text").css("margin-left",t/2+r+"px"):o>a&&l.children(".fusion-tooltip-text").css("margin-left","calc("+r+"px - "+t+"px)"),jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").length&&(jQuery("#fb-preview")[0].contentWindow.jQuery("#main").css("z-index","auto"),"fixed"===jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").css("position")&&(jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").css("z-index","-1"),jQuery("#fb-preview")[0].contentWindow.jQuery("#sliders-container").find('.tfs-slider[data-parallax="1"]').length&&jQuery("#fb-preview")[0].contentWindow.jQuery("#sliders-container").css("z-index","auto"))))}),this.$el.on("mouseleave",".fusion-builder-module-controls-container a",function(){var e=jQuery(this).closest(".fusion-builder-module-controls-container").parent(".fusion-builder-live-element");e.length&&e.find(".fusion-modal.in").length||(jQuery(this).closest(".fusion-row").css("z-index",""),jQuery(this).closest(".fusion-builder-container").css("z-index","")),jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").length&&(jQuery("#fb-preview")[0].contentWindow.jQuery("#main").css("z-index",""),jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").css("z-index",""),jQuery("#fb-preview")[0].contentWindow.jQuery("#sliders-container").css("z-index",""))})},render:function(){return this.$el.find(".fusion-builder-live-editor").html(this.template()),this.delegateEvents(),this.setStackedContentClass(),this},updateData:function(){var e=this;this.elements.components.forEach(function(t,i){new RegExp("\\["+t.label,"g");"string"!=typeof FusionApp.data.template_category||"object"==typeof t.templates&&!t.templates.includes(FusionApp.data.template_category)||e.elements.componentsCounter++}),this.extraShortcodes.addData(FusionApp.data.shortcodeMap),this.dynamicValues.addData(FusionApp.initialData.dynamicValues,FusionApp.data.dynamicOptions)},convertGalleryElement:function(e){var t=window.wp.shortcode.regexp("fusion_gallery"),i=this.regExpShortcode("fusion_gallery"),o=e.match(t),n=e,s=[];return _.each(o,function(e){var t,o=e.match(i),a=""!==o[3]?window.wp.shortcode.attrs(o[3]):"",r="",l="";void 0!==a.named.image_ids&&(t=a.named.image_ids.split(","),_.each(t,function(e){r+='[fusion_gallery_image image="" image_id="'+e+'" /]',s.push(e)}),l=e.replace("/]","]"+r+"[/fusion_gallery]").replace('image_ids="'+a.named.image_ids+'" ',""),n=n.replace(e,l))}),wp.media.query({post__in:s,posts_per_page:s.length}).more(),n},createBuilderLayout:function(e){var t=this;FusionApp.data.is_fusion_element&&(e=t.validateLibraryContent(e)),e=this.convertGalleryElement(e),this.shortcodesToBuilder(e),this.builderToShortcodes(),setTimeout(function(){t.scrollingContainers(),t.maybeFormStyles()},100)},validateLibraryContent:function(e){var t='[fusion_builder_container hundred_percent="no" equal_height_columns="no" menu_anchor="" hide_on_mobile="small-visibility,medium-visibility,large-visibility" class="" id="" background_color="" background_image="" background_position="center center" background_repeat="no-repeat" fade="no" background_parallax="none" parallax_speed="0.3" video_mp4="" video_webm="" video_ogv="" video_url="" video_aspect_ratio="16:9" video_loop="yes" video_mute="yes" overlay_color="" overlay_opacity="0.5" video_preview_image="" border_size="" border_color="" border_style="solid" padding_top="" padding_bottom="" padding_left="" padding_right=""][fusion_builder_row]',i="[/fusion_builder_row][/fusion_builder_container]",o='[fusion_builder_column type="1_1" background_position="left top" background_color="" border_size="" border_color="" border_style="solid" border_position="all" spacing="yes" background_image="" background_repeat="no-repeat" padding="" margin_top="0px" margin_bottom="0px" class="" id="" animation_type="" animation_speed="0.3" animation_direction="left" hide_on_mobile="small-visibility,medium-visibility,large-visibility" center_content="no" last="no" min_height="" hover_type="none" link=""]';return""===e||("elements"===FusionApp.data.fusion_element_type?e=t+o+e+"[/fusion_builder_column]"+i:"columns"===FusionApp.data.fusion_element_type&&(e=t+e+i)),""===e&&"elements"===FusionApp.data.fusion_element_type&&(e=t+o+"[/fusion_builder_column]"+i),e=e.replace(/&#36;&#36;/g,function(){return"$$"})},libraryBuilderToShortcodes:function(){var e,t,i="";"elements"===FusionApp.data.fusion_element_type?((t=this.$el.find(".fusion-builder-column-outer .fusion_builder_row_inner")).length?(e=t.data("cid"),i=FusionPageBuilderViewManager.getView(e).getInnerRowContent()):this.$el.find(".fusion-builder-live-element").length&&(t=this.$el.find(".fusion-builder-live-element"),i=FusionPageBuilderApp.generateElementShortcode(this.$el.find(".fusion-builder-live-element"),!1)),t.length&&this.$el.find(".fusion-builder-column .fusion-builder-add-element").hide()):"columns"===FusionApp.data.fusion_element_type?(t=this.$el.find(".fusion-builder-column-outer")).length&&(e=t.data("cid"),i=FusionPageBuilderViewManager.getView(e).getColumnContent()):"sections"===FusionApp.data.fusion_element_type&&(t=this.$el.find(".fusion-builder-container")).length&&(e=t.data("cid"),i=FusionPageBuilderViewManager.getView(e).getContent()),FusionApp.setPost("post_content",i)},initialBuilderLayout:function(e){var t=this;FusionPageBuilderViewManager.removeViews(),this.postContent=e.postDetails.post_content,this.postID=e.postDetails.post_id,t.updateData(e),setTimeout(function(){var i=t.postContent,o="",n="",s=fusionBuilderText.unknown_error_link;try{t.setGlobalStyles("",!0),i=t.convertGalleryElement(i),i=FusionApp.data.is_fusion_element?t.validateLibraryContent(i):t.validateContent(i),t.shortcodesToBuilder(i),t.updateData(e),setTimeout(function(){t.scrollingContainers(),t.reRenderElements=!0,t.maybeFormStyles(),0<FusionPageBuilderViewManager.countElementsByType("fusion_builder_next_page")&&FusionEvents.trigger("fusion-next-page"),t.loaded=!0,FusionEvents.trigger("fusion-builder-loaded")},100)}catch(e){"undefined"!==e.name&&"ContentException"===e.name?(n=fusionBuilderText.content_error_title,o=jQuery("<div>"+fusionBuilderText.content_error_description+"</div>")):(n=fusionBuilderText.unknown_error_title,"string"==typeof e.stack&&(s='<a href="#" class="copy-full-description">'+fusionBuilderText.unknown_error_copy+"</a>"),o=jQuery("<div>"+e+"<p>"+s+"</p></div>")),o.dialog({title:n,dialogClass:"fusion-builder-dialog fusion-builder-error-dialog fusion-builder-settings-dialog",autoOpen:!0,modal:!0,width:400,open:function(){jQuery(this).find(".copy-full-description").length&&jQuery(this).find(".copy-full-description").on("click",function(t){var i=jQuery("<textarea>"),o="";"string"==typeof e.message&&(o+=e.message+"\n"),"string"==typeof e.stack&&(o+=e.stack),t.preventDefault(),jQuery(this).after(i),i.val(o).focus().select(),document.execCommand("copy"),i.remove(),jQuery(this).html('<i class="fusiona-check" aria-hidden="true"></i> '+fusionBuilderText.unknown_error_copied)})},create:function(e,t){jQuery(this).siblings().find("span.ui-dialog-title").prepend('<span class="icon type-warning"><i class="fusiona-exclamation" aria-hidden="true"></i></span>')},close:function(){}}),t.fusionBuilderReset()}},50),window.fusionGlobalManager=void 0!==e.fusionGlobalManager&&!1!==e.fusionGlobalManager?e.fusionGlobalManager:new FusionPageBuilder.Globals},FBException:function(e,t){this.message=e,this.name=t},validateContent:function(e){var t,i,o,n=""===e,s="",a=[],r=[];if(void 0!==(e=(e=(e=e.replace(/\r?\n/g,"\r\n")).replace(/<p>\[/g,"[")).replace(/\]<\/p>/g,"]"))&&(e=e.trim()),-1!==e.indexOf("[fullwidth"))throw new this.FBException("Avada 4.0.3 or earlier fullwidth container used!","ContentException");return n||(e=(e=e.replace(/\[fusion\_text \/\]/g,"[fusion_text][/fusion_text]").replace(/\[\/fusion\_text\]\[\/fusion\_text\]/g,"[/fusion_text]")).replace(/\$\$/g,"&#36;&#36;"),s=e,s=wp.shortcode.replace("fusion_builder_container",s,function(){return"@|@"}),s=(s=wp.shortcode.replace("fusion_builder_next_page",s,function(){return"@|@"})).trim().split("@|@"),_.each(s,function(t){""!==t.trim()&&(e=e.replace(t,'[fusion_builder_container hundred_percent="no" equal_height_columns="no" menu_anchor="" hide_on_mobile="small-visibility,medium-visibility,large-visibility" class="" id="" background_color="" background_image="" background_position="center center" background_repeat="no-repeat" fade="no" background_parallax="none" parallax_speed="0.3" video_mp4="" video_webm="" video_ogv="" video_url="" video_aspect_ratio="16:9" video_loop="yes" video_mute="yes" overlay_color="" overlay_opacity="0.5" video_preview_image="" border_size="" border_color="" border_style="solid" padding_top="" padding_bottom="" padding_left="" padding_right=""][fusion_builder_row]'+t+"[/fusion_builder_row][/fusion_builder_container]"))}),s=wp.shortcode.replace("fusion_builder_container",e,function(e){r.push(e.content)}),_.each(r,function(t){t=wp.shortcode.replace("fusion_builder_row",t,function(e){return e.content}),t=(t=wp.shortcode.replace("fusion_builder_column",t,function(){return"@|@"})).trim().split("@|@"),_.each(t,function(t){""!==t.trim()&&"[fusion_builder_row][/fusion_builder_row]"!==t.trim()&&(i='[fusion_builder_column type="1_1" background_position="left top" background_color="" border_size="" border_color="" border_style="solid" border_position="all" spacing="yes" background_image="" background_repeat="no-repeat" padding="" margin_top="0px" margin_bottom="0px" class="" id="" animation_type="" animation_speed="0.3" animation_direction="left" hide_on_mobile="small-visibility,medium-visibility,large-visibility" center_content="no" last="no" min_height="" hover_type="none" link=""]'+t+"[/fusion_builder_column]",e=e.replace(t,i))})}),s=wp.shortcode.replace("fusion_builder_column_inner",e,function(e){a.push(e.content)}),s=wp.shortcode.replace("fusion_builder_column",e,function(e){a.push(e.content)}),_.each(a,function(i){t=fusionAllElements,_.each(t,function(e){void 0===e.generator_only&&(i=wp.shortcode.replace(e.shortcode,i,function(){return"@|@"}))}),i=i.trim().split("@|@"),_.each(i,function(t){""!==t.trim()&&(o="@=%~@","@"===t.slice(-1)&&(o="#=%~#"),e=e.replace(t,"[fusion_text]"+t.slice(0,-1)+o+t.slice(-1)+"[/fusion_text]"))})}),e=e.replace(/@=%~@/g,"").replace(/#=%~#/g,""),e=wp.shortcode.replace("fusion_text",e,function(e){if(t=fusionAllElements,s=e.content,_.each(t,function(e){void 0===e.generator_only&&(s=wp.shortcode.replace(e.shortcode,s,function(){return"|"}))}),!s.replace(/\|/g,"").length)return e.content})),e=e.replace(/&#36;&#36;/g,function(){return"$$"})},regExpShortcode:_.memoize(function(e){return new RegExp("\\[(\\[?)("+e+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)")}),findShortcodeMatches:function(e,t){var i,o;return _.isObject(e)&&(e=e.value),i="",e=void 0!==e?e:"",o=window.wp.shortcode.regexp(t),void 0!==e&&""!==e&&(i=e.match(o)),i},fusionBuilderReset:function(){FusionPageBuilderElements.reset({}),this.collection.reset({}),FusionPageBuilderViewManager.clear(),this.$el.find("#fusion_builder_container").html(""),FusionEvents.trigger("fusion-builder-reset")},clearLayout:function(e){e&&e.preventDefault(),"[fusion_builder_blank_page][/fusion_builder_blank_page]"!==this.postContent&&(this.blankPage=!0,this.clearBuilderLayout(!0))},contextMenu:function(e){var t,i,o,n,s,a=this,r=jQuery(e.target),l=r.closest("[data-cid]"),u=r.hasClass("fusion-disable-editing")||r.parents(".fusion-disable-editing").length;if(this.removeContextMenu(),!r.hasClass("fusion-builder-blank-page")&&!r.parents(".fusion-builder-blank-page").length&&(r.hasClass("fusion-builder-row-container")&&(l=r=r.closest(".fusion-builder-container:not( .fusion-builder-row-container )")),l.length&&("fusion_text"!==l.data("type")||this.wireframeActive||r.parents(".fusion-builder-module-controls-container").length||u))){switch(jQuery("body").hasClass("nested-ui-active")||this.$el.hasClass("fusion-builder-nested-cols-dialog-open")||!r.closest(".fusion_builder_row_inner").length||(l=r.closest(".fusion_builder_row_inner")),i=FusionPageBuilderViewManager.getView(l.data("cid")),s=this.getElementType(i.model.attributes.element_type),FusionApp.data.fusion_element_type){case"elements":if("child_element"!==s&&"parent_element"!==s&&"element"!==s)return;break;case"columns":if("fusion_builder_container"===s)return}if(u){if((l=r.hasClass("fusion-disable-editing")?r:r.parents(".fusion-disable-editing").first()).hasClass("fusion-inline-ajax"))return;t=l.data("id"),void 0!==(n=i.model.inlineCollection.find(function(e){return e.get("cid")==t}))&&(e.preventDefault(),n.event=e,n.$target=l,n.parentView=i,o={model:n},this.contextMenuView=new FusionPageBuilder.ContextMenuInlineView(o))}else e.preventDefault(),o={model:{parent:i.model,event:e,parentView:i}},this.contextMenuView=new FusionPageBuilder.ContextMenuView(o);void 0!==this.contextMenuView&&this.contextMenuView&&(this.$el.append(this.contextMenuView.render().el),this.$el.one("click",function(){a.removeContextMenu()}))}},removeContextMenu:function(){this.contextMenuView&&"function"==typeof this.contextMenuView.removeMenu&&this.contextMenuView.removeMenu()},showSavedElements:function(e,t){var i,o=jQuery("#fusion-builder-layouts-"+e).find(".fusion-page-layouts").clone();o.find("li").each(function(){i=jQuery(this).find(".fusion-builder-demo-button-load").attr("data-post-id"),jQuery(this).find(".fusion-layout-buttons").remove(),jQuery(this).find("h4").attr("class","fusion_module_title"),jQuery(this).attr("data-layout_id",i),jQuery(this).addClass("fusion_builder_custom_"+e+"_load"),""!==jQuery(this).attr("data-layout_type")&&jQuery(this).addClass("fusion-element-type-"+jQuery(this).attr("data-layout_type"))}),t.append('<div id="fusion-loader"><span class="fusion-builder-loader"></span></div>'),t.append('<ul class="fusion-builder-all-modules fusion-builder-library-list fusion-builder-library-list-'+e+'">'+o.html()+'<li class="spacer fusion-builder-element"></li><li class="spacer fusion-builder-element"></li><li class="spacer fusion-builder-element"></li><li class="spacer fusion-builder-element"></li></div>')},renderContent:function(e,t,i){var o,n,s=this,a=void 0!==i&&i,r=[],l=!1;return(i=FusionPageBuilderViewManager.getView(t))&&"function"==typeof i.filterRenderContent&&(e=i.filterRenderContent(e)),void 0===e?"":-1===e.indexOf("[")?e:(void 0!==i&&(i.model.inlineCollection.reset(),n=this.inlineEditorHelpers.inlineEditorAllowed(i.model.get("element_type"))),o=this.shortcodesToBuilder(e,!1,!1,!0),_.each(o,function(o){var a,u,d;"fusion_clients"===o.settings.element_type&&(l=!0),-1!==jQuery.inArray(o.settings.element_type,FusionPageBuilderApp.inlineElements)?(o.settings.cid=FusionPageBuilderViewManager.generateCid(),o.settings.parent=t,o.settings.inlineElement=o.content,u=new FusionPageBuilder.Element(o.settings),i.model.inlineCollection.add(u),d=s.inlineEditorHelpers.getInlineElementMarkup(u),e=n?e.replace(o.content,'<span class="fusion-disable-editing fusion-inline-element" contenteditable="false" data-id="'+o.settings.cid+'">'+d+"</span>"):e.replace(o.content,d)):void 0===(a=FusionPageBuilderApp.extraShortcodes.byShortcode(o.content))?r.push(o.content):e=n?e.replace(o.content,s.inlineEditorHelpers.getInlineHTML(a.output,a.id)):e.replace(o.content,a.output)}),r.length&&(e=s.ajaxRenderShortcode(t,e,a,r)),e=FusionApp.removeScripts(e,t),setTimeout(function(){FusionApp.injectScripts(t),l&&jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-fusion_images",t)},200),"undefined"!==e?e:'<div id="fusion-loader"><span class="fusion-builder-loader"></span></div>')},ajaxRenderShortcode:function(e,t,i,o){var n,s,a;if(-1!==this.ajaxContentRequests.indexOf(t))return s=void 0!==i&&i?i:e,a=void 0!==(n=FusionPageBuilderElements.find(function(e){return e.get("cid")==s}))&&n.get("markup"),this.viewsToRerender.push(e),a?a.output:t;e===this.lastAjaxCid?this._fusion_do_shortcode(e,t,i,o):FusionApp.callback.fusion_do_shortcode(e,t,i,o),this.ajaxContentRequests.push(t),this.lastAjaxCid=e},addPlaceholder:function(e,t){var i,o;return-1!==e.indexOf("rev_slider")?(i=e.match(/\[rev_slider .*?alias\=\"(.*?)\".*?\]/),o=fusionBuilderText.slider_placeholder):-1!==e.indexOf("layerslider")?(i=e.match(/\[layerslider .*?id\=\"(.*?)\".*?\]/),o=fusionBuilderText.slider_placeholder):-1!==e.indexOf("contact-form-7")?(i=e.match(/\[contact-form-7 .*?id\=\"(.*?)\".*?\]/),o=fusionBuilderText.form_placeholder):-1!==e.indexOf("gravityform")&&(i=e.match(/\[gravityform .*?id\=\"(.*?)\".*?\]/),o=fusionBuilderText.form_placeholder),void 0===i||!i||"0"!==i[1]&&""!==i[1]||(t='<div class="fusion-builder-placeholder">'+o+"</div>"),t},htmlToShortcode:function(e,t){var i=jQuery("<div>"+e+"</div>"),o=this;return i.find(".fusion-disable-editing").each(function(){var e,i=jQuery(this).data("id");void 0===(e=jQuery(this).hasClass("fusion-inline-ajax")?FusionPageBuilderApp.extraShortcodes.byId(i).shortcode:FusionPageBuilderViewManager.getView(t).model.inlineCollection.find(function(e){return e.get("cid")==i}).get("inlineElement"))?alert("Problem encountered. This content cannot be live edited."):jQuery(this).replaceWith(e)}),i.find("[data-inline-shortcode]").each(function(){var e,i,n,s,a,r,l,u=jQuery(this).data("element"),d=jQuery(this).html();u in fusionAllElements?(e=fusionAllElements[u].params,i=fusionAllElements[u].multi,n=fusionAllElements[u].shortcode):(e="",i="",n=""),s={},_.each(e,function(e){s[e.param_name]=_.isObject(e.value)?e.default:e.value}),s.open_settings="true",s.element_content=d,a={type:"element",added:"manually",element_type:n,params:s,parent:t,multi:i},r=new FusionPageBuilder.Element(a),l=o.generateElementShortcode(r,!1,!0),jQuery(this).replaceWith(l)}),i.html()},shortcodesToBuilder:function(e,t,i,o,n,s){var a,r,l,u,d,c=[];return o=void 0!==o&&!0===o,""!==e||this.$el.find(".fusion-builder-blank-page-content").length?(jQuery(".fusion-builder-live").removeClass("fusion-builder-blank-page-active"),a=this,d=_.keys(fusionAllElements).join("|"),o&&"undefined"!=typeof fusionVendorShortcodes&&(d+="|"+_.keys(fusionVendorShortcodes).join("|")),r=window.wp.shortcode.regexp(d),l=this.regExpShortcode(d),u=e.match(r),_.each(u,function(e){var u,d,h,m,p,f,g,b,v,y,w,x,P=e.match(l),F=P[2],C=""!==P[3]?window.wp.shortcode.attrs(P[3]):"",k=void 0!==P[5]?P[5]:"",A=o?"":FusionPageBuilderViewManager.generateCid(),S={params:{}},B=void 0!==k&&""!==k&&k.match(r),j=void 0!==fusionAllElements[F]&&void 0!==fusionAllElements[F].allow_generator?fusionAllElements[F].allow_generator:"";if(u={type:F,element_type:F,cid:A,created:"manually",multi:"",params:{},container:!1,allow_generator:j,inline_editor:a.inlineEditorHelpers.inlineEditorAllowed(F)},-1===F.indexOf("fusion_builder_")&&(void 0!==(b=FusionPageBuilderApp.extraShortcodes.byShortcode(P[0]))?u.markup=b:u.shortcode=P[0]),"fusion_builder_container"!==F&&"fusion_builder_row"!==F&&"fusion_builder_row_inner"!==F&&"fusion_builder_column"!==F&&"fusion_builder_column_inner"!==F&&"fusion_builder_inline"!==F||(u.container=!0),"fusion_builder_container"===F&&"fusion_builder_next_page"===F||(u.parent=t),void 0!==n&&n&&(y=FusionPageBuilderApp.getCollectionIndex(n),void 0!==s&&"before"===s&&(y-=1),u.targetElement=n,u.at_index=y),void 0!==s&&s&&(u.targetElementPosition=s),!1===u.container&&"fusion_builder_next_page"!==F&&(-1===F.indexOf("fusion_")&&-1===F.indexOf("layerslider")&&-1===F.indexOf("rev_slider")&&void 0===fusionAllElements[F]||(u.type="element")),"fusion_builder_blank_page"===F&&(u.type="fusion_builder_blank_page"),"fusion_tb_meta"===F&&(void 0!==C.named.border_top&&void 0!==C.named.border_bottom&&void 0!==C.named.border_left&&void 0!==C.named.border_right||"string"!=typeof C.named.border_size||(C.named.border_top=C.named.border_size+"px",C.named.border_bottom=C.named.border_size+"px"),delete C.named.border_size),_.isObject(C.named)){for(d in C.named)h=d,S.params[h]=C.named[d],"fusion_products_slider"===F&&"cat_slug"===d&&(S.params.cat_slug=C.named[d].replace(/\|/g,",")),"gradient_colors"===d&&(delete S.params[h],-1!==C.named[d].indexOf("|")?(S.params.button_gradient_top_color=C.named[d].split("|")[0].replace("transparent","rgba(255,255,255,0)"),S.params.button_gradient_bottom_color=C.named[d].split("|")[1]?C.named[d].split("|")[1].replace("transparent","rgba(255,255,255,0)"):C.named[d].split("|")[0].replace("transparent","rgba(255,255,255,0)")):(S.params.button_gradient_bottom_color=C.named[d].replace("transparent","rgba(255,255,255,0)"),S.params.button_gradient_top_color=S.params.button_gradient_bottom_color)),"gradient_hover_colors"===d&&(delete S.params[h],-1!==C.named[d].indexOf("|")?(S.params.button_gradient_top_color_hover=C.named[d].split("|")[0].replace("transparent","rgba(255,255,255,0)"),S.params.button_gradient_bottom_color_hover=C.named[d].split("|")[1]?C.named[d].split("|")[1].replace("transparent","rgba(255,255,255,0)"):C.named[d].split("|")[0].replace("transparent","rgba(255,255,255,0)")):(S.params.button_gradient_bottom_color_hover=C.named[d].replace("transparent","rgba(255,255,255,0)"),S.params.button_gradient_top_color_hover=S.params.button_gradient_bottom_color_hover)),"overlay_color"===d&&""!==C.named[d]&&"fusion_builder_container"===F&&(delete S.params[h],g=void 0!==C.named.overlay_opacity?C.named.overlay_opacity:1,S.params.background_color=jQuery.Color(C.named[d]).alpha(g).toRgbaString()),"overlay_opacity"===d&&delete S.params[h],"scrolling"===d&&"fusion_blog"===F&&(delete S.params.paging,"no"===(void 0!==C.named.paging?C.named.paging:"")&&"pagination"===C.named.scrolling&&(S.params.scrolling="no")),"fusion_portfolio"===F&&("layout"===d&&("grid"===C.named[d]&&C.named.hasOwnProperty("boxed_text")?C.named.boxed_text="no_text":"grid-with-text"===C.named[d]&&(S.params[d]="grid")),"boxed_text"===d&&(S.params.text_layout=C.named[d],delete S.params[d]),"content_length"===d&&"full-content"===C.named[d]&&(S.params[d]="full_content")),"fusion_pricing_table"===F&&("backgroundcolor"!==d||C.named.hasOwnProperty("background_color_hover")||(S.params.background_color_hover=C.named.bordercolor)),"padding"!==d||"fusion_widget_area"!==F&&"fusion_builder_column"!==F&&"fusion_builder_column_inner"!==F||(1===(v=C.named[d].split(" ")).length&&(S.params.padding_top=v[0],S.params.padding_right=v[0],S.params.padding_bottom=v[0],S.params.padding_left=v[0]),2===v.length&&(S.params.padding_top=v[0],S.params.padding_right=v[1],S.params.padding_bottom=v[0],S.params.padding_left=v[1]),3===v.length&&(S.params.padding_top=v[0],S.params.padding_right=v[1],S.params.padding_bottom=v[2],S.params.padding_left=v[1]),4===v.length&&(S.params.padding_top=v[0],S.params.padding_right=v[1],S.params.padding_bottom=v[2],S.params.padding_left=v[3]),delete S.params[d]);"fusion_content_boxes"!==F&&"fusion_flip_boxes"!==F||(void 0!==C.named.image_width&&(S.params.image_max_width=C.named.image_width),k=k.replace(/image_width/g,"image_max_width")),"fusion_button"!==F&&"fusion_tagline_box"!==F||(w="fusion_tagline_box"===F?"button_":"",void 0!==C.named[w+"shape"]&&("square"===C.named[w+"shape"]?S.params[w+"border_radius"]="0":"round"===C.named[w+"shape"]?(S.params[w+"border_radius"]="2","3d"===C.named.type&&(S.params[w+"border_radius"]="4")):"pill"===C.named[w+"shape"]?S.params[w+"border_radius"]="25":""===C.named[w+"shape"]&&(S.params[w+"border_radius"]=""),delete S.params[w+"shape"])),"fusion_button"===F&&(void 0===C.named.border_color&&void 0!==C.named.accent_color&&""!==C.named.accent_color&&(S.params.border_color=C.named.accent_color),void 0===C.named.border_hover_color&&void 0!==C.named.accent_hover_color&&""!==C.named.accent_hover_color&&(S.params.border_hover_color=C.named.accent_hover_color)),u=_.extend(u,S)}if(B||(u.params.element_content=k),"fusion_builder_row"!==F&&"fusion_builder_row_inner"!==F&&"fusion_builder_inline"!==F||(u.element_content=k),"fusion_builder_column"!==F&&"fusion_builder_column_inner"!==F||(u.column_shortcode=P[0]),F in fusionMultiElements&&(u.multi="multi_element_parent",a.checkChildUI(F,u)),void 0!==fusionAllElements[F]&&void 0!==fusionAllElements[F].option_dependency&&(m=fusionAllElements[F].option_dependency,p=S.params[m],f=S.params.element_content,S.params[p]=f),B&&!1===u.container&&"fusion_builder_next_page"!==F&&(u.params.element_content=k),void 0!==i&&F===i&&(u.multi="multi_element_child",void 0!==fusionAllElements[F].selectors&&(u.selectors=jQuery.extend(!0,{},fusionAllElements[F].selectors))),"fusion_checklist"===F&&void 0!==u.params.element_content&&-1!==u.params.element_content.indexOf("<li>")&&-1===u.params.element_content.indexOf("[fusion_li_item")&&(u.params.element_content=u.params.element_content.replace(/<ul>/g,""),u.params.element_content=u.params.element_content.replace(/<\/ul>/g,""),u.params.element_content=u.params.element_content.replace(/<li>/g,"[fusion_li_item]"),u.params.element_content=u.params.element_content.replace(/<\/li>/,"[/fusion_li_item]")),o?c.push({content:P[0],settings:u}):"multi_element_child"!==u.multi&&a.collection.add([u]),!0===FusionPageBuilderApp.layoutIsLoading&&"object"==typeof FusionPageBuilder.options.fusionTypographyField&&"object"==typeof fusionAllElements[u.element_type]&&(x=[],_.each(fusionAllElements[u.element_type].params,function(e){"font_family"===e.type&&"string"==typeof u.params["fusion_font_family_"+e.param_name]&&""!==u.params["fusion_font_family_"+e.param_name]&&x.push({family:u.params["fusion_font_family_"+e.param_name],variant:u.params["fusion_font_variant_"+e.param_name]})}),!_.isEmpty(x))){if(!FusionApp.assets.webfonts)return jQuery.when(FusionApp.assets.getWebFonts()).done(function(){_.each(x,function(e){FusionPageBuilder.options.fusionTypographyField.webFontLoad(e.family,e.variant,!1)})}),this;_.each(x,function(e){FusionPageBuilder.options.fusionTypographyField.webFontLoad(e.family,e.variant,!1)})}B&&(F in fusionMultiElements?a.shortcodesToBuilder(k,A,fusionMultiElements[F]):!0===u.container&&("fusion_builder_row_inner"!==F&&"fusion_builder_column_inner"!==F&&"fusion_builder_inline"!==F||u.parent?a.shortcodesToBuilder(k,A):a.shortcodesToBuilder(k,!1,!1,!0)))}),o?c:void 0):(this.blankPage=!0,this.createBuilderLayout("[fusion_builder_blank_page][/fusion_builder_blank_page]"),jQuery(".fusion-builder-live").addClass("fusion-builder-blank-page-active"),void(!1===FusionApp.initialData.samePage&&void 0!==FusionApp.sidebarView.openOption&&FusionApp.sidebarView.openOption("post_title","po")))},checkChildUI:function(e,t){void 0!==fusionAllElements[e].child_ui&&(t.child_ui=fusionAllElements[e].child_ui)},addBuilderElement:function(e){var t,i,o,n={model:e,collection:FusionPageBuilderElements};switch(e.get("type")){case"fusion_builder_blank_page":void 0!==FusionApp.data.postDetails.post_type&&"fusion_form"===FusionApp.data.postDetails.post_type?(n.className="fusion-builder-blank-page",t=new FusionPageBuilder.BlankFormView(n)):t=new FusionPageBuilder.BlankPageView(n),FusionPageBuilderViewManager.addView(e.get("cid"),t),_.isUndefined(e.get("view"))?this.$el.find("#fusion_builder_container").append(t.render().el):e.get("view").$el.after(t.render().el);break;case"fusion_builder_container":""!==FusionPageBuilderApp.targetContainerCID&&(e.attributes.view=FusionPageBuilderViewManager.getView(FusionPageBuilderApp.targetContainerCID),FusionPageBuilderApp.targetContainerCID=""),t=new FusionPageBuilder.ContainerView(n),FusionPageBuilderViewManager.addView(e.get("cid"),t),_.isUndefined(e.get("view"))?(this.$el.find("#fusion_builder_container").append(t.render().el),this.$el.find(".fusion-builder-blank-page").remove()):void 0===e.get("targetElementPosition")||"after"===e.get("targetElementPosition")?e.get("view").$el.after(t.render().el):e.get("view").$el.before(t.render().el);break;case"element":case"fusion_builder_column":case"fusion_builder_column_inner":case"fusion_builder_row_inner":this.addToChildCollection(e),"fusion_builder_row_inner"===e.get("type")&&"manually"===e.get("created")&&"row_inner"===e.get("element_type")&&e.set("view",FusionPageBuilderViewManager.getView(e.get("parent")),{silent:!0});break;case"fusion_builder_row":this.collection.find(function(t){return t.get("cid")==e.get("parent")}).children.add([e]);break;case"generated_element":"fusion_builder_column_inner"!==e.get("element_type")&&"fusion_builder_column"!==e.get("element_type")&&(n.attributes={"data-modal_view":"element_settings"},o={model:e,collection:FusionPageBuilderElements,attributes:{"data-cid":e.get("cid")}},void 0!==e.get("multi")&&"multi_element_parent"===e.get("multi")?void 0!==FusionPageBuilder[e.get("element_type")]?(this.checkChildUI(e.get("element_type"),o.model.attributes),i=new(FusionPageBuilder[e.get("element_type")])(o)):(this.checkChildUI(e.get("element_type"),o.model.attributes),i=new FusionPageBuilder.ParentElementView(o)):i=void 0!==FusionPageBuilder[e.get("element_type")]?new(FusionPageBuilder[e.get("element_type")])(o):"fusion_builder_row_inner"===e.get("element_type")?new FusionPageBuilder.InnerRowView(o):new FusionPageBuilder.ElementView(o),FusionPageBuilderViewManager.addView(e.get("cid"),i),i.render().el,t=void 0!==(t=fusionAllElements[e.get("element_type")].custom_settings_view_name)&&""!==t?new FusionPageBuilder[t](n):new FusionPageBuilder.ElementSettingsView(n),this.generateElementSettings(t));break;case"fusion_builder_next_page":t=new FusionPageBuilder.NextPage(n),FusionPageBuilderViewManager.addView(e.get("cid"),t),_.isUndefined(e.get("appendAfter"))?this.$el.find(".fusion-builder-container:last-child").after(t.render().el):e.get("appendAfter").next().next().hasClass("fusion-builder-next-page")||e.get("appendAfter").after(t.render().el)}_.isUndefined(e.get("targetElement"))||e.unset("targetElement")},addToChildCollection:function(e){var t,i;e instanceof Backbone.Model?(t=this.collection.find(function(t){return t.get("cid")==e.get("parent")}),i=e.get("at_index"),e.unset("at_index")):(t=this.collection.find(function(t){return t.get("cid")==e.parent}),i=e.at_index,delete e.at_index),"new"===i||void 0===i||isNaN(i)?t.children.add([e]):t.children.add([e],{at:i})},getCollectionIndex:function(e){var t,i,o="new";return void 0!==e&&!1!==e&&(void 0!==e.data("parent-cid")?(i=FusionPageBuilderApp.collection.find(function(t){return t.get("cid")===e.data("parent-cid")}),t=i.children.find(function(t){return t.get("cid")===e.data("cid")})):void 0!==(t=FusionPageBuilderApp.collection.find(function(t){return t.get("cid")===e.data("cid")})).get("parent")&&t.get("parent")&&(i=FusionPageBuilderApp.collection.find(function(e){return e.get("cid")===t.get("parent")})),i&&(o=i.children.indexOf(t)+1)),o},onDropCollectionUpdate:function(e,t,i){var o=FusionPageBuilderViewManager.getView(e.get("parent"));o.model.children.remove(e,{silent:!0}),i!==e.get("parent")?(e.set("parent",i),FusionPageBuilderViewManager.getView(i).model.children.add(e,{at:t,silent:!0})):o.model.children.add(e,{at:t,silent:!0}),o.model.children.trigger("sort")},generateElementSettings:function(e){FusionPageBuilderApp.SettingsHelpers.shouldRenderSettings(e)&&jQuery(e.render().el).dialog({title:fusionAllElements[e.model.get("element_type")].name,width:FusionApp.dialog.dialogData.width,height:FusionApp.dialog.dialogData.height,position:FusionApp.dialog.dialogData.position,dialogClass:"fusion-builder-dialog fusion-builder-settings-dialog",minWidth:360,dragStop:function(e,t){FusionApp.dialog.saveDialogPosition(t.offset)},resizeStop:function(e,t){FusionApp.dialog.saveDialogSize(t.size)},open:function(t,i){var o=jQuery(t.target).closest(".ui-dialog");e.$el.find(".has-group-options").length&&o.addClass("fusion-builder-group-options")},dragStart:function(e,t){jQuery(e.target).trigger("click")},beforeClose:function(t,i){e.closeGeneratorModal()},buttons:{Insert:function(){e.insertGeneratedShortcode()},Cancel:function(){e.closeGeneratorModal()}}})},builderToShortcodes:function(){var e="",t=this;FusionApp.data.is_fusion_element?this.libraryBuilderToShortcodes():(this.$el.find(".fusion-builder-container").each(function(){var i=jQuery(this).find(".fusion-builder-container-content");e+=t.generateElementShortcode(jQuery(this),!0),i.find(".fusion_builder_row").each(function(){var t=jQuery(this);e+="[fusion_builder_row]",t.find(".fusion-builder-column-outer").each(function(){var t=jQuery(this).data("cid"),i=FusionPageBuilderViewManager.getView(t);e+=i.getColumnContent()}),e+="[/fusion_builder_row]"}),e+="[/fusion_builder_container]",jQuery(this).next().hasClass("fusion-builder-next-page")&&(e+="[fusion_builder_next_page]")}),FusionApp.setPost("post_content",e))},generateElementShortcode:function(e,t,i){var o,n,s,a,r,l,u,d,c,h,m,p,f,g,_,b,v,y,w,x,P,F="",C="";if(!0===i?o=e:(s=void 0===(n=e).data("cid")?n.find(".fusion-builder-data-cid").data("cid"):n.data("cid"),n.hasClass("fusion-builder-live-child-element")?(x=void 0===n.data("parent-cid")?n.find(".fusion-builder-data-cid").data("parent-cid"):n.data("parent-cid"),o=FusionPageBuilderElements.find(function(e){return e.get("cid")==x}).children.find(function(e){return e.get("cid")==s})):o=FusionPageBuilderElements.find(function(e){return e.get("cid")==s})),void 0!==(P=FusionPageBuilderViewManager.getView(s))&&"function"==typeof P.beforeGenerateShortcode&&P.beforeGenerateShortcode(),a=void 0!==o?o.get("element_type"):"undefined","",l="",r=o.attributes,(u=void 0!==fusionAllElements[a].remove_from_atts?fusionAllElements[a].remove_from_atts:[]).push("undefined"),d=void 0!==fusionAllElements[a].option_dependency?fusionAllElements[a].option_dependency:"","params"in r)for(f in m="params",p=void 0!==o.get(m)?o.get(m):"")"element_content"===(g=f)?(C=_=void 0!==p[f]?p[f]:"",void 0!==p[d]&&(C=void 0!==p[c=void 0!==p[d=fusionAllElements[a].option_dependency]?p[d]:""]?p[c]:"")):(b="",""!==d&&(h=g,c=void 0!==p[d]?p[d]:"",void 0!==fusionAllElements[a].params[h]&&void 0!==fusionAllElements[a].params[h].dependency&&(y=void 0!==(v=fusionAllElements[a].params[h].dependency).element?v.element:"",w=void 0!==v.value?v.value:"",y===d&&w!==c&&(b="",b=h))),-1<jQuery.inArray(f,u)||b===f||(null===(_=void 0!==p[f]?p[f]:"")&&(_=""),void 0!==P&&"function"==typeof P.sanitizeValue&&(_=P.sanitizeValue(f,_)),F+=" "+f+'="'+_+'"'));return l="["+a+F,""===C&&"fusion_text"!==a&&"fusion_code"!==a&&void 0!==r.type&&"element"===r.type?(t=!0,l+=" /]"):l+="]",t||(l+=C+"[/"+a+"]"),l},layoutLoaded:function(){FusionEvents.trigger("fusion-history-clear"),this.reRenderElements=!0},getElementType:function(e){return"fusion_builder_container"===e||"fusion_builder_column"===e||"fusion_builder_column_inner"===e?e:e in fusionMultiElements?"parent_element":-1!==_.values(fusionMultiElements).indexOf(e)?"child_element":"fusion_builder_row_inner"===e?"fusion_builder_row_inner":"element"},clearBuilderLayout:function(e){this.$el.find(".fusion-builder-blank-page").each(function(){var e=jQuery(this),t=FusionPageBuilderViewManager.getView(e.data("cid"));void 0!==t&&t.removeBlankPageHelper()}),this.$el.find(".fusion-builder-container").each(function(){var e=jQuery(this),t=FusionPageBuilderViewManager.getView(e.data("cid"));void 0!==t&&t.removeContainer(!1,!0)}),this.$el.find(".fusion-builder-next-page").each(function(){var e=FusionPageBuilderViewManager.getView(jQuery(this).data("cid"));void 0!==e&&e.removeNextPage()}),e&&!0===this.blankPage&&(this.$el.find(".fusion-builder-blank-page").length||(this.createBuilderLayout("[fusion_builder_blank_page][/fusion_builder_blank_page]"),jQuery(".fusion-builder-live").addClass("fusion-builder-blank-page-active")),this.blankPage=!1)},base64Encode:function(e){var t,i,o,n,s,a,r=this._keyStr,l=0,u=0,d="",c=[];if(!e)return e;e=unescape(encodeURIComponent(e));do{t=(s=e.charCodeAt(l++)<<16|e.charCodeAt(l++)<<8|e.charCodeAt(l++))>>18&63,i=s>>12&63,o=s>>6&63,n=63&s,c[u++]=r.charAt(t)+r.charAt(i)+r.charAt(o)+r.charAt(n)}while(l<e.length);return d=c.join(""),((a=e.length%3)?d.slice(0,a-3):d)+"===".slice(a||3)},base64Decode:function(e){var t,i,o,n,s,a,r="",l=0;if(void 0===e||!e||""===e)return e;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=this._keyStr.indexOf(e.charAt(l++))<<2|(n=this._keyStr.indexOf(e.charAt(l++)))>>4,i=(15&n)<<4|(s=this._keyStr.indexOf(e.charAt(l++)))>>2,o=(3&s)<<6|(a=this._keyStr.indexOf(e.charAt(l++))),r+=String.fromCharCode(t),64!=s&&(r+=String.fromCharCode(i)),64!=a&&(r+=String.fromCharCode(o));return r=this.utf8Decode(r)},utf8Decode:function(e){for(var t,i="",o=0,n=0,s=0;o<e.length;)128>(n=e.charCodeAt(o))?(i+=String.fromCharCode(n),o++):191<n&&224>n?(s=e.charCodeAt(o+1),i+=String.fromCharCode((31&n)<<6|63&s),o+=2):(s=e.charCodeAt(o+1),t=e.charCodeAt(o+2),i+=String.fromCharCode((15&n)<<12|(63&s)<<6|63&t),o+=3);return i},setContent:function(e,t){void 0!==window.tinyMCE&&window.tinyMCE.get(e)&&!window.tinyMCE.get(e).isHidden()&&(window.tinyMCE.get(e).getParam("wpautop",!0)&&void 0!==window.switchEditors&&(t=window.switchEditors.wpautop(t)),window.tinyMCE.get(e).setContent(t,{format:"html"})),jQuery("#"+e+":visible").val(t).trigger("change")},isTinyMceActive:function(){return"undefined"!=typeof tinyMCE&&tinyMCE.activeEditor&&!tinyMCE.activeEditor.isHidden()},previewToggle:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery("body"),t=this;this.previewMode=e.hasClass("fusion-builder-preview-mode"),this.$el.find(".fusion-scrolling-section-edit").length&&this.toggleScrollingSections(),void 0!==jQuery("#fb-preview")[0].contentWindow.avadaNiceScrollVars?this.toggleNiceScroll():FusionEvents.once("fusion-iframe-loaded",function(){t.toggleNiceScroll()})},toggleNiceScroll:function(){"1"!==jQuery("#fb-preview")[0].contentWindow.avadaNiceScrollVars.smooth_scrolling&&1!==jQuery("#fb-preview")[0].contentWindow.avadaNiceScrollVars.smooth_scrolling&&!0!==jQuery("#fb-preview")[0].contentWindow.avadaNiceScrollVars.smooth_scrolling||(this.previewMode?(jQuery("#fb-preview")[0].contentWindow.jQuery("html").niceScroll({background:"#555",scrollspeed:60,mousescrollstep:40,cursorwidth:9,cursorborder:"0px",cursorcolor:"#303030",cursorborderradius:8,preservenativescrolling:!0,cursoropacitymax:1,cursoropacitymin:1,autohidemode:!1,zindex:999999,horizrailenabled:!1}),jQuery("#fb-preview")[0].contentWindow.jQuery("html").addClass("no-overflow-y")):this.previewMode||(void 0!==jQuery("#fb-preview")[0].contentWindow.jQuery("html").getNiceScroll&&jQuery("#fb-preview")[0].contentWindow.jQuery("html").getNiceScroll().remove(),jQuery("#fb-preview")[0].contentWindow.jQuery("html").removeClass("no-overflow-y")))},toggleScrollingSections:function(){this.previewMode?this.createScrollingSections():this.destroyScrollingSections()},reInitScrollingSections:function(){this.destroyScrollingSections(),this.createScrollingSections()},scrollingContainers:function(){var e=this.$el.find(".fusion-builder-container "),t={},i=!1,o=0;this.$el.find(".fusion-scrolling-section-edit").length&&(e.each(function(){jQuery(this).find(".fusion-scrolling-section-edit").length?(i=!0,void 0===t[o]&&(t[o]=[]),t[o].push(jQuery(this))):i&&(o++,i=!1)}),_.each(t,function(e){var t,i="";for(t=e.length;0<t;t--)i+='<li><a href="#" class="fusion-scroll-section-link"><span class="fusion-scroll-section-link-bullet"></span></a></li>';_.each(e,function(e){e.find(".fusion-scroll-section-nav ul").html(i)})}))},createScrollingSections:function(){var e=this.$el.find(".fusion-builder-container "),t="right"===FusionApp.settings.header_position.toLowerCase()||jQuery("#fb-preview")[0].contentWindow.jQuery("body").hasClass("rtl")?"scroll-navigation-left":"scroll-navigation-right",i={},o=!1,n=0;e.each(function(){jQuery(this).find(".fusion-scrolling-section-edit").length?(o=!0,void 0===i[n]&&(i[n]=[]),i[n].push(jQuery(this))):o&&(n++,o=!1)}),_.each(i,function(e,i){var o='<div id="fusion-scroll-section-'+i+'" class="fusion-scroll-section" data-section="'+i+'">',n='<nav id="fusion-scroll-section-nav-'+i+'" class="fusion-scroll-section-nav '+t+'" data-section="'+i+'"><ul>',s=!1;_.each(e,function(e,t){var a,r,l,u,d;a=1===(t+=1)?" active":"",r=e,l=e.find(".fusion-scrolling-section-edit").clone(),u=r.find(".fusion-builder-section-name").val(),d='<li><a href="#'+("fusion-scroll-section-element-"+i+"-"+t)+'" class="fusion-scroll-section-link" data-name="'+u+'" data-element="'+t+'"><span class="fusion-scroll-section-link-bullet"></span></a></li>',1===t&&(s=r),l.find(".fusion-scroll-section-nav, .fusion-builder-insert-column, .fusion-builder-container-add").remove(),l.find(".hundred-percent-height").removeClass("hundred-percent-height").css({height:"","min-height":""}),l.addClass("hundred-percent-height-scrolling hundred-percent-height"),n+=d,o+='<div class="fusion-scroll-section-element'+a+'" data-section="'+i+'" data-element="'+t+'">'+l.outerHTML()+"</div>",r.addClass("fusion-temp-hidden-container"),r.hide()}),o+=n+="</ul></nav>",o+="</div>",s&&s.before(o)}),jQuery("#fb-preview")[0].contentWindow.initScrollingSections(),jQuery("#fb-preview").contents().scrollTop(0)},destroyScrollingSections:function(){this.$el.find(".fusion-scroll-section").remove(),this.$el.find(".fusion-temp-hidden-container").show().removeClass("fusion-temp-hidden-container")},toggleDroppablesVisibility:function(){"undefined"!=typeof FusionApp&&"on"===FusionApp.preferencesData.droppables_visible?jQuery("#fb-preview")[0].contentWindow.jQuery("body").removeClass("fusion-hide-droppables"):jQuery("#fb-preview")[0].contentWindow.jQuery("body").addClass("fusion-hide-droppables")},toggleStickyHeader:function(){"undefined"!=typeof FusionApp&&"off"===FusionApp.preferencesData.sticky_header?(fusionTriggerEvent("fusion-disable-sticky-header"),jQuery("#fb-preview")[0].contentWindow.jQuery("body").addClass("fusion-disable-sticky")):(jQuery("#fb-preview")[0].contentWindow.jQuery("body").removeClass("fusion-disable-sticky"),1===Number(FusionApp.settings.header_sticky)&&fusionTriggerEvent("fusion-init-sticky-header")),jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-sticky-header-reinit")},toggleTooltips:function(){"undefined"!=typeof FusionApp&&"off"===FusionApp.preferencesData.tooltips?(jQuery("body").addClass("fusion-hide-all-tooltips"),jQuery("#fb-preview")[0].contentWindow.jQuery("body").addClass("fusion-hide-all-tooltips")):(jQuery("body").removeClass("fusion-hide-all-tooltips"),jQuery("#fb-preview")[0].contentWindow.jQuery("body").removeClass("fusion-hide-all-tooltips"))},toggleElementFilters:function(){"undefined"!=typeof FusionApp&&"off"===FusionApp.preferencesData.element_filters?(jQuery("body").addClass("fusion-disable-element-filters"),jQuery("#fb-preview")[0].contentWindow.jQuery("body").addClass("fusion-disable-element-filters")):(jQuery("body").removeClass("fusion-disable-element-filters"),jQuery("#fb-preview")[0].contentWindow.jQuery("body").removeClass("fusion-disable-element-filters"))},toggleTransparentHeader:function(){var e=""===fusionSanitize.getPageOption("header_bg_color")?FusionApp.settings.header_bg_color:fusionSanitize.getPageOption("header_bg_color"),t=jQuery("#fb-preview")[0].contentWindow.jQuery("html"),i=t.find("body");"undefined"!=typeof FusionApp&&"off"===FusionApp.preferencesData.transparent_header?t.removeClass("avada-header-color-not-opaque"):1>jQuery.Color(e).alpha()&&t.addClass("avada-header-color-not-opaque"),"undefined"!=typeof FusionApp&&"off"===FusionApp.preferencesData.transparent_header?i.addClass("fusion-no-absolute-containers"):t.removeClass("fusion-no-absolute-containers")},sizesHide:function(e){"fusion-builder-column-size"!==jQuery(e.target).parent().attr("class")&&jQuery("#fb-preview")[0].contentWindow.jQuery("body .column-sizes:visible").each(function(){jQuery(this).parent().find(".fusion-builder-column-size").trigger("click")})},wireFrameToggled:function(){this._wireframeToggle(),this.wireframeActive?this.enableSortableContainers():this.disableSortableContainers()},wireframeToggle:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-wireframe-toggle")},enableSortableContainers:function(){void 0!==this.$el.sortable("instance")?this.$el.sortable("enable"):this.sortableContainers()},disableSortableContainers:function(){void 0!==this.$el.sortable("instance")&&this.$el.sortable("disable")},sortableContainers:function(){this.$el.sortable({handle:".fusion-builder-section-header",items:".fusion-builder-container, .fusion-builder-next-page",cancel:".fusion-builder-section-name, .fusion-builder-settings, .fusion-builder-clone, .fusion-builder-remove, .fusion-builder-section-add, .fusion-builder-add-element, .fusion-builder-insert-column, #fusion_builder_controls, .fusion-builder-save-element",cursor:"move",update:function(){FusionEvents.trigger("fusion-content-changed"),FusionPageBuilderApp.scrollingContainers(),FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.full_width_section+" order changed")}})},setStackedContentClass:function(){void 0!==FusionApp.settings&&this.$el.width()<FusionApp.settings.content_break_point?this.$el.addClass("fusion-stacked-content"):this.$el.removeClass("fusion-stacked-content")},disableDocumentWrite:function(){!1===this.previewDocumentWrite&&(this.previewDocumentWrite=document.getElementById("fb-preview").contentWindow.document.write,document.getElementById("fb-preview").contentWindow.document.write=function(){}),!1===this.documentWrite&&(this.documentWrite=document.write,document.write=function(){})},enableDocumentWrite:function(){var e=this;setTimeout(function(){!1!==e.documentWrite&&(document.write=e.documentWrite),!1!==e.previewDocumentWrite&&(document.getElementById("fb-preview").contentWindow.document.write=e.previewDocumentWrite),e.documentWrite=!1,e.previewDocumentWrite=!1},500)},fusionLibraryUI:function(){"elements"===FusionApp.data.fusion_element_type&&this.$el.find(".fusion-builder-column-outer .fusion_builder_row_inner, .fusion-builder-live-element").length&&this.$el.find(".fusion-builder-column .fusion-builder-add-element").hide()},sameContainerTypes:function(e,t){return e===t||("object"!=typeof e&&(e=FusionPageBuilderViewManager.getView(e)),"object"!=typeof t&&(t=FusionPageBuilderViewManager.getView(t)),"object"==typeof e&&"object"==typeof t&&"function"==typeof e.isFlex&&"function"==typeof t.isFlex&&e.isFlex()===t.isFlex())},getParentContainer:function(e){var t=e;return"object"!=typeof e&&(t=FusionPageBuilderViewManager.getView(e)),!!t&&("fusion_builder_container"===t.model.get("element_type")?t:!!t.model.get("parent")&&this.getParentContainer(t.model.get("parent")))},getParentColumn:function(e){var t=e;return"object"!=typeof e&&(t=FusionPageBuilderViewManager.getView(e)),!!t&&("fusion_builder_column"===t.model.get("element_type")||"fusion_builder_column_inner"===t.model.get("element_type")?t:!!t.model.get("parent")&&this.getParentColumn(t.model.get("parent")))},maybeFormStyles:function(){"fusion_form"===FusionApp.getPost("post_type")&&(!1!==this.formStyles?this.formStyles.buildStyles():this.formStyles=new FusionPageBuilder.FormStyles)}})}(jQuery);FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_counter_circle=FusionPageBuilder.ChildElementView.extend({onRender:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),void 0!==this.model.attributes.childSelectors&&(this.model.attributes.childSelectors.class+=" fusion-builder-child-element-content",this.setElementAttributes(this.$el.find(".fusion-builder-child-element-content"),this.model.attributes.childSelectors))},afterPatch:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),void 0!==this.model.attributes.childSelectors&&(this.model.attributes.childSelectors.class+=" fusion-builder-child-element-content",this.setElementAttributes(this.$el.find(".fusion-builder-child-element-content"),this.model.attributes.childSelectors)),this.refreshJs()},filterTemplateAtts:function(e){var t={};return this.computeAtts(e.values),t.cid=this.model.get("cid"),t.parent=this.model.get("parent"),t.output=e.values.element_content,t},computeAtts:function(e){var t,i,o,n="",s="",a="",r={class:"fusion-counter-circle counter-circle counter-circle-content"};e.size=_.fusionValidateAttrValue(e.size,""),"yes"===e.scales&&(n=!0),"yes"===e.countdown&&(s=!0),""!==e.class&&(r.class+=" "+e.class),""!==e.id&&(r.id=e.id),e.size=parseFloat(e.size),i=11*(t=e.size/220),o=50*t,r["data-percent"]=e.value,r["data-countdown"]=s,r["data-filledcolor"]=e.filledcolor,r["data-unfilledcolor"]=e.unfilledcolor,r["data-scale"]=n,r["data-size"]=e.size.toString(),r["data-speed"]=e.speed.toString(),r["data-strokesize"]=i.toString(),r.style="font-size:"+o+"px;height:"+e.size+"px;width:"+e.size+"px;",(a={class:"counter-circle-wrapper",style:"height:"+e.size+"px;width:"+e.size+"px;"})["data-originalsize"]=e.size.toString(),this.model.set("selectors",a),this.model.set("childSelectors",r)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_counters_circle=FusionPageBuilder.ParentElementView.extend({afterPatch:function(){this.appendChildren(".fusion-counters-circle"),this._refreshJs()},filterTemplateAtts:function(e){var t=this.computeAtts(e.values);return(e={}).countersCircleAtts=t,e},computeAtts:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-counters-circle counters-circle"});return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id+=" "+e.id),t.class+=" fusion-child-element",t["data-empty"]=this.emptyPlaceholderText,t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_gallery=FusionPageBuilder.ParentElementView.extend({imageMap:{images:{}},onInit:function(){this.fusionIsotope=new FusionPageBuilder.IsotopeManager({selector:".fusion-gallery-layout-grid, .fusion-gallery-layout-masonry",layoutMode:"packery",itemSelector:".fusion-gallery-column",isOriginLeft:!jQuery("body.rtl").length,resizable:!0,initLayout:!0,view:this})},onRender:function(){var e=this.$el.find(".fusion-gallery-column"),t=this;imagesLoaded(e,function(){t.fusionIsotope.updateLayout(),t.setOutlineControlsPosition()})},setOutlineControlsPosition:function(){var e=this.model.get("cid"),t=this.model.get("params"),i=parseFloat(t.column_spacing)/2+"px",o="";this.$el.children("style").remove(),o+='<style type="text/css">',o+='.fusion-builder-live:not(.fusion-builder-ui-wireframe) div[data-cid="'+e+'"] .fusion-builder-live-child-element:hover:after{ margin:'+i+";}",o+='.fusion-builder-live:not(.fusion-builder-ui-wireframe) div[data-cid="'+e+'"] .fusion-builder-live-child-element:hover .fusion-builder-module-controls-container{ bottom: '+i+"; right:"+i+";}",o+="</style>",this.$el.prepend(o)},onGenerateChildElements:function(e){var t=1;this.fusionIsotope.init(),this.addImagesToImageMap(e,!1,!1),_.each(this.model.children,function(e){e.set("counter",t),t++})},addImagesToImageMap:function(e,t,i,o){var n=this,s={};t=void 0===t||t,i=void 0===i||i,_.each(e,function(e){var t=void 0!==e.get?e.get("params"):e.params;void 0!==e.get?e.get("cid"):e.cid,t.image,(void 0===n.imageMap.images[t.image_id]||o)&&(s[t.image_id]=t)}),_.isEmpty(s)||jQuery.ajax({async:t,url:fusionAppConfig.ajaxurl,type:"post",dataType:"json",data:{action:"get_fusion_gallery",children:s,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,gallery:n.model.get("params")}}).done(function(e){n.updateImageMap(e,o),n.model.set("query_data",e),i&&n.reRender()})},updateImageMap:function(e,t){var i=this.imageMap;_.each(e.images,function(e,o){(void 0===i.images[o]||t)&&(i.images[o]=e)}),this.imageMap=i},afterPatch:function(){this.appendChildren(".fusion-gallery-container"),this.fusionIsotope.reInit(),this.checkVerticalImages(),this.setOutlineControlsPosition()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.values=e.values,t.query_data=e.query_data,t.attr=this.buildAttr(e.values),t.usingDynamic=void 0!==e.values.multiple_upload,t},checkVerticalImages:function(){var e=this.$el.find(".fusion-gallery-layout-grid, .fusion-gallery-layout-masonry");e.hasClass("fusion-gallery-layout-masonry")&&0<e.find(".fusion-grid-column:not(.fusion-grid-sizer)").not(".fusion-element-landscape").length?e.addClass("fusion-masonry-has-vertical"):e.removeClass("fusion-masonry-has-vertical")},validateValues:function(e){e.column_spacing=parseFloat(e.column_spacing)/2+"px",e.bordersize=_.fusionValidateAttrValue(e.bordersize,"px"),e.border_radius=_.fusionValidateAttrValue(e.border_radius,"px"),"round"===e.border_radius&&(e.border_radius="50%")},buildAttr:function(e){var t,i=this.model.children.length,o=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-gallery fusion-gallery-container fusion-child-element fusion-grid-"+e.columns+" fusion-columns-total-"+i+" fusion-gallery-layout-"+e.layout});return e.column_spacing&&(t=-1*parseFloat(e.column_spacing),o.style="margin:"+t+"px;"),o["data-empty"]=this.emptyPlaceholderText,o}}),_.extend(FusionPageBuilder.Callback.prototype,{fusion_gallery_image:function(e,t,i,o,n,s,a,r){var l,u={},d=FusionPageBuilderViewManager.getView(a.attributes.parent),c=jQuery.extend(!0,{},a.attributes.params);c[e]=t,l=c.image_id,void 0===d.imageMap.images[l]&&void 0!==t&&""!==t&&(u[l]=c),_.isEmpty(u)?(o.skip||void 0===e||r.changeParam(e,t),r.reRender()):jQuery.ajax({async:!0,url:fusionAppConfig.ajaxurl,type:"post",dataType:"json",data:{action:"get_fusion_gallery",children:u,fusion_load_nonce:fusionAppConfig.fusion_load_nonce,gallery:d.model.get("params")}}).done(function(i){d.updateImageMap(i),void 0!==i.images[t]&&void 0!==i.images[t].image_data&&"image_id"===e&&void 0!==i.images[t].image_data.url&&(o.skip||r.changeParam("image",i.images[t].image_data.url)),r.changeParam(e,t),r.reRender()})}}),_.extend(FusionPageBuilder.Callback.prototype,{fusion_gallery_images:function(e,t,i,o,n,s,a,r){r.model.attributes.params[e]=t,r.addImagesToImageMap(r.model.children.models,!0,!0,!0)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_gallery_image=FusionPageBuilder.ChildElementView.extend({onRender:function(){var e=this,t=FusionPageBuilderViewManager.getView(this.model.get("parent"));void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),void 0!==e.model.attributes.cloned&&!0===e.model.attributes.cloned&&(delete e.model.attributes.cloned,t.reRender(),t.fusionIsotope.reloadItems()),setTimeout(function(){t.fusionIsotope.append(e.$el),t.checkVerticalImages()},50),this.initLightbox()},beforePatch:function(){},initLightbox:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-lightbox"));"object"==typeof jQuery("#fb-preview")[0].contentWindow.avadaLightBox&&(void 0!==this.iLightbox&&this.iLightbox.destroy(),e.length&&!e.find(".fusion-builder-placeholder").length&&(this.iLightbox=e.iLightBox(jQuery("#fb-preview")[0].contentWindow.avadaLightBox.prepare_options("single"))))},beforeRemove:function(){var e=FusionPageBuilderViewManager.getView(this.model.get("parent"));e.fusionIsotope.remove(self.$el),e.checkVerticalImages(),setTimeout(function(){e.fusionIsotope.reloadItems()},100)},afterPatch:function(){var e=this.model.get("parent"),t=FusionPageBuilderViewManager.getView(this.model.get("parent"));void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),this.initLightbox(),setTimeout(function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-fusion_gallery",e),t.fusionIsotope.updateLayout()},100)},filterTemplateAtts:function(e){var t={},i=FusionPageBuilderViewManager.getView(this.model.get("parent")).imageMap.images[this.model.attributes.params.image_id],o=e.parentValues,n="";return this.validateValues(e.values),this.validateValues(e.parentValues),t.values=e.values,t.imageData=i,t.galleryLayout=o.layout,t.galleryLightbox=o.lightbox,t.galleryColumns=o.columns,t.imageWrapperAttr=this.buildImageWrapperAttr(o),t.counter=this.model.get("counter"),t.imagesAttr=this.buildImagesAttr(e.values),void 0!==i&&void 0!==i.element_orientation_class&&!1!==i.element_orientation_class?n=i.element_orientation_class:this.$el.removeClass("fusion-element-landscape"),this.$el.addClass("fusion-grid-column fusion-gallery-column "+n),t},validateValues:function(e){e.column_spacing=parseFloat(e.column_spacing)/2+"px",e.bordersize=_.fusionValidateAttrValue(e.bordersize,"px"),e.border_radius=_.fusionValidateAttrValue(e.border_radius,"px"),"round"===e.border_radius&&(e.border_radius="50%")},buildAttr:function(e){var t,i=e.image_ids.split(",").length,o=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-gallery fusion-gallery-container fusion-grid-"+e.columns+" fusion-columns-total-"+i+" fusion-gallery-layout-"+e.layout});return e.column_spacing&&(t=-1*parseFloat(e.column_spacing),o.style="margin:"+t+"px;"),o},buildImageWrapperAttr:function(e){var t={class:"fusion-gallery-image",style:""};return""!==e.bordersize&&0!==e.bordersize&&(t.style+="border:"+e.bordersize+" solid "+e.bordercolor+";","0"!=e.border_radius&&"0px"!==e.border_radius&&"px"!==e.border_radius&&(t.style+="-webkit-border-radius:"+e.border_radius+";border-radius:"+e.border_radius+";",("50%"===e.border_radius||100<parseInt(e.border_radius,10))&&(t.style+="-webkit-mask-image:-webkit-radial-gradient(circle, white, black);"))),"liftup"===e.hover_type&&(t.class=" fusion-gallery-image-liftup"),t},buildImagesAttr:function(e){var t,i,o,n,s={},a=this.model.get("cid"),r=this.model.attributes.params.image_id,l=FusionPageBuilderViewManager.getView(this.model.get("parent")).imageMap.images[r];return void 0===l&&(l={}),t=0,i=!1,o=!1,n=jQuery.Color(e.bordercolor),s={},"masonry"===e.layout&&(s.masonryWrapper={style:"",class:"fusion-masonry-element-container"},l.url&&(s.masonryWrapper.style+="background-image:url("+l.url+");"),void 0!==l.image_data&&!0!==l.image_data.specific_element_orientation_class&&(l.element_orientation_class=_.fusionGetElementOrientationClass({imageWidth:l.image_data.width,imageHeight:l.image_data.height},e.gallery_masonry_grid_ratio,e.gallery_masonry_width_double)),l.element_base_padding=_.fusionGetElementBasePadding(l.element_orientation_class),l.element_base_padding&&(t=0,void 0!==l.element_orientation_class&&!1!==l.element_orientation_class&&(o=-1!==l.element_orientation_class.indexOf("fusion-element-landscape"),i=-1!==l.element_orientation_class.indexOf("fusion-element-portrait")),(o||i)&&(t=2*parseFloat(e.column_spacing)),e.bordersize&&"transparent"!==e.bordercolor&&0!==n.alpha()&&(o||i)&&(t+=2*parseFloat(e.bordersize)),s.masonryWrapper.style+=o&&i?"padding-top:calc((100% - "+t+"px) * "+l.element_base_padding+" + "+t+"px);":o?"padding-top:calc((100% - "+t+"px) * "+l.element_base_padding+");":i?"padding-top:calc(100%  * "+l.element_base_padding+" + "+t+"px);":"padding-top:calc(100%  * "+l.element_base_padding+");")),s.images={style:"",class:""},"liftup"!==e.hover_type&&(s.images.class+=" hover-type-"+e.hover_type),""!==e.column_spacing&&(s.images.style="padding:"+e.column_spacing+";"),e.lightbox&&"no"!==e.lightbox&&(s.link={href:l.pic_link,class:"fusion-lightbox"},s.link["data-rel"]="iLightbox[gallery-"+a+"]"),s}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_separator=FusionPageBuilder.ElementView.extend({onRender:function(){this.afterPatch()},afterPatch:function(){var e=this.model.get("params");e.flex_grow?jQuery(this.$el).closest(".fusion-builder-live-element").css("flex-grow",e.flex_grow):jQuery(this.$el).closest(".fusion-builder-live-element").css("flex-grow","")},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.values=e.values,t.attr=this.buildAttr(e.values),t.borderParts=this.buildBorderPartsAttr(e.values),t.iconWrapperAttr=this.buildIconWrapperAttr(e.values),t.iconAttr=this.buildIconAttr(e.values),t},validateValues:function(e){e.border_size=_.fusionValidateAttrValue(e.border_size,"px"),e.width=_.fusionValidateAttrValue(e.width,"px"),e.top_margin=_.fusionValidateAttrValue(e.top_margin,"px"),e.bottom_margin=_.fusionValidateAttrValue(e.bottom_margin,"px"),"0"===e.icon_circle&&(e.icon_circle="no"),""!==e.style?e.style_type=e.style:"default"===e.style_type&&(e.style_type=fusionAllElements.fusion_separator.defaults.style_type),e.style_type=e.style_type.replace(/ /g,"|"),""!==e.bottom&&(e.bottom_margin=_.fusionValidateAttrValue(e.bottom,"px")),""!==e.color&&(e.sep_color=e.color),""===e.icon_color&&(e.icon_color=e.sep_color),""!==e.top&&(e.top_margin=_.fusionValidateAttrValue(e.top,"px"),""===e.bottom&&"none"!==e.style&&(e.bottom_margin=_.fusionValidateAttrValue(e.top,"px")))},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-separator "+e.class,style:"","aria-hidden":"true"});return t.class+=_.fusionGetStickyClass(e.sticky_display),""!==e.icon&&"none"!==e.style_type&&(t.class+=" fusion-has-icon"),"center"===e.alignment?t.style+="margin-left: auto;margin-right: auto;":(t.style+="float:"+e.alignment+";",t.class+=" fusion-clearfix"),e.flex_grow&&(t.style+="flex-grow:"+e.flex_grow+";"),""!==e.top_margin&&(t.style+="margin-top:"+e.top_margin+";"),""!==e.bottom_margin&&(t.style+="margin-bottom:"+e.bottom_margin+";"),""!==e.width&&(t.style+="width:100%;max-width:"+e.width+";"),t.id=e.id,t},buildBorderPartsAttr:function(e){var t,i,o={class:"fusion-separator-border",style:""};return""!==e.width&&"100%"!==e.width||(o.class+=" fusion-full-width-sep"),t=e.style_type.split("|"),-1===jQuery.inArray("none",t)&&-1===jQuery.inArray("single",t)&&-1===jQuery.inArray("double",t)&&-1===jQuery.inArray("shadow",t)&&t.push("single"),jQuery.each(t,function(e,t){o.class+=" sep-"+t}),e.sep_color&&("shadow"===e.style_type?(i="background:radial-gradient(ellipse at 50% -50% , "+e.sep_color+" 0px, rgba(255, 255, 255, 0) 80%) repeat scroll 0 0 rgba(0, 0, 0, 0);",o.style=i,o.style+=i.replace("radial-gradient","-webkit-radial-gradient"),o.style+=i.replace("radial-gradient","-moz-radial-gradient"),o.style+=i.replace("radial-gradient","-o-radial-gradient")):"none"!==e.style_type&&(o.style="border-color:"+e.sep_color+";")),-1!==jQuery.inArray("single",t)&&(o.style+="border-top-width:"+e.border_size+";"),-1!==jQuery.inArray("double",t)&&(o.style+="border-top-width:"+e.border_size+";border-bottom-width:"+e.border_size+";"),o},buildIconWrapperAttr:function(e){var t,i,o=e.style_type.split("|"),n={class:"icon-wrapper"};return t="no"===e.icon_circle?"transparent":e.sep_color,n.style="border-color:"+t+";",e.icon_circle_color&&"no"!==e.icon_circle&&(n.style+="background-color:"+e.icon_circle_color+";"),e.icon_size&&(n.style+="font-size:"+e.icon_size+"px;",n.style+="width: 1.75em;",n.style+="height: 1.75em;"),e.border_size&&(n.style+="border-width:"+e.border_size+";",n.style+="padding:"+e.border_size+";"),-1!==jQuery.inArray("single",o)&&(i=parseInt(e.border_size,10)/2,n.style+="margin-top:-"+i+"px;"),n},buildIconAttr:function(e){var t={class:_.fusionFontAwesome(e.icon),style:"font-size:inherit;"};return""!==e.icon_color&&(t.style+="color:"+e.icon_color+";"),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_title=FusionPageBuilder.ElementView.extend({onInit:function(){var e=this.model.get("params");"object"==typeof e&&(void 0===e.margin_top_small&&"string"==typeof e.margin_top_mobile&&(e.margin_top_small=e.margin_top_mobile),void 0===e.margin_bottom_small&&"string"==typeof e.margin_bottom_mobile&&(e.margin_bottom_small=e.margin_bottom_mobile),this.model.set("params",e))},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.headingAttr=this.buildHeadingAttr(e.values),t.animatedAttr=this.buildAnimatedAttr(e.values),t.rotatedAttr=this.buildRotatedAttr(e.values),t.separatorAttr=this.builderSeparatorAttr(e.values),t.style=this.buildStyleBlock(e.values,e.extras),t.cid=this.model.get("cid"),t.output="string"==typeof e.values.element_content?e.values.element_content:"",t.style_type=e.values.style_type,t.size=e.values.size,t.content_align=e.values.content_align,t.title_type=e.values.title_type,t.before_text=e.values.before_text,t.highlight_text=e.values.highlight_text,t.after_text=e.values.after_text,t.rotation_text=e.values.rotation_text,t.title_tag="div"===e.values.size?"div":"h"+e.values.size,t.isFlex=this.flexDisplay(),t.content_align_sizes={large:e.values.content_align,medium:e.values.content_align_medium||e.values.content_align,small:e.values.content_align_small||e.values.content_align},t},validateValues:function(e){e.margin_top=_.fusionValidateAttrValue(e.margin_top,"px"),e.margin_bottom=_.fusionValidateAttrValue(e.margin_bottom,"px"),e.margin_top_mobile=_.fusionValidateAttrValue(e.margin_top_mobile,"px"),e.margin_bottom_mobile=_.fusionValidateAttrValue(e.margin_bottom_mobile,"px"),"rotating"===e.title_type&&""!==e.rotation_text?e.rotation_text=e.rotation_text.split("|"):e.rotation_text=[],"text"!==e.title_type&&(e.style_type="none"),"default"===e.style_type&&(e.style_type=fusionAllElements.fusion_title.defaults.style_type),1===e.style_type.split(" ").length&&(e.style_type+=" solid"),"string"==typeof e.element_content&&(e.element_content=e.element_content.trim(),e.element_content=e.element_content.replace(/(<p[^>]+?>|<p>|<\/p>)/gim,"")),void 0!==e.font_size&&""!==e.font_size&&(e.font_size=_.fusionGetValueWithUnit(e.font_size)),void 0!==e.letter_spacing&&""!==e.letter_spacing&&(e.letter_spacing=_.fusionGetValueWithUnit(e.letter_spacing)),"yes"===e.text_shadow&&(e.text_shadow=_.fusionGetTextShadowStyle(e).trim())},buildStyleBlock:function(e,t){var i='<style type="text/css">';return"highlight"===e.title_type&&""!==e.highlight_color&&(i+=".fusion-title.fusion-title-cid"+this.model.get("cid")+" svg path{stroke:"+e.highlight_color+"!important}"),"highlight"===e.title_type&&""!==e.highlight_top_margin&&["underline","double_underline","underline_zigzag","underline_zigzag","curly"].includes(e.highlight_effect)&&(i+=".fusion-title.fusion-title-cid"+this.model.get("cid")+" svg{margin-top:"+e.highlight_top_margin+"px!important}"),"highlight"===e.title_type&&""!==e.highlight_width&&(i+=".fusion-title.fusion-title-cid"+this.model.get("cid")+" svg path{stroke-width:"+e.highlight_width+"!important}"),"rotating"!==e.title_type||""===e.text_color||"clipIn"!==e.rotation_effect&&"typeIn"!==e.rotation_effect||(i+=".fusion-title.fusion-title-cid"+this.model.get("cid")+" .fusion-animated-texts-wrapper::before{background-color:"+e.text_color+"!important}"),""===e.margin_top_mobile&&""===e.margin_bottom_mobile||"0px"===e.margin_top_mobile&&"20px"===e.margin_bottom_mobile||"0px"!==e.margin_top_small||"20px"!==e.margin_bottom_small||(i+="@media only screen and (max-width:"+t.content_break_point+"px) {",i+=".fusion-body .fusion-title.fusion-title-cid"+this.model.get("cid")+"{margin-top:"+e.margin_top_mobile+"!important;margin-bottom:"+e.margin_bottom_mobile+"!important;}",i+="}"),""!==e.margin_top_medium||""!==e.margin_bottom_medium?(i+="@media only screen and (max-width:"+t.visibility_medium+"px) {",i+=".fusion-body .fusion-title.fusion-title-cid"+this.model.get("cid")+"{margin-top:"+e.margin_top_medium+"!important;margin-bottom:"+e.margin_bottom_medium+"!important;}",i+="}"):""===e.margin_top&&""===e.margin_bottom||(i+="@media only screen and (max-width:"+t.visibility_medium+"px) {",i+=".fusion-body .fusion-title.fusion-title-cid"+this.model.get("cid")+"{margin-top:"+e.margin_top+"!important;margin-bottom:"+e.margin_bottom+"!important;}",i+="}"),""===e.margin_top_small&&""===e.margin_bottom_small||(i+="@media only screen and (max-width:"+t.visibility_small+"px) {",i+=".fusion-body .fusion-title.fusion-title-cid"+this.model.get("cid")+"{margin-top:"+e.margin_top_small+"!important;margin-bottom:"+e.margin_bottom_small+"!important;}",i+="}"),i+="</style>"},buildAttr:function(e){var t,i="two",o=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-title title fusion-title-cid"+this.model.get("cid"),style:""});return o.class+=_.fusionGetStickyClass(e.sticky_display),-1!==e.style_type.indexOf("underline")?(t=e.style_type.split(" "),_.each(t,function(e){o.class+=" sep-"+e}),e.sep_color&&(o.style="border-bottom-color:"+e.sep_color+";")):-1===e.style_type.indexOf("none")&&"text"===e.title_type||(o.class+=" fusion-sep-none"),"center"===e.content_align&&(o.class+=" fusion-title-center"),""!==e.title_type&&(o.class+=" fusion-title-"+e.title_type),"text"!==e.title_type&&""!==e.loop_animation&&(o.class+=" fusion-loop-"+e.loop_animation),""!==e.rotation_effect&&(o.class+=" fusion-title-"+e.rotation_effect),"highlight"===e.title_type&&""!==e.highlight_effect&&(o["data-highlight"]=e.highlight_effect,o.class+=" fusion-highlight-"+e.highlight_effect),"1"==e.size?i="one":"2"==e.size?i="two":"3"==e.size?i="three":"4"==e.size?i="four":"5"==e.size?i="five":"6"==e.size&&(i="six"),o.class+=" fusion-title-size-"+i,void 0!==e.font_size&&""!==e.font_size&&(o.style+="font-size:"+e.font_size+";"),"no"!==e.text_shadow&&(o.style+="text-shadow:"+e.text_shadow+";"),""!==e.margin_top&&(o.style+="margin-top:"+e.margin_top+";"),""!==e.margin_bottom&&(o.style+="margin-bottom:"+e.margin_bottom+";"),""===e.margin_top&&""===e.margin_bottom&&(o.style+=" margin-top:0px; margin-bottom:0px",o.class+=" fusion-title-default-margin"),o=_.fusionAnimations(e,o),""!==e.class&&(o.class+=" "+e.class),""!==e.id&&(o.id=e.id),o},buildHeadingAttr:function(e){var t={class:"title-heading-"+e.content_align,style:""};return"div"===e.size&&(t.class+=" title-heading-tag"),t.style+=_.fusionGetFontStyle("title_font",e),this.flexDisplay()&&(e.content_align_medium&&e.content_align!==e.content_align_medium&&(t.class+=" md-text-align-"+e.content_align_medium),e.content_align_small&&e.content_align!==e.content_align_small&&(t.class+=" sm-text-align-"+e.content_align_small)),""===e.margin_top&&""===e.margin_bottom||(t.style+="margin:0;"),""!==e.font_size&&(t.style+="font-size:1em;"),void 0!==e.line_height&&""!==e.line_height&&(t.style+="line-height:"+e.line_height+";"),void 0!==e.letter_spacing&&""!==e.letter_spacing&&(t.style+="letter-spacing:"+e.letter_spacing+";"),void 0!==e.text_color&&""!==e.text_color&&(t.style+="color:"+e.text_color+";"),""!==e.style_tag&&(t.style+=e.style_tag),"text"===e.title_type&&(t=_.fusionInlineEditor({cid:this.model.get("cid"),overrides:{color:"text_color","font-size":"font_size","line-height":"line_height","letter-spacing":"letter_spacing",tag:"size"}},t)),t},buildAnimatedAttr:function(e){var t={class:"fusion-animated-texts-wrapper",style:""};return""!==e.animated_text_color&&(t.style+="color:"+e.animated_text_color+";"),e.animated_font_size&&(t.style+="font-size:"+e.animated_font_size+";"),"highlight"===e.title_type&&(t.class="fusion-highlighted-text"),"rotating"===e.title_type&&(t["data-length"]=this.getAnimationLength(e.rotation_effect),""!==e.display_time&&(t["data-minDisplayTime"]=e.display_time),(""!==e.after_text||""===e.before_text&&""===e.after_text)&&(t.style+="text-align: center;")),t},getAnimationLength:function(e){var t="";switch(e){case"flipInX":case"bounceIn":case"zoomIn":case"slideInDown":case"clipIn":t="line";break;case"lightSpeedIn":t="word";break;case"rollIn":case"typeIn":case"fadeIn":t="char"}return t},buildRotatedAttr:function(e){var t=e.rotation_effect,i={class:"fusion-animated-text",style:""};return i["data-in-effect"]=t,i["data-in-sequence"]="true",i["data-out-reverse"]="true",t=(t=t.replace("In","Out")).replace("Down","Up"),i["data-out-effect"]=t,i},builderSeparatorAttr:function(e){var t={class:"title-sep"},i=e.style_type.split(" ");return _.each(i,function(e){t.class+=" sep-"+e}),e.sep_color&&(t.style="border-color:"+e.sep_color+";"),t},onCancel:function(){this.resetTypography()},afterPatch:function(){this.resetTypography(),this.refreshJs()},refreshJs:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-fusion_title",this.model.attributes.cid)},resetTypography:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-typography-reset",this.model.get("cid")),800>jQuery("#fb-preview").width()&&setTimeout(function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("resize")},50)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_testimonials=FusionPageBuilder.ParentElementView.extend({afterPatch:function(){this.generateChildElements(),this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.styles=this.buildStyles(e.values),t.attr=this.buildAttr(e.values),t.paginationAttr=this.buildPaginationAttr(e.values),t.navigation=e.values.navigation,t},validateValues:function(e){e.random="yes"===e.random||"1"===e.random?1:0,"clean"===e.design&&""===e.navigation?e.navigation="yes":"classic"===e.design&&""===e.navigation&&(e.navigation="no")},buildStyles:function(e){var t="",i=this.model.get("cid");return t+="#fusion-testimonials-cid"+i+" a{border-color:"+e.textcolor+";}",t+="#fusion-testimonials-cid"+i+" a:hover, #fusion-testimonials-cid"+i+" .activeSlide{background-color: "+e.textcolor+";}",t+=".fusion-testimonials."+e.design+".fusion-testimonials-cid"+i+" .author:after{border-top-color:"+e.backgroundcolor+" !important;}"},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-testimonials "+e.design+" fusion-testimonials-cid"+this.model.get("cid")+" "+e.class});return t["data-random"]=e.random,t["data-speed"]=e.speed,t.id=e.id,t},buildPaginationAttr:function(){return{class:"testimonial-pagination",id:"fusion-testimonials-cid"+this.model.get("cid")}}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_testimonial=FusionPageBuilder.ChildElementView.extend({onRender:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors))},afterPatch:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),this.buildReviewAttr(e.values),t.values=e.values,t.parentValues=e.parentValues,t.imageAttr=this.buildImageAttr(e.values),t.thumbnailAttr=this.buildThumbnailAttr(e),t.blockquoteAttr=this.buildBlockquoteAttr(e),t.quoteAttr=this.buildQuoteAttr(e),t.authorAttr=this.buildAuthorAttr(e),t.cid=this.model.get("cid"),t.parent=this.model.get("parent"),t.content=e.values.element_content,t},validateValues:function(e){"round"===e.image_border_radius?e.image_border_radius="50%":e.image_border_radius=_.fusionValidateAttrValue(e.image_border_radius,"px"),void 0!==e.gender&&""!==e.gender&&(e.avatar=e.gender),"image"!==e.avatar||e.image||(e.avatar="none")},buildReviewAttr:function(e){var t={class:"review "};"none"===e.avatar?t.class+="no-avatar":"image"===e.avatar?t.class+="avatar-image":t.class+=e.avatar,this.model.set("selectors",t)},buildImageAttr:function(e){var t={class:"testimonial-image",src:e.image,alt:""};return"image"===e.avatar&&(t.style="-webkit-border-radius: "+e.image_border_radius+";-moz-border-radius: "+e.image_border_radius+";border-radius: "+e.image_border_radius+";"),t},buildThumbnailAttr:function(e){var t=e.values,i=e.parentValues,o={class:"testimonial-thumbnail"};return"image"!==t.avatar&&(o.class+=" doe",o.style="color:"+i.textcolor+";"),o},buildBlockquoteAttr:function(e){var t=e.parentValues,i={style:"background-color:"+t.backgroundcolor+";"};return"clean"!==t.design||"transparent"!==t.backgroundcolor&&0!==jQuery.Color(t.backgroundcolor).alpha()||(i.style+="margin: -25px;"),i},buildQuoteAttr:function(e){var t=e.parentValues;return{style:"background-color:"+t.backgroundcolor+";color:"+t.textcolor+";"}},buildAuthorAttr:function(e){return{class:"author",style:"color:"+e.parentValues.textcolor+";"}}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tooltip=FusionPageBuilder.ElementView.extend({afterPatch:function(){this._refreshJs()},filterTemplateAtts:function(e){var t={};return t.attr=this.buildAttr(e.values),t.cid=this.model.get("cid"),t.content=e.values.element_content,t},buildAttr:function(e){var t={class:"fusion-tooltip tooltip-shortcode "+e.class};return t.id=e.id,t["data-animation"]=e.animation,t["data-delay"]=e.delay,t["data-placement"]=e.placement,t.title=e.title,t["data-title"]=e.title,t["data-toggle"]="tooltip",t["data-trigger"]=e.trigger,t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_sharing=FusionPageBuilder.ElementView.extend({beforePatch:function(){jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el).find('.fusion-social-networks [data-toggle="tooltip"]').tooltip("destroy")},afterPatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el).find('.fusion-social-networks [data-toggle="tooltip"]');setTimeout(function(){e.tooltip({container:"body"})},150)},filterTemplateAtts:function(e){var t={};return this.validateValuesExtras(e.values,e.extras),this.values=e.values,t.cid=this.model.get("cid"),this.counter=this.model.get("cid"),t.shortcodeAttr=this.buildShortcodeAttr(e.values),t.socialNetworksAttr=this.buildSocialNetworksAttr(e.values),t.taglineAttr=this.buildTaglineAttr(e.values),t.icons=this.buildIcons(e.values),t.tagline=e.values.tagline,t.taglineVisibility=e.values.tagline_visibility,t.styles=this.buildStyleBlock(),t},buildStyleBlock:function(){var e,t,i,o,n;return this.baseSelector=".sharingbox-shortcode-icon-wrapper-"+this.counter,this.wrapper_selector=".fusion-sharing-box-"+this.counter,this.selectors=[this.baseSelector,this.wrapper_selector],this.dynamic_css={},"hide"===this.values.tagline_visibility&&(this.values.layout="floated",this.values.layout_medium="floated",this.values.layout_small="floated"),this.values.layout_medium||(this.values.layout_medium=this.values.layout),this.values.layout_small||(this.values.layout_small=this.values.layout),this.values.icon_taglines&&("before"===this.values.tagline_placement?this.addCssProperty(this.wrapper_selector+" .fusion-social-network-icon-tagline","margin-right","0.5em",!0):this.addCssProperty(this.wrapper_selector+" .fusion-social-network-icon-tagline","margin-left","0.5em",!0),this.addCssProperty(this.baseSelector+" span a","align-items","center",!0),this.addCssProperty(this.baseSelector+" span a","display","flex",!0)),this.values.stacked_align_medium||(this.values.stacked_align_medium=this.values.stacked_align),this.values.stacked_align_small||(this.values.stacked_align_small=this.values.stacked_align),this.values.alignment_medium||(this.values.alignment_medium=this.values.alignment),this.values.alignment_small||(this.values.alignment_small=this.values.alignment),this.isDefault("alignment")||this.addCssProperty([this.baseSelector],"justify-content",this.values.alignment,!0),e=[this.wrapper_selector],"floated"===this.values.layout?this.addCssProperty([this.wrapper_selector+" h4"],"margin-bottom","0",!0):(this.addCssProperty(e,"align-items",this.values.stacked_align,!0),this.addCssProperty(e,"justify-content","space-around",!0),this.addCssProperty([this.baseSelector],"width","100%",!0)),t="stacked"===this.values.layout?" column":"row",this.addCssProperty(e,"flex-direction",t,!0),this.isDefault("border_color")||this.addCssProperty(e,"border-color",this.values.border_color,!0),this.isDefault("wrapper_padding_top")||this.addCssProperty(e,"padding-top",this.values.wrapper_padding_top,!0),this.isDefault("wrapper_padding_bottom")||this.addCssProperty(e,"padding-bottom",this.values.wrapper_padding_bottom,!0),this.isDefault("wrapper_padding_left")||this.addCssProperty(e,"padding-left",this.values.wrapper_padding_left,!0),this.isDefault("wrapper_padding_right")||this.addCssProperty(e,"padding-right",this.values.wrapper_padding_right,!0),this.isDefault("border_bottom")||this.addCssProperty(e,"border-bottom-width",this.values.border_bottom,!0),this.isDefault("border_top")||this.addCssProperty(e,"border-top-width",this.values.border_top,!0),this.isDefault("border_left")||this.addCssProperty(e,"border-left-width",this.values.border_left,!0),this.isDefault("border_right")||this.addCssProperty(e,"border-right-width",this.values.border_right,!0),e=[this.baseSelector+" span:not(.sharingbox-shortcode-icon-separator)"],this.isDefault("padding_top")||this.addCssProperty(e,"padding-top",this.values.padding_top,!0),this.isDefault("padding_bottom")||this.addCssProperty(e,"padding-bottom",this.values.padding_bottom,!0),this.isDefault("padding_left")||this.addCssProperty(e,"padding-left",this.values.padding_left,!0),this.isDefault("padding_right")||this.addCssProperty(e,"padding-right",this.values.padding_right,!0),this.isDefault("icon_tagline_color")||this.addCssProperty(this.baseSelector+" a","color",this.values.icon_tagline_color,!0),this.isDefault("icon_tagline_color_hover")||this.addCssProperty(this.baseSelector+" a:hover","color",this.values.icon_tagline_color_hover,!0),this.isDefault("tagline_text_size")||this.addCssProperty(this.baseSelector+" a","font-size",this.values.tagline_text_size,!0),this.isDefault("icon_size")||this.addCssProperty(this.baseSelector+" a i","font-size",this.values.icon_size,!0),e=[this.baseSelector+" span.sharingbox-shortcode-icon-separator"],this.isDefault("separator_border_color")||this.addCssProperty(e,"border-color",this.values.separator_border_color,!0),this.isDefault("separator_border_sizes")||(this.values.separator_border_sizes=this.values.separator_border_sizes+"px",this.addCssProperty(e,"border-right-width",this.values.separator_border_sizes,!0)),i=this.parseCSS(),this.dynamic_css={},o="stacked"===this.values.layout_medium?" column":"row",e=[this.wrapper_selector],this.addCssProperty(e,"flex-direction",o,!0),"floated"!==this.values.layout_medium?(this.addCssProperty([this.wrapper_selector+" h4"],"margin-bottom","revert",!0),this.addCssProperty([this.baseSelector],"width","100%",!0)):(this.addCssProperty([this.baseSelector],"width","auto",!0),this.addCssProperty(e,"align-items","center",!0),this.addCssProperty([this.wrapper_selector+" h4"],"margin-bottom","0",!0),this.addCssProperty(this.wrapper_selector+" h4","margin-right","0.5em",!0)),this.values.alignment_medium&&(this.addCssProperty([this.baseSelector],"justify-content",this.values.alignment_medium,!0),"floated"!==this.values.layout_medium&&this.addCssProperty(e,"align-items",this.values.stacked_align_medium,!0)),i+="@media only screen and (max-width:"+FusionApp.settings.visibility_medium+"px){"+this.parseCSS()+" }",n="stacked"===this.values.layout_small?" column":"row",this.dynamic_css={},this.addCssProperty(e,"flex-direction",n,!0),"floated"!==this.values.layout_small?(this.addCssProperty([this.wrapper_selector+" h4"],"margin-bottom","revert",!0),this.addCssProperty([this.baseSelector],"width","100%",!0)):(this.addCssProperty([this.wrapper_selector+" h4"],"margin-bottom","0",!0),this.addCssProperty(e,"align-items","center",!0),this.addCssProperty([this.baseSelector],"width","auto",!0),this.addCssProperty(this.wrapper_selector+" h4","margin-right","0.5em",!0)),this.values.alignment_small&&(this.addCssProperty(this.baseSelector,"justify-content",this.values.alignment_small,!0),"floated"!==this.values.layout_small&&this.addCssProperty(e,"align-items",this.values.stacked_align_small,!0)),(i+="@media only screen and (max-width:"+FusionApp.settings.visibility_small+"px){"+this.parseCSS()+" }")?'<style type="text/css">'+i+"</style>":""},validateValuesExtras:function(e,t){t.linktarget=t.linktarget?"_blank":"_self",e.icons_boxed_radius=_.fusionValidateAttrValue(e.icons_boxed_radius,"px")},buildShortcodeAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-sharing-box fusion-sharing-box-"+this.model.get("cid"),style:""});return t.class+=_.fusionGetStickyClass(e.sticky_display),"yes"===e.icons_boxed&&(t.class+=" boxed-icons"),""!==e.backgroundcolor&&(t.style="background-color:"+e.backgroundcolor+";","transparent"!==e.backgroundcolor&&0!==jQuery.Color(e.backgroundcolor).alpha()||(t.style+="padding:0;")),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.class+=" "+e.id),""!==e.margin_top&&(t.style+="margin-top: "+e.margin_top+";"),""!==e.margin_bottom&&(t.style+="margin-bottom: "+e.margin_bottom+";"),""!==e.margin_left&&(t.style+="margin-left: "+e.margin_left+";"),""!==e.margin_right&&(t.style+="margin-right: "+e.margin_right+";"),t["data-title"]=e.title,t["data-description"]=e.description,t["data-link"]=e.link,t["data-image"]=e.pinterest_image,t},buildSocialNetworksAttr:function(e){var t={class:"fusion-social-networks sharingbox-shortcode-icon-wrapper sharingbox-shortcode-icon-wrapper-"+this.model.get("cid")};return"yes"===e.icons_boxed&&(t.class+=" boxed-icons"),""!==e.alignment&&(t.style="text-align: "+e.alignment+";"),t},buildTaglineAttr:function(e){var t={class:"tagline"};return""!==e.tagline_color&&(t.style="color:"+e.tagline_color+";"),t=_.fusionInlineEditor({param:"tagline",cid:this.model.get("cid"),toolbar:!1},t)},buildIconAttr:function(e){var t={class:"tagline"};return""!==e.tagline_color&&(t.style="color:"+e.tagline_color+";"),t},buildIcons:function(e){var t,i,o,n,s,a,r,l,u,d,c,h,m,p,f,g,b,v="",y=e.icon_colors,w=e.box_colors,x=e.icon_taglines,P=!1;for("brand"===e.color_type&&(P=!0,(p=_.fusionSocialIcons(!1,!0)).mail={label:"Email Address",color:"#000000"}),y=y.split("|"),w=w.split("|"),x=x.split("|"),t=y.length,i=w.length,b=x.length,"string"==typeof(o=e.social_share_links)&&(o=o.split(",")),n=o.length,s=0;s<n;s++){switch(f=o[s],!0===P?m={social_network:f,icon_color:"yes"===e.icons_boxed?"#ffffff":p[f].color,box_color:"yes"===e.icons_boxed?p[f].color:""}:(m={social_network:f,icon_color:s<y.length?y[s]:"",box_color:s<w.length?w[s]:""},1===t&&(m.icon_color=y[0]),1===i&&(m.box_color=w[0])),m.icon_tagline=1===b?x[0]:s<x.length?x[s]:"",m.social_network="email"===m.social_network?"mail":m.social_network,a=e.description,r=e.link,l=e.title,u=_.fusionRawUrlEncode(e.pinterest_image),c={class:"fusion-social-network-icon fusion-tooltip fusion-"+m.social_network+" fusion-icon-"+m.social_network},h={},d="",m.social_network){case"facebook":d="https://m.facebook.com/sharer.php?u="+r,cssua.ua.mobile&&(d="http://www.facebook.com/sharer.php?m2w&s=100&p&#91;url&#93;="+r+"&p&#91;images&#93;&#91;title&#93;="+_.fusionRawUrlEncode(l));break;case"twitter":d="https://twitter.com/share?text="+_.fusionRawUrlEncode(l)+"&url="+_.fusionRawUrlEncode(r);break;case"linkedin":d="https://www.linkedin.com/shareArticle?mini=true&url="+_.fusionRawUrlEncode(r)+"&amp;title="+_.fusionRawUrlEncode(l)+"&amp;summary="+_.fusionRawUrlEncode(a);break;case"reddit":d="http://reddit.com/submit?url="+r+"&amp;title="+l;break;case"tumblr":d="http://www.tumblr.com/share/link?url="+_.fusionRawUrlEncode(r)+"&amp;name="+_.fusionRawUrlEncode(l)+"&amp;description="+_.fusionRawUrlEncode(a);break;case"pinterest":d="http://pinterest.com/pin/create/button/?url="+_.fusionRawUrlEncode(r)+"&amp;description="+_.fusionRawUrlEncode(a)+"&amp;media="+u;break;case"vk":d="http://vkontakte.ru/share.php?url="+_.fusionRawUrlEncode(r)+"&amp;title="+_.fusionRawUrlEncode(l)+"&amp;description="+_.fusionRawUrlEncode(a);break;case"mail":d="mailto:?subject="+_.fusionRawUrlEncode(l)+"&body="+_.fusionRawUrlEncode(r)}h.href=d,h.target=e.linktarget&&"mail"!==m.social_network?"_blank":"_self","_blank"===c.target&&(h.rel="noopener noreferrer"),c.style=m.icon_color?"color:"+m.icon_color+";":"",e.icons_boxed&&"yes"===e.icons_boxed&&m.box_color&&(c.style+="background-color:"+m.box_color+";border-color:"+m.box_color+";"),("yes"===e.icons_boxed&&e.icons_boxed_radius||"0"===e.icons_boxed_radius)&&("round"===e.icons_boxed_radius&&(e.icons_boxed_radius="50%"),c.style+="border-radius:"+e.icons_boxed_radius+";"),h["data-placement"]=e.tooltip_placement,g=m.social_network,h["data-title"]=_.fusionUcFirst(g),h.title=_.fusionUcFirst(g),h["aria-label"]=_.fusionUcFirst(g),"none"!==e.tooltip_placement&&(h["data-toggle"]="tooltip"),v+="<span><a "+_.fusionGetAttributes(h)+">",v+="before"===e.tagline_placement&&""!==m.icon_tagline?'<div class="fusion-social-network-icon-tagline">'+m.icon_tagline+"</div>":"",v+="<i  "+_.fusionGetAttributes(c)+' aria-hidden="true"></i>',v+="after"===e.tagline_placement&&""!==m.icon_tagline?'<div class="fusion-social-network-icon-tagline">'+m.icon_tagline+"</div>":"",v+="</a></span>",0<e.separator_border_sizes&&s<o.length-1&&(v+='<span class="sharingbox-shortcode-icon-separator"></span>')}return v}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_section_separator=FusionPageBuilder.ElementView.extend({bgImageSeparators:["grunge","music","waves_brush","paper","squares","circles","paint","grass"],onRender:function(){this.afterPatch()},afterPatch:function(){},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),this.extras=e.extras,t.attr=this.buildAtts(e.values),t.attrSvgWrapper=this.buildSvgWrapperAtts(e.values),t.attrSpacer=this.buildSpacerAtts(e.values),t.attrSpacerHeight=this.buildSpacerHeightAtts(e.values),t.attrCandyArrow=this.buildCandyArrowAtts(e.values),t.attrCandy=this.buildCandyAtts(e.values),t.attrSVG=this.buildSVGAtts(e.values),t.attrSVGBGImage=this.buildSVGBGImageAtts(e.values),t.attrButton=this.buildButtonAtts(e.values),t.attrRoundedSplit=this.buildRoundedSplitAtts(e.values),t.values=e.values,t},validateValues:function(e){isNaN(e.bordersize)||(e.bordersize=_.fusionGetValueWithUnit(e.bordersize)),e.borderSizeWithoutUnits=parseInt(e.bordersize.match(/\d+/),10),"horizon"===e.divider_type?e.yMin="top"===e.divider_candy?"-0.5":"0":"hills_opacity"===e.divider_type?e.yMin="top"===e.divider_candy?"-0.5":"0":"waves"===e.divider_type?e.yMin="top"===e.divider_candy?"54":"1":"waves_opacity"===e.divider_type&&(e.yMin="top"===e.divider_candy?"0":"1")},buildAtts:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-section-separator section-separator "+e.divider_type+" fusion-section-separator-"+this.model.get("cid"),style:""});return""!==e.margin_top&&(t.style+="margin-top:"+_.fusionGetValueWithUnit(e.margin_top)+";"),""!==e.margin_right&&(t.style+="margin-right:"+_.fusionGetValueWithUnit(e.margin_right)+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+_.fusionGetValueWithUnit(e.margin_bottom)+";"),""!==e.margin_left&&(t.style+="margin-left:"+_.fusionGetValueWithUnit(e.margin_left)+";"),"rounded-split"===e.divider_type&&(t.class+=" rounded-split-separator"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildSvgWrapperAtts:function(e){var t,i={class:"fusion-section-separator-svg"},o=FusionPageBuilderApp.getParentContainer(this),n=void 0!==o.values?o.values:{},s=FusionPageBuilderApp.getParentColumn(this),a=void 0!==s.values?s.values:{},r=jQuery.extend(!0,{},fusionAllElements.fusion_section_separator.extras),l=this,u="",d="",c=jQuery(s.$el).width(),h=jQuery(s.$el).children(".fusion-column-wrapper").width(),m=[];return"triangle"===e.divider_type?""!==e.bordercolor&&("bottom"===e.divider_candy?i.style="border-bottom:"+e.bordersize+" solid "+e.bordercolor+";":"top"===e.divider_candy?i.style="border-top:"+e.bordersize+" solid "+e.bordercolor+";":-1!==e.divider_candy.indexOf("top")&&-1!==e.divider_candy.indexOf("bottom")&&(i.style="border:"+e.bordersize+" solid "+e.bordercolor+";")):"bigtriangle"===e.divider_type||"slant"===e.divider_type||"big-half-circle"===e.divider_type||"clouds"===e.divider_type||"curved"===e.divider_type?i.style="padding:0;":"horizon"!==e.divider_type&&"waves"!==e.divider_type&&"waves_opacity"!==e.divider_type&&"hills"!==e.divider_type&&"hills_opacity"!==e.divider_type||(i.style="font-size:0;line-height:0;"),e.additional_styles="",_.isObject(a)&&(FusionPageBuilderApp.$el.find("#main").hasClass("width-100")&&"1_1"===a.type&&("boxed"===r.layout&&_.isObject(n)?_.each(["large","medium","small"],function(t){"large"===t?(e.additional_styles+=".fusion-section-separator-"+l.model.get("cid")+" .fusion-section-separator-svg {",e.additional_styles+="position: relative;",e.additional_styles+="margin-left:-"+n.padding_left+";",e.additional_styles+="margin-right:-"+n.padding_right+";",e.additional_styles+="}"):(void 0!==n["padding_left_"+t]&&!_.isEmpty(n["padding_left_"+t])||void 0!==n["padding_right_"+t]&&!_.isEmpty(n["padding_right_"+t]))&&(e.additional_styles+="@media only screen and (max-width:"+r["visibility_"+t]+"px) {",e.additional_styles+=".fusion-section-separator-"+l.model.get("cid")+" .fusion-section-separator-svg {",e.additional_styles+="margin-left:-"+n["padding_left_"+t]+";",e.additional_styles+="margin-right:-"+n["padding_right_"+t]+";",e.additional_styles+="}",e.additional_styles+="}")}):i.class+=" fusion-section-separator-fullwidth"),FusionPageBuilderApp.$el.find("#main").hasClass("width-100")&&"boxed"===r.layout||("1_1"===a.type?void 0!==a.upsized_spacing_left&&void 0!==a.upsized_spacing_left_medium&&void 0!==a.upsized_spacing_left_small&&_.each(["large","medium","small"],function(t){"large"===t?_.isEmpty(a.upsized_spacing_left)||(e.additional_styles+=".fusion-section-separator-"+l.model.get("cid")+" .fusion-section-separator-svg {",e.additional_styles+="margin-left:-"+a.upsized_spacing_left+";",e.additional_styles+="margin-right:-"+a.upsized_spacing_right+";",e.additional_styles+="}"):_.isEmpty(a["upsized_spacing_left_"+t])||(e.additional_styles+="@media only screen and (max-width:"+r["visibility_"+t]+"px) {",e.additional_styles+=".fusion-section-separator-"+l.model.get("cid")+" .fusion-section-separator-svg {",e.additional_styles+="margin-left:-"+a["upsized_spacing_left_"+t]+" !important;",e.additional_styles+="margin-right:-"+a["upsized_spacing_right_"+t]+" !important;",e.additional_styles+="}",e.additional_styles+="}")}):_.each(["large","medium","small"],function(t){"large"===t?_.isEmpty(a.padding_left)||(-1!==(u=a.padding_left).indexOf("%")&&(u=parseFloat(u.replace("%",""))/(h/c)+"%"),-1!==(d=a.padding_right).indexOf("%")&&(d=parseFloat(d.replace("%",""))/(h/c)+"%"),e.additional_styles+=".fusion-section-separator-"+l.model.get("cid")+" .fusion-section-separator-svg {",e.additional_styles+="margin-left:-"+u+";",e.additional_styles+="margin-right:-"+d+";",e.additional_styles+="}"):_.isEmpty(a["padding_left_"+t])||(-1!==(u=a["padding_left_"+t]).indexOf("%")&&(u=parseFloat(u.replace("%",""))/(h/c)+"%"),-1!==(d=a["padding_right_"+t]).indexOf("%")&&(d=parseFloat(d.replace("%",""))/(h/c)+"%"),e.additional_styles+="@media only screen and (max-width:"+r["visibility_"+t]+"px) {",e.additional_styles+=".fusion-section-separator-"+l.model.get("cid")+" .fusion-section-separator-svg {",e.additional_styles+="margin-left:-"+u+" !important;",e.additional_styles+="margin-right:-"+d+" !important;",e.additional_styles+="}",e.additional_styles+="}")})),this.baseSelector=".fusion-section-separator.fusion-section-separator-"+this.model.get("cid"),_.each(["large","medium","small"],function(i){var o,n="divider_height"+("large"===i?"":"_"+i);"triangle"!==e.divider_type&&"rounded-split"!==e.divider_type&&(l.flexDisplay()||"large"===i)&&""!==e[n]&&(m[n]=e[n],l.dynamic_css={},o="large"===i?"":"@media only screen and (max-width:"+r["visibility_"+i]+"px)",t=[l.baseSelector+" .fusion-section-separator-svg svg",l.baseSelector+" .fusion-section-separator-svg-bg"],l.addCssProperty(t,"height",e[n]),t=[l.baseSelector+" .fusion-section-separator-spacer-height"],l.addCssProperty(t,"height",e[n]+" !important"),l.addCssProperty(t,"padding-top","inherit !important"),e.additional_styles+="large"===i?l.parseCSS():o+"{"+l.parseCSS()+"}")}),_.each(["large","medium","small"],function(i){var o,n,s,a="divider_repeat"+("large"===i?"":"_"+i),u="divider_height"+("large"===i?"":"_"+i);-1!==jQuery.inArray(e.divider_type,l.bgImageSeparators)&&(l.flexDisplay()||"large"===i)&&""!==e[a]&&(l.dynamic_css={},o="large"===i?"":"@media only screen and (max-width:"+r["visibility_"+i]+"px)",n=""!==e[u]?e[u]:l.getDividerHeightResponsive(u,m),n=""===e[u]&&1<e[a]?parseInt(n)/e[a]+"px":n,t=[l.baseSelector+" .fusion-section-separator-svg-bg"],_.contains(n,"%")?s=parseFloat(100/e[a])+"% 100%":(n=0<parseInt(n)?n:"100%",s=parseFloat(100/e[a])+"% "+n),l.addCssProperty(t,"background-size",s),e.additional_styles+="large"===i?l.parseCSS():o+"{"+l.parseCSS()+"}")})),i},buildSpacerAtts:function(e){var t={class:"fusion-section-separator-spacer"},i=FusionPageBuilderApp.getParentColumn(this),o=void 0!==i.values?i.values:{},n=jQuery.extend(!0,{},fusionAllElements.fusion_section_separator.extras);return FusionPageBuilderApp.$el.find("#main").hasClass("width-100")&&void 0!==o.type&&"1_1"===o.type&&("wide"===n.layout?t.class+=" fusion-section-separator-fullwidth":t.style="display: none;"),t},buildSpacerHeightAtts:function(e){var t,i={class:"fusion-section-separator-spacer-height"};return-1!==jQuery.inArray(e.divider_type,["slant","bigtriangle","curved","big-half-circle","clouds"])?i.style="height:99px;":"triangle"===e.divider_type?e.bordercolor&&("bottom"===e.divider_candy||"top"===e.divider_candy?i.style="height:"+e.bordersize+";":-1!==e.divider_candy.indexOf("top")&&-1!==e.divider_candy.indexOf("bottom")&&(i.style="height:calc( "+e.bordersize+" * 2 );")):"rounded-split"===e.divider_type?i.style="height:71px;":"hills_opacity"===e.divider_type?i.style="padding-top:17.7734375%;":"hills"===e.divider_type?i.style="padding-top:10.44921875%;":"horizon"===e.divider_type?i.style="padding-top:17.3828125%;":"waves_opacity"===e.divider_type?i.style="padding-top:21.09375%;":"waves"===e.divider_type?i.style="padding-top:15.8203125%;":-1!==jQuery.inArray(e.divider_type,this.bgImageSeparators)&&(t=""===e.divider_height&&1<e.divider_repeat?parseInt(this._getDefaultSepHeight()[e.divider_type])/e.divider_repeat+"px":this._getDefaultSepHeight()[e.divider_type],i.style="height:"+t+";"),i},buildCandyAtts:function(e){var t={class:"divider-candy"};return"bottom"===e.divider_candy?(t.class+=" bottom",t.style="bottom:-"+(e.borderSizeWithoutUnits+20)+"px;border-bottom:1px solid "+e.bordercolor+";border-left:1px solid "+e.bordercolor+";"):"top"===e.divider_candy?(t.class+=" top",t.style="top:-"+(e.borderSizeWithoutUnits+20)+"px;border-bottom:1px solid "+e.bordercolor+";border-left:1px solid "+e.bordercolor+";"):-1!==e.divider_candy.indexOf("top")&&-1!==e.divider_candy.indexOf("bottom")&&(t.class+=" both",t.style="background-color:"+e.backgroundcolor+";border:1px solid "+e.bordercolor+";"),-1!==e.divider_candy.indexOf("top")&&-1!==e.divider_candy.indexOf("bottom")&&(t.class+=" triangle"),t},buildCandyArrowAtts:function(e){var t={class:"divider-candy-arrow"},i=e.borderSizeWithoutUnits;return 1===i&&(i=0),"bottom"===e.divider_candy?(t.class+=" bottom",t.style="top:"+i+"px;border-top-color: "+e.backgroundcolor+";"):"top"===e.divider_candy&&(t.class+=" top",t.style="bottom:"+i+"px;border-bottom-color: "+e.backgroundcolor+";"),t},buildSVGAtts:function(e){var t={display:"block"};return"bigtriangle"!==e.divider_type&&"slant"!==e.divider_type&&"big-half-circle"!==e.divider_type&&"clouds"!==e.divider_type&&"curved"!==e.divider_type||(t.style="fill:"+e.backgroundcolor+";padding:0;"),"slant"===e.divider_type&&"bottom"===e.divider_candy&&(t.style="fill:"+e.backgroundcolor+";padding:0;margin-bottom:-3px;display:block"),"horizon"!==e.divider_type&&"hills"!==e.divider_type&&"hills_opacity"!==e.divider_type&&"waves"!==e.divider_type&&"waves_opacity"!==e.divider_type||(t.style="fill:"+e.backgroundcolor),t},buildButtonAtts:function(e){var t={};return""!==e.icon&&(t={class:"section-separator-icon icon "+_.fusionFontAwesome(e.icon),style:"color:"+e.icon_color+";"},e.icon_color||(e.icon_color=e.bordercolor),1<e.borderSizeWithoutUnits&&("bottom"===e.divider_candy?t.style+="bottom:-"+(e.borderSizeWithoutUnits+10)+"px;top:auto;":"top"===e.divider_candy&&(t.style+="top:-"+(e.borderSizeWithoutUnits+10)+"px;"))),t},buildRoundedSplitAtts:function(e){var t={};return"rounded-split"===e.divider_type&&(t={class:"rounded-split "+e.divider_candy,style:"background-color:"+e.backgroundcolor+";"}),t},buildSVGBGImageAtts:function(e){var t={class:"fusion-"+e.divider_type+"-candy-sep fusion-section-separator-svg-bg",style:""},i=this._getDefaultSepHeight()[e.divider_type]?this._getDefaultSepHeight()[e.divider_type]:"100px",o=[];return""===e.divider_height&&(1<e.divider_repeat&&(i=parseInt(i)/e.divider_repeat+"px"),t.style+="height:"+i+";"),"right"===e.divider_position?o.push("rotateY(180deg)"):o.push("rotateY(0)"),"bottom"===e.divider_candy?o.push("rotateX(180deg)"):o.push("rotateX(0)"),o.length&&(t.style+="transform: "+o.join(" ")+" ;"),t},_getDefaultSepHeight:function(){return{grunge:"43px",music:"297px",waves_brush:"124px",paper:"102px",circles:"164px",squares:"140px",paint:"80px",grass:"195px"}},getDividerHeightResponsive:function(e,t){var i=t.keys(),o=_.contains(i,e);return!1===o||0===o?"":i[o-1]}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_modal=FusionPageBuilder.ElementView.extend({onInit:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el);e.on("shown.bs.modal",function(){jQuery("body").addClass("fusion-builder-no-ui fusion-dialog-ui-active"),e.closest(".fusion-builder-column").css("z-index","auto"),e.closest("#main").css("z-index","auto"),e.closest(".fusion-row").css("z-index","auto"),e.closest(".fusion-builder-container").css("z-index","auto")}),e.on("hide.bs.modal",function(){jQuery("body").removeClass("fusion-builder-no-ui fusion-dialog-ui-active"),e.closest(".fusion-builder-column").css("z-index",""),e.closest("#main").css("z-index",""),e.closest(".fusion-row").css("z-index",""),e.closest(".fusion-builder-container").css("z-index","")})},onSettingsOpen:function(){var e=this,t=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-modal"));this.disableDroppableElement(),jQuery(this.$el).closest(".fusion-builder-live-element").css("cursor","default"),jQuery(this.$el).closest(".fusion-builder-column").css("z-index","auto"),jQuery(this.$el).closest(".fusion-row").css("z-index","auto"),jQuery(this.$el).closest(".fusion-builder-container").css("z-index","auto"),setTimeout(function(){jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").length&&(jQuery("#fb-preview")[0].contentWindow.jQuery("#main").css("z-index","auto"),"fixed"===jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").css("position")&&(jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").css("z-index","-1"),jQuery("#fb-preview")[0].contentWindow.jQuery("#sliders-container").find('.tfs-slider[data-parallax="1"]').length&&jQuery("#fb-preview")[0].contentWindow.jQuery("#sliders-container").css("z-index","auto")))},100),t.addClass("in").show(),t.find('button[data-dismiss="modal"], .fusion-button[data-dismiss="modal"]').one("click",function(){window.FusionEvents.trigger("fusion-close-settings-"+e.model.get("cid"))})},onSettingsClose:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-modal"));e.find('button[data-dismiss="modal"], .fusion-button[data-dismiss="modal"]').off("click"),this.enableDroppableElement(),jQuery(this.$el).closest(".fusion-builder-live-element").css("cursor",""),jQuery(this.$el).closest(".fusion-builder-column").css("z-index",""),jQuery(this.$el).closest(".fusion-row").css("z-index",""),jQuery(this.$el).closest(".fusion-builder-container").css("z-index",""),jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").length&&(jQuery("#fb-preview")[0].contentWindow.jQuery("#main").css("z-index",""),jQuery("#fb-preview")[0].contentWindow.jQuery(".fusion-footer-parallax").css("z-index",""),jQuery("#fb-preview")[0].contentWindow.jQuery("#sliders-container").css("z-index","")),e.removeClass("in").hide()},afterPatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-modal"));jQuery('.fusion-builder-module-settings[data-element-cid="'+this.model.get("cid")+'"]').length&&(e.addClass("in").show(),e.find(".full-video, .video-shortcode, .wooslider .slide-content").fitVids())},filterTemplateAtts:function(e){var t={};return t.attrModal=this.buildModalAttr(e.values),t.attrDialog=this.buildDialogAttr(e.values),t.attrContent=this.buildContentAttr(e.values),t.attrButton=this.buildButtonAttr(e.values),t.attrHeading=this.buildHeadingAttr(e.values),t.attrFooterButton=this.buildHFooterButtonAttr(e.values),t.attrBody=this.buildBodyAttr(e.values),t.borderColor=e.values.border_color,t.title=e.values.title,t.showFooter=e.values.show_footer,t.closeText=e.extras.close_text,t.elementContent=e.values.element_content,t.name=e.values.name,t.label=window.fusionAllElements[this.model.get("element_type")].name,t.icon=window.fusionAllElements[this.model.get("element_type")].icon,t.cid=this.model.get("cid"),t},buildModalAttr:function(e){var t={class:"fusion-modal modal fade modal-"+this.model.get("cid"),tabindex:"-1",role:"dialog",style:"z-index: 9999999; background: rgba(0,0,0,0.5);","aria-labelledby":"modal-heading-"+this.model.get("cid"),"aria-hidden":"true"};return""!==e.name&&(t.class+=" "+e.name),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildDialogAttr:function(e){var t={class:"modal-dialog"};return t.class+="small"===e.size?" modal-sm":" modal-lg",t},buildContentAttr:function(e){var t={class:"modal-content fusion-modal-content"};return""!==e.background&&(t.style="background-color:"+e.background),t},buildBodyAttr:function(){var e={class:"modal-body"};return e=_.fusionInlineEditor({cid:this.model.get("cid")},e)},buildButtonAttr:function(){return{class:"close",type:"button","data-dismiss":"modal","aria-hidden":"true"}},buildHeadingAttr:function(){var e={class:"modal-title",id:"modal-heading-"+this.model.get("cid"),"data-dismiss":"modal","aria-hidden":"true"};return e=_.fusionInlineEditor({cid:this.model.get("cid"),param:"title","disable-return":!0,"disable-extra-spaces":!0,toolbar:!1},e)},buildHFooterButtonAttr:function(){return{class:"fusion-button button-default button-medium button default medium","data-dismiss":"modal"}}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_code=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return t.content=e.params.element_content,t.label=window.fusionAllElements[this.model.get("element_type")].name,t.icon=window.fusionAllElements[this.model.get("element_type")].icon,t.cid=this.model.get("cid"),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_alert=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.buttonStyles=this.buildButtonStyles(e.values),t.contentAttr=this.buildContentAttr(e.values),t.contentStyles=this.buildContentStyles(e.values),t.cid=this.model.get("cid"),t.values=e.values,t},validateValues:function(e){switch(e.alert_class="info",e.margin_bottom=_.fusionValidateAttrValue(e.margin_bottom,"px"),e.margin_left=_.fusionValidateAttrValue(e.margin_left,"px"),e.margin_right=_.fusionValidateAttrValue(e.margin_right,"px"),e.margin_top=_.fusionValidateAttrValue(e.margin_top,"px"),e.type){case"general":e.alert_class="info",e.icon&&"none"===e.icon||(e.icon="fa-info-circle");break;case"error":e.alert_class="danger",e.icon&&"none"===e.icon||(e.icon="fa-exclamation-triangle");break;case"success":e.alert_class="success",e.icon&&"none"===e.icon||(e.icon="fa-check-circle");break;case"notice":e.alert_class="warning",e.icon&&"none"===e.icon||(e.icon="fa-lg fa-cog");break;case"blank":e.alert_class="blank";break;case"custom":e.alert_class="custom"}void 0!==e.element_content&&(e.element_content=e.element_content.trim(),e.element_content=e.element_content.replace(/(<p[^>]+?>|<p>|<\/p>)/gim,""))},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-alert alert fusion-live-alert fusion-alert-cid"+this.model.get("cid"),style:""}),i=e.alert_class;return t.class+=_.fusionGetStickyClass(e.sticky_display),"capitalize"===e.text_transform&&(i+=" fusion-alert-capitalize"),"yes"===e.dismissable&&(i+=" alert-dismissable"),t.class+=" alert-"+i,t.class+=" fusion-alert-"+e.text_align,t.class+=" "+e.type,"yes"===e.box_shadow&&(t.class+=" alert-shadow"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),""!==e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),t=_.fusionAnimations(e,t)},buildContentStyles:function(e){var t,i,o=e.alert_class,n={},s="",a=this.model.get("cid");return"custom"===o?(e.border_size=parseFloat(e.border_size)+"px",n.background_color=e.background_color,n.accent_color=e.accent_color,n.border_size=e.border_size):(t="var(--"+o+"_bg_color)",i="var(--"+o+"_accent_color)",n.background_color=t,n.accent_color=i,n.border_size=parseFloat(window.fusionAllElements.fusion_alert.defaults.border_size)+"px"),s='<style type="text/css">',s+=".fusion-alert.alert.fusion-alert-cid"+a+"{",s+="background-color:"+n.background_color+";",s+="color:"+n.accent_color+";",s+="border-color:"+n.accent_color+";",s+="border-width:"+n.border_size+";",s+="}",s+="</style>"},buildContentAttr:function(){return _.fusionInlineEditor({cid:this.model.get("cid"),"disable-return":!0,"disable-extra-spaces":!0,toolbar:"simple"},{class:"fusion-alert-content"})},buildButtonStyles:function(e){return"custom"===e.alert_class?"color:"+e.accent_color+";border-color:"+e.accent_color+";":""}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_audio=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.cid=this.model.get("cid"),t.values=e.values,t},validateValues:function(e){_.each(["top_left","top_right","bottom_right","bottom_left"],function(t){void 0!==e["border_radius_"+t]&&""!==e["border_radius_"+t]?e["border_radius_"+t]=_.fusionGetValueWithUnit(e["border_radius_"+t]):e["border_radius_"+t]="0px"})},buildAttr:function(e){var t,i=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-audio",style:""});return e.progress_color&&(t="--fusion-audio-accent-color:"+e.progress_color+";"),e.border_size&&(t+="--fusion-audio-border-size:"+e.border_size+";"),e.border_color&&(t+="--fusion-audio-border-color:"+e.border_color+";"),_.each(["top_left","top_right","bottom_right","bottom_left"],function(i){e["border_radius_"+i]&&(t+="--fusion-audio-border-"+i.replace("_","-")+"-radius:"+e["border_radius_"+i]+";")}),e.background_color&&(t+="--fusion-audio-background-color:"+e.background_color+";"),e.max_width&&(t+="--fusion-audio-max-width:"+e.max_width+";"),"yes"===e.box_shadow&&(t+="--fusion-audio-box-shadow:"+_.fusionGetBoxShadowStyle(e)+";"),i.style=t,"dark"===e.controls_color_scheme&&(i.class+=" dark-controls"),""!==e.class&&(i.class+=" "+e.class),""!==e.id&&(i.id=e.id),(i=_.fusionAnimations(e,i)).values=e,i}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_map=FusionPageBuilder.ElementView.extend({jsVars:{},initMap:function(){var e=this.$el;void 0===e||_.isEmpty(this.jsVars)||_.isEmpty(this.jsVars.json_addresses)||jQuery("#fb-preview")[0].contentWindow.jQuery(e.find("#map_"+this.model.get("cid"))).fusion_maps({addresses:this.jsVars.json_addresses,animations:this.jsVars.animation,infobox_background_color:this.jsVars.infobox_background_color,infobox_styling:this.jsVars.infobox,infobox_text_color:this.jsVars.infobox_text_color,map_style:this.jsVars.map_style,map_type:this.jsVars.type,marker_icon:this.jsVars.icon,overlay_color:this.jsVars.overlay_color,overlay_color_hsl:this.jsVars.overlay_color_hsl,pan_control:this.jsVars.zoom_pancontrol,show_address:this.jsVars.popup,scale_control:this.jsVars.scale,scrollwheel:this.jsVars.scrollwheel,zoom:parseInt(this.jsVars.zoom,10),zoom_control:this.jsVars.zoom_pancontrol})},onRender:function(){var e=this;jQuery("#fb-preview").on("load",function(){e.initMap()})},afterPatch:function(){var e,t;_.isEmpty(this.jsVars)||_.isEmpty(this.jsVars.json_addresses)||(e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find("#map_"+this.model.get("cid")))[0].cloneNode(),t=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-builder-element-content")),jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find("#map_"+this.model.get("cid"))).remove(),jQuery(t).append(e),this.initMap())},filterTemplateAtts:function(e){var t,i,o={};return this.validateValues(e.values),"js"===e.values.api_type?i=this.buildJsVars(e.values,e.extras):"embed"===e.values.api_type?t=this.buildEmbedHtml(e.values,e.extras):"static"===e.values.api_type&&(t=this.buildStaticHtml(e.values,e.extras)),o.googleMapShortcode=this.buildGoogleMapShortcode(e),o.jsVars=i,o.html=t,o.id=e.values.id,o.apiType=e.values.api_type,o.address=e.values.address,o.cid=this.model.get("cid"),this.jsVars=i,o},validateValues:function(e){e.width=_.fusionValidateAttrValue(e.width,"px"),e.height=_.fusionValidateAttrValue(e.height,"px"),""===e.address&&(e.address="latlng=0,0")},buildGoogleMapShortcode:function(e){var t=_.fusionVisibilityAtts(e.values.hide_on_mobile,{class:"shortcode-map fusion-google-map fusion-maps-"+e.values.api_type+"-type"});return""!==e.values.class&&(t.class+=" "+e.values.class),t.id="map_"+this.model.get("cid"),"js"===e.values.api_type&&(t.style="height:"+e.values.height+";width:"+e.values.width+";"),t},buildJsVars:function(e,t){var i,o,n,s,a,r,l,u,d,c,h,m={},p=e.address,f=e.map_style,g=e.icon,b=e.animation,v=e.infobox,y=e.overlay_color,w=e.infobox_background_color,x=e.infobox_text_color,P=e.infobox_content,F=e.type,C=e.zoom,k=[],A=[];if(""!==p){(c=p.split("|")).length&&(p=c),n=c.length;try{P&&""!==P&&FusionPageBuilderApp.base64Encode(FusionPageBuilderApp.base64Decode(P))===P&&(P=FusionPageBuilderApp.base64Decode(P))}catch(e){}if(o=-1===jQuery.inArray(e.map_style,["default","theme"])&&"default"!==e.infobox?P.split("|"):[],i=[],""!==e.icon&&(i=e.icon.split("|")),"theme"===e.map_style?(r=[(s=jQuery.Color(t.primary_color)).red(),s.green(),s.blue()],f="custom",g="theme",b="yes",v="custom",y=t.primary_color,w="rgba("+r[0]+", "+r[1]+", "+r[2]+", 0.8)",x="#747474",140<s.lightness()&&(x="#fff")):"custom"===e.map_style&&0===jQuery.Color(e.overlay_color).alpha()&&(y=""),"custom"===e.map_style&&""!==e.icon&&"theme"!==e.icon&&i&&1===i.length)for(d=i[0],h=0;h<n;h++)i[h]=d;if("theme"===e.icon&&"custom"===e.map_style)for(h=0;h<n;h++)i[h]=t.theme_icon;if(_.each(p,function(e){e=e.trim().split("\n").filter(function(e){return String(e).trim()}).join("<br/>").replace(/\r/g,"").replace(/\n/g,""),k.push({address:e})}),!k)return;for(h=0;h<n;h++)0===p[h].indexOf("latlng=")&&(p[h]=k[h].address);if(P=p,o){for(h=0;h<n;h++)o[h]||(o[h]=p[h]);P=o}l=t.cached_addresses,_.each(p,function(e,t){A.push({address:e,infobox_content:_.unescape(P[t])}),i&&i[t]&&(A[t].marker=i[t]),-1!==e.indexOf("latlng=")?(A[t].address=e.replace("latlng=",""),u=A[t].address.split(","),A[t].coordinates=!0,A[t].latitude=u[0],A[t].longitude=u[1],A[t].cache=!1,-1!==P[t].indexOf("latlng=")&&(A[t].infobox_content=""),l[A[t].latitude.trim()+","+A[t].longitude.trim()]&&(A[t].geocoded_address=l[A[t].latitude.trim()+","+A[t].longitude.trim()].address.trim(),A[t].cache=!0)):(A[t].coordinates=!1,A[t].cache=!1,l[A[t].address.trim()]&&(A[t].latitude=l[A[t].address.trim()].latitude,A[t].longitude=l[A[t].address.trim()].longitude,A[t].cache=!0))}),a={hue:(s=jQuery.Color(y)).hue(),sat:100*s.saturation(),lum:100*s.lightness()},m.json_addresses=A,m.infobox_background_color=w,m.infobox=v,m.infobox_text_color=x,m.map_style=f,m.type=F,m.icon=g,m.overlay_color=y,m.overlay_color_hsl=a,m.zoom=C,m.animation="yes"===b&&"true",m.zoom_pancontrol="yes"===e.zoom_pancontrol&&"true",m.popup="yes"===e.popup&&"true",m.scale="yes"===e.scale&&"true",m.scrollwheel="yes"===e.scrollwheel&&"true"}return m},buildEmbedHtml:function(e,t){var i="",o=e.embed_address;return o&&(o=o.replace(/ /g,"+"),-1!==e.width.indexOf("px")&&(e.width=parseInt(e.width,10)),i='<iframe width="'+e.width+'" height="'+parseInt(e.height,10)+'" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/place?key='+t.gmap_api+"&q="+o+"&maptype="+e.embed_map_type+"&zoom="+e.zoom+'" allowfullscreen></iframe>'),i},buildStaticHtml:function(e,t){var i,o,n,s,a,r,l,u,d,c="",h="",m=e.address;if(m){for(i=m.split("|"),o=e.icon_static?e.icon_static.split("|"):[],n=[],s=i.length,d=0;d<s;d++)i[d]=i[d].trim(),0===i[d].indexOf("latlng=")?i[d]=i[d].replace("latlng=",""):(i[d]=i[d].split(",").map(function(e){return e.trim()}).join(","),i[d]=i[d].replace(" ","+")),void 0!==o[d]?("theme"===o[d]&&(o[d]=t.amms_icon),(0<o[d].indexOf("://")||0===o[d].indexOf("//"))&&(o[d]="icon:"+o[d]),o[d]=o[d].trim(),o[d]=o[d].replace(",","|")+"|"):o[d]="",n.push(o[d]+i[d]);e.static_map_color&&(h+="&style=feature:all|hue:0x"+(a=e.static_map_color.replace("#",""))+"|saturation:"+(l=200*(r=jQuery.Color(e.static_map_color)).saturation()-100)+"|lightness:"+(u=200*r.lightness()-100)+"|visibility:simplified",h+="&style=feature:administrative|hue:0x"+a+"|saturation:"+l+"|lightness:"+u+"|visibility:simplified",h+="&style=feature:landscape|hue:0x"+a+"|saturation:"+l+"|lightness:"+u+"|visibility:simplified",h+="&style=feature:poi|hue:0x"+a+"|saturation:"+l+"|lightness:"+u+"|visibility:simplified",h+="&style=feature:road|hue:0x"+a+"|saturation:"+l+"|lightness:"+u+"|visibility:simplified",h+="&style=feature:transit|hue:0x"+a+"|saturation:"+l+"|lightness:"+u+"|visibility:simplified",h+="&style=feature:water|hue:0x"+a+"|saturation:"+l+"|lightness:"+u+"|visibility:simplified"),c='<img width="'+parseInt(e.width,10)+'" height="'+parseInt(e.height,10)+'" src="https://maps.googleapis.com/maps/api/staticmap?key='+t.gmap_api+"&center="+i[0]+"&maptype="+e.type+"&zoom="+e.zoom+"&size="+parseInt(e.width,10)+"x"+parseInt(e.height,10)+"&markers="+n.join("&markers=")+h+'&scale=2">'}return c}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_fontawesome=FusionPageBuilder.ElementView.extend({onInit:function(){var e=this.model.get("params");"object"==typeof e&&(void 0===e.iconcolor_hover&&"string"==typeof e.iconcolor&&(e.iconcolor_hover=e.iconcolor),void 0===e.circlecolor_hover&&"string"==typeof e.circlecolor&&(e.circlecolor_hover=e.circlecolor),void 0===e.circlebordercolor_hover&&"string"==typeof e.circlebordercolor&&(e.circlebordercolor_hover=e.circlebordercolor),this.model.set("params",e))},onRender:function(){this.afterPatch()},afterPatch:function(){var e=this.model.get("params"),t="";this.$el.removeClass("fusion-element-alignment-right fusion-element-alignment-left fusion-element-alignment-textflow"),void 0!==e.alignment&&""===(t=e.alignment)&&(t="left",jQuery("body").hasClass("rtl")&&(t="right"),this.$el.addClass("fusion-element-alignment-textflow")),!t||"right"!==t&&"left"!==t||this.$el.addClass("fusion-element-alignment-"+t)},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.cid=this.model.get("cid"),t.alignment=e.values.alignment,t.output=e.values.element_content,t.hasLink="string"==typeof e.values.link&&""!==e.values.link,t.styleBlock=this.styleBlock(e.values),t},styleBlock:function(e){var t,i,o="",n="",s="",a="",r=this.model.get("cid");return t="string"==typeof e.link&&""!==e.link?"a":"i","yes"===e.circle&&(e.circlecolor&&(o=" background-color: "+e.circlecolor+";"),e.circlecolor_hover&&(s=" background-color: "+e.circlecolor_hover+";"),e.circlebordercolor&&(n=" border-color: "+e.circlebordercolor+";"),e.circlebordercolor_hover&&(a=" border-color: "+e.circlebordercolor_hover+";")),i="<style>",i+=t+".fontawesome-icon.fb-icon-element-"+r+"{ color: "+e.iconcolor+";"+o+n+"}",i+=t+".fontawesome-icon.fb-icon-element-"+r+":hover, .fontawesome-icon.fb-icon-element-"+r+".hover { color: "+e.iconcolor_hover+";"+s+a+"}","pulsate"===e.icon_hover_type&&(i+=t+".fontawesome-icon.fb-icon-element-"+r+".icon-hover-animation-pulsate:after {",i+="-webkit-box-shadow:0 0 0 2px rgba(255,255,255,0.1), 0 0 10px 10px "+e.circlecolor_hover+", 0 0 0 10px rgba(255,255,255,0.5);",i+="-moz-box-shadow:0 0 0 2px rgba(255,255,255,0.1), 0 0 10px 10px "+e.circlecolor_hover+", 0 0 0 10px rgba(255,255,255,0.5);",i+="box-shadow: 0 0 0 2px rgba(255,255,255,0.1), 0 0 10px 10px "+e.circlecolor_hover+", 0 0 0 10px rgba(255,255,255,0.5);",i+="}"),i+="</style>"},validateValues:function(e){e.font_size=_.fusionValidateAttrValue(this.convertDeprecatedSizes(e.size),"")},convertDeprecatedSizes:function(e){switch(e){case"small":return"10px";case"medium":return"18px";case"large":return"40px";default:return e}},buildAttr:function(e){var t=!1,i={};return e.circle_yes_font_size=.88*e.font_size,e.height=1.76*e.font_size,e.line_height=e.height-2*parseInt(e.circlebordersize),e.icon_margin=.5*e.font_size,e.circlebordersize=_.fusionValidateAttrValue(e.circlebordersize,"px"),(void 0===e.margin_left||""===e.margin_top&&""===e.margin_right&&""===e.margin_bottom&&""===e.margin_left)&&(t=!0),i={class:"fb-icon-element-"+this.model.get("cid")+" fb-icon-element fontawesome-icon "+_.fusionFontAwesome(e.icon)+" circle-"+e.circle,"aria-hidden":"true"},(i=_.fusionVisibilityAtts(e.hide_on_mobile,i)).class+=_.fusionGetStickyClass(e.sticky_display),i.style="","yes"===e.circle?(i.style+="font-size:"+e.circle_yes_font_size+"px;",i.style+="line-height:"+e.line_height+"px;height:"+e.height+"px;width:"+e.height+"px;",i.style+="border-width:"+e.circlebordersize+";"):i.style+="font-size:"+e.font_size+"px;",""===e.alignment&&(i.class+=" fusion-text-flow"),t?("left"===e.alignment?e.icon_margin_position="right":"right"===e.alignment?e.icon_margin_position="left":e.icon_margin_position=FusionPageBuilderApp.$el.hasClass("rtl")?"left":"right","center"===e.alignment?i.style+="margin-left:0;margin-right:0;":i.style+="margin-"+e.icon_margin_position+":"+e.icon_margin+"px;"):(e.margin_top&&(i.style+="margin-top:"+e.margin_top+";"),e.margin_right&&(i.style+="margin-right:"+e.margin_right+";"),e.margin_bottom&&(i.style+="margin-bottom:"+e.margin_bottom+";"),e.margin_left&&(i.style+="margin-left:"+e.margin_left+";")),e.rotate&&(i.class+=" fa-rotate-"+e.rotate),"yes"===e.spin&&(i.class+=" fa-spin"),e.flip&&(i.class+=" fa-flip-"+e.flip),""!==e.link&&(i.class+=" fusion-link",i.href=e.link,i.target=e.linktarget,"_blank"===e.linktarget&&(i.rel="noopener noreferrer")),"pulsate"!==e.icon_hover_type&&"slide"!==e.icon_hover_type||(i.class+=" icon-hover-animation-"+e.icon_hover_type),e.class&&(i.class+=" "+e.class),e.id&&(i.id=e.id),i=_.fusionAnimations(e,i)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_button=FusionPageBuilder.ElementView.extend({onRender:function(){this.afterPatch()},afterPatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find('[rel="iLightbox"]')),t=this.model.get("params"),i=t.stretch;"default"!==i&&""!=i||(i=fusionAllElements.fusion_button.defaults.stretch),this.$el.removeClass("fusion-element-alignment-right fusion-element-alignment-left fusion-element-alignment-block fusion-element-alignment-textflow"),"yes"===i||this.flexDisplay()?this.$el.addClass("fusion-element-alignment-block"):void 0!==t.alignment&&""!==t.alignment?this.$el.addClass("fusion-element-alignment-"+t.alignment):jQuery("body.rtl").length?this.$el.addClass("fusion-element-alignment-right fusion-element-alignment-textflow"):this.$el.addClass("fusion-element-alignment-left fusion-element-alignment-textflow"),"object"==typeof jQuery("#fb-preview")[0].contentWindow.avadaLightBox&&(void 0!==this.iLightbox&&this.iLightbox.destroy(),e.length&&(this.iLightbox=e.iLightBox(jQuery("#fb-preview")[0].contentWindow.avadaLightBox.prepare_options("single"))))},filterTemplateAtts:function(e){var t={};return this.isFlex=this.flexDisplay(),this.extrasCheck(e.values,e.extras),this.buildValues(e.values),t.wrapperAttr=this.buildWrapperAttr(e.values),t.attr=this.buildAttr(e.values),t.IconAttr=this.buildIconAttr(e.values),t.buttonStyles=this.buildButtonStyles(e.values),t.textAttr=this.buildTextAttr(e.values),t.values=e.values,t},extrasCheck:function(e,t){var i,o;-1!==e.color.indexOf("scheme-")&&"object"==typeof t&&"object"==typeof t.custom_color_schemes&&(i=e.color.replace("scheme-",""),void 0!==(o=t.custom_color_schemes[i])?(e.accent_color=void 0!==o.values.button_accent_color?o.values.button_accent_color.toLowerCase():"#ffffff",e.accent_hover_color=void 0!==o.values.button_accent_hover_color?o.values.button_accent_hover_color.toLowerCase():"#ffffff",e.bevel_color=void 0!==o.values.button_bevel_color?o.values.button_bevel_color.toLowerCase():"#54770F",e.gradient_colors=o.values.button_gradient_top_color+"|"+o.values.button_gradient_bottom_color,e.gradient_hover_colors=o.values.button_gradient_top_color_hover+"|"+o.values.button_gradient_bottom_color_hover):e.color="default")},buildValues:function(e){var t,i=e.button_gradient_top_color,o=e.button_gradient_bottom_color,n=e.button_gradient_top_color_hover,s=e.button_gradient_bottom_color_hover;""===e.gradient_colors&&(e.gradient_colors=e.button_gradient_top_color.toLowerCase()+"|"+e.button_gradient_bottom_color.toLowerCase()),""===e.gradient_hover_colors&&(e.gradient_hover_colors=e.button_gradient_top_color_hover.toLowerCase()+"|"+e.button_gradient_bottom_color_hover.toLowerCase()),void 0!==e.shape&&void 0===e.border_radius&&("square"===e.shape?e.border_radius="0":"round"===e.shape?(e.border_radius="2","3d"===e.type.toLowerCase()&&(e.border_radius="4")):"pill"===e.shape?e.border_radius="25":""===e.shape&&(e.border_radius="")),e.border_width=parseInt(e.border_width,10)+"px",e.border_radius=parseInt(e.border_radius,10)+"px","default"===e.color&&(e.accent_color=void 0!==e.button_accent_color&&""!==e.button_accent_color?e.button_accent_color.toLowerCase():"#ffffff",e.accent_hover_color=void 0!==e.button_accent_hover_color&&""!==e.button_accent_hover_color?e.button_accent_hover_color.toLowerCase():"#ffffff",e.border_color=void 0!==e.button_border_color&&""!==e.button_border_color?e.button_border_color.toLowerCase():"#ffffff",e.border_hover_color=void 0!==e.button_border_hover_color&&""!==e.button_border_hover_color?e.button_border_hover_color.toLowerCase():"#ffffff",e.bevel_color=void 0!==e.button_bevel_color&&""!==e.button_bevel_color?e.button_bevel_color.toLowerCase():"#54770F",e.gradient_colors=i.toLowerCase()+"|"+o.toLowerCase(),e.gradient_hover_colors=n.toLowerCase()+"|"+s.toLowerCase()),""!==(t=e.text_color)&&(e.text_color=t),""!==e.modal&&(e.link="#"),e.margin_bottom=_.fusionValidateAttrValue(e.margin_bottom,"px"),e.margin_left=_.fusionValidateAttrValue(e.margin_left,"px"),e.margin_right=_.fusionValidateAttrValue(e.margin_right,"px"),e.margin_top=_.fusionValidateAttrValue(e.margin_top,"px"),e.type=e.type.toLowerCase()},buildWrapperAttr:function(e){var t={class:"",style:""},i=void 0!==e.stretch&&(""===e.stretch||"default"===e.stretch)||void 0===e.stretch;return this.isFlex?(e.alignment&&(t.style+="text-align:"+e.alignment+";"),e.alignment_medium&&e.alignment!==e.alignment_medium&&(t.class+=" md-text-align-"+e.alignment_medium),e.alignment_small&&e.alignment!==e.alignment_small&&(t.class+=" sm-text-align-"+e.alignment_small)):(t.class+="fusion-button-wrapper",!i&&"yes"===e.stretch||i&&"yes"===fusionAllElements.fusion_button.defaults.stretch?t.class+=" fusion-align-block":e.alignment&&(t.class+=" fusion-align"+e.alignment)),t},buildAttr:function(e){var t,i=this.model.get("params"),o=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-button button-"+e.type+" button-"+e.color+" button-cid"+this.model.get("cid"),style:""}),n="button-"+e.size,s="fusion-button-span-"+e.stretch,a="";return o.class+=_.fusionGetStickyClass(e.sticky_display),(void 0!==i.size&&""===i.size||void 0===i.size)&&(n="fusion-button-default-size"),(void 0===i.stretch||""!==i.stretch&&"default"!==i.stretch)&&void 0!==i.stretch||(s="fusion-button-default-span"),(void 0===i.type||""!==i.type&&"default"!==i.type)&&void 0!==i.type||(a="fusion-button-default-type"),o.class+=" "+n+" "+s+" "+a,o.target=e.target,"_blank"===e.target?o.rel="noopener noreferrer":"lightbox"===e.target&&(o.rel="iLightbox"),void 0!==e.link_attributes&&""!==e.link_attributes&&(t=e.link_attributes.split(" "),_.each(t,function(e){var t=e.split("=");_.isUndefined(t[0])||(_.isUndefined(t[1])?o[t[0]]="valueless_attribute":(t[1]=t[1].trim().replace(/{/g,"[").replace(/}/g,"]").replace(/'/g,"").trim(),"rel"===t[0]?o.rel+=" "+t[1]:o[t[0]]=t[1]))})),o.title=e.title,o.href=e.link,""!==e.modal&&(o.data_toggle="modal",o.data_target=".fusion-modal."+e.modal),""!==e.margin_top&&(o.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(o.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(o.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(o.style+="margin-left:"+e.margin_left+";"),""!==e.class&&(o.class+=" "+e.class),""!==e.id&&(o.id=e.id),o=_.fusionAnimations(e,o)},buildIconAttr:function(e){var t={class:_.fusionFontAwesome(e.icon),"aria-hidden":"true"};return"yes"!==e.icon_divider&&(t.class+=" button-icon-"+e.icon_position),e.icon_color&&e.icon_color!==e.accent_color&&(t.style="color:"+e.icon_color+";"),t},buildTextAttr:function(e){var t={class:"fusion-button-text"};return""!==e.icon&&"yes"===e.icon_divider&&(t.class+=" fusion-button-text-"+e.icon_position),t=_.fusionInlineEditor({cid:this.model.get("cid"),"disable-return":!0,"disable-extra-spaces":!0,toolbar:"simple"},t)},buildButtonStyles:function(e){var t,i,o,n,s,a,r,l=this.model.get("params"),u="",d="",c="cid"+this.model.get("cid"),h="",m="",p="",f="",g="",_="",b="",v="";return"custom"!==e.color&&"default"!==e.color&&(-1===e.color.indexOf("scheme-")||""===e.bevel_color&&""===e.accent_color&&""===e.accent_hover_color&&""===e.border_width&&""===e.gradient_colors)||(t=e.text_color,"3d"===e.type&&""!==e.bevel_color&&("small"===e.size?v=0:"medium"===e.size?v=1:"large"===e.size?v=2:"xlarge"===e.size&&(v=3),s="inset 0px 1px 0px #fff,",a="0px "+(2+v)+"px 0px "+e.bevel_color+",",r="1px "+(4+v)+"px "+(4+v)+"px 3px rgba(0,0,0,0.3)","small"===e.size&&(r=r.replace("3px","2px")),p="-webkit-box-shadow: "+(n=s+a+r)+";-moz-box-shadow: "+n+";box-shadow: "+n+";"),"default"!==e.color&&(t?m+="color:"+t+";":e.accent_color&&(m+="color:"+e.accent_color+";"),""!==e.border_color&&(h+="border-color:"+e.border_color+";"),""!==t?g+="color:"+t+";":""!==e.accent_hover_color?g+="color:"+e.accent_hover_color+";":""!==e.accent_color&&(g+="color:"+e.accent_color+";"),""!==e.border_hover_color?f+="border-color:"+e.border_hover_color+";":""!==e.accent_color&&(f+="border-color:"+e.accent_color+";"),""!==m&&(u+=".fusion-button.button-"+c+" .fusion-button-text, .fusion-button.button-"+c+" i {"+m+"}"),""!==e.accent_color&&(u+=".fusion-button.button-"+c+" .fusion-button-icon-divider{border-color:"+e.accent_color+";}"),""!==g&&(u+=".fusion-button.button-"+c+":hover .fusion-button-text, .fusion-button.button-"+c+".hover .fusion-button-text, .fusion-button.button-"+c+":hover i, .fusion-button.button-"+c+".hover i, .fusion-button.button-"+c+":focus .fusion-button-text, .fusion-button.button-"+c+":focus i,.fusion-button.button-"+c+":active .fusion-button-text, .fusion-button.button-"+c+":active{"+g+"}"),""!==e.accent_hover_color&&(u+=".fusion-button.button-"+c+":hover .fusion-button-icon-divider, .fusion-button.button-"+c+".hover .fusion-button-icon-divider, .fusion-button.button-"+c+":hover .fusion-button-icon-divider, .fusion-button.button-"+c+".hover .fusion-button-icon-divider, .fusion-button.button-"+c+":active .fusion-button-icon-divider{border-color:"+e.accent_hover_color+";}")),""===e.border_width||"custom"!==e.color||void 0!==l.border_width&&""===l.border_width||(h+="border-width:"+e.border_width+";",f+="border-width:"+e.border_width+";"),""!=(h+="border-radius:"+e.border_radius+";")&&(u+=".fusion-button.button-"+c+" {"+h+"}"),""!==p&&(u+=".fusion-button.button-"+c+".button-3d{"+p+"}.button-"+c+".button-3d:active{"+p+"}"),""!==f&&(u+=".fusion-button.button-"+c+":hover, .fusion-button.button-"+c+".hover, .fusion-button.button-"+c+":focus, .fusion-button.button-"+c+":active{"+f+"}"),""!==e.gradient_colors&&"default"!==e.color&&(o="",1===(o=-1!==e.gradient_colors.indexOf(";")?e.gradient_colors.split(";"):e.gradient_colors.split("|")).length||""===o[1]||o[0]===o[1]?_+="background:"+o[0]+";":(_+="background: "+o[0]+";",_+="background-image: -webkit-gradient( linear, left bottom, left top, from( "+o[1]+" ), to( "+o[0]+" ) );",_+="background-image: -webkit-linear-gradient( bottom, "+o[1]+", "+o[0]+" );",_+="background-image:   -moz-linear-gradient( bottom, "+o[1]+", "+o[0]+" );",_+="background-image:     -o-linear-gradient( bottom, "+o[1]+", "+o[0]+" );",_+="background-image: linear-gradient( to top, "+o[1]+", "+o[0]+" );"),u+=".fusion-button.button-"+c+"{"+_+"}"),e.gradient_hover_colors&&"default"!==e.color&&(i="",1==(i=-1!==e.gradient_hover_colors.indexOf(";")?e.gradient_hover_colors.split(";"):e.gradient_hover_colors.split("|")).length||""===i[1]||i[0]===i[1]?b+="background: "+i[0]+";":(b+="background: "+i[0]+";",b+="background-image: -webkit-gradient( linear, left bottom, left top, from( "+i[1]+" ), to( "+i[0]+" ) );",b+="background-image: -webkit-linear-gradient( bottom, "+i[1]+", "+i[0]+" );",b+="background-image:   -moz-linear-gradient( bottom, "+i[1]+", "+i[0]+" );",b+="background-image:     -o-linear-gradient( bottom, "+i[1]+", "+i[0]+" );",b+="background-image: linear-gradient( to top, "+i[1]+", "+i[0]+" );"),u+=".fusion-button.button-"+c+":hover, .fusion-button.button-"+c+".hover, .button-"+c+":focus,.fusion-button.button-"+c+":active{"+b+"}")),""!==e.text_transform&&(u+=".fusion-button.button-"+c+" .fusion-button-text{text-transform:"+e.text_transform+"}"),""!==u&&(d='<style type="text/css">'+u+"</style>"),d}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_breadcrumbs=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t.cid=this.model.get("cid"),t},validateValues:function(e){e.font_size=_.fusionValidateAttrValue(e.font_size,"px")},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-breadcrumbs").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.breadcrumbs&&(t=e.query_data.breadcrumbs),(FusionApp.data.is_home||FusionApp.data.is_front_page)&&1<jQuery(jQuery.parseHTML(t)).filter(".fusion-breadcrumb-item").length&&(t=jQuery(jQuery.parseHTML(t)).filter(".fusion-breadcrumb-item").eq(1).remove().html()),t},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-breadcrumbs fusion-live-breadcrumbs fusion-breadcrumbs-"+this.model.get("cid"),style:""});return t.class+=_.fusionGetStickyClass(e.sticky_display),""!==e.alignment&&(t.style+="text-align:"+e.alignment+";"),""!==e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildStyleBlock:function(e){var t='<style type="text/css">';return""!==e.font_size&&(t+=".fusion-breadcrumbs.fusion-breadcrumbs-"+this.model.get("cid")+"{font-size:"+e.font_size+";}"),""!==e.text_hover_color&&(t+=".fusion-breadcrumbs.fusion-breadcrumbs-"+this.model.get("cid")+" span a:hover{color:"+e.text_hover_color+"!important;}"),""!==e.text_color&&(t+=".fusion-breadcrumbs.fusion-breadcrumbs-"+this.model.get("cid")+",",t+=".fusion-breadcrumbs.fusion-breadcrumbs-"+this.model.get("cid")+" a{color:"+e.text_color+";}"),(FusionApp.data.is_home||FusionApp.data.is_front_page)&&(t+=".fusion-breadcrumbs.fusion-breadcrumbs-"+this.model.get("cid")+" .fusion-breadcrumb-prefix{display:none}",t+=".fusion-breadcrumbs.fusion-breadcrumbs-"+this.model.get("cid")+" .fusion-breadcrumb-sep{display:none}"),t+="</style>"}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_imageframe=FusionPageBuilder.ElementView.extend({onRender:function(){this.afterPatch()},afterPatch:function(){var e=this.model.get("params"),t=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-lightbox"));this.$el.removeClass("fusion-element-alignment-right fusion-element-alignment-left"),this.flexDisplay()||void 0===e.align||"right"!==e.align&&"left"!==e.align||this.$el.addClass("fusion-element-alignment-"+e.align),"object"==typeof jQuery("#fb-preview")[0].contentWindow.avadaLightBox&&(void 0!==this.iLightbox&&this.iLightbox.destroy(),t.length&&(this.iLightbox=t.iLightBox(jQuery("#fb-preview")[0].contentWindow.avadaLightBox.prepare_options("single"))))},filterTemplateAtts:function(e){return void 0!==e.values.element_content&&(this.isFlex=this.flexDisplay(),this.validateValues(e.values),e.isFlex=this.isFlex,e.attr=this.buildAttr(e.values),e.contentAttr=this.buildContentAttr(e.values),e.linkAttr=this.buildLinktAttr(e.values),e.borderRadius=this.buildBorderRadius(e.values),e.imgStyles=this.buildImgStyles(e.values),this.isFlex&&(e.responsiveAttr=this.buildResponsiveAttr(e.values)),this.buildElementContent(e),e.liftupClasses=this.buildLiftupClasses(e),e.liftupStyles=this.buildLiftupStyles(e),e.stickyStyles=""!==e.values.sticky_max_width&&"<style>.fusion-sticky-container.fusion-sticky-transition .imageframe-cid"+this.model.get("cid")+"{ max-width:"+_.fusionGetValueWithUnit(e.values.sticky_max_width)+" !important; }</style>",e.filter_style_block=_.fusionGetFilterStyleElem(e.values,".imageframe-cid"+this.model.get("cid"),this.model.get("cid"))),e},validateValues:function(e){e.borderradius=_.fusionValidateAttrValue(e.borderradius,"px"),e.bordersize=_.fusionValidateAttrValue(e.bordersize,"px"),e.blur=_.fusionValidateAttrValue(e.blur,"px"),e.margin_bottom=_.fusionValidateAttrValue(e.margin_bottom,"px"),e.margin_left=_.fusionValidateAttrValue(e.margin_left,"px"),e.margin_right=_.fusionValidateAttrValue(e.margin_right,"px"),e.margin_top=_.fusionValidateAttrValue(e.margin_top,"px"),e.style||(e.style=e.style_type),e.borderradius&&"bottomshadow"===e.style&&(e.borderradius="0"),"round"===e.borderradius&&(e.borderradius="50%")},buildResponsiveAttr:function(e){var t={style:"",class:""},i=!(!e.align||"none"===e.align)&&e.align,o=!(!e.align_medium||"none"===e.align_medium)&&e.align_medium,n=!(!e.align_small||"none"===e.align_small)&&e.align_small;return i&&(t.style+="text-align:"+i+";"),o&&i!==o&&(t.class+=" md-text-align-"+o),n&&i!==n&&(t.class+=" sm-text-align-"+n),t},buildAttr:function(e){var t,i=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-imageframe",style:""}),o=e.stylecolor?e.stylecolor:"",n=0===o.indexOf("#")?jQuery.Color(o).alpha(.3).toRgbaString():jQuery.Color(o).toRgbaString(),s=e.blur,a=parseInt(s,10)+4+"px";return this.isFlex||(i.class+=" fusion-imageframe-align-"+e.align),i.class+=_.fusionGetStickyClass(e.sticky_display),e.style||(e.style=e.style_type),t="",""!=e.bordersize&&"0"!=e.bordersize&&"0px"!==e.bordersize&&(t+="border:"+e.bordersize+" solid "+e.bordercolor+";"),"0"!=e.borderradius&&"0px"!==e.borderradius&&(t+="-webkit-border-radius:"+e.borderradius+";-moz-border-radius:"+e.borderradius+";border-radius:"+e.borderradius+";",("50%"===e.borderradius||100<parseFloat(e.borderradius))&&(t+="-webkit-mask-image: -webkit-radial-gradient(circle, white, black);")),"glow"===e.style?t+="-moz-box-shadow: 0 0 "+s+" "+n+";-webkit-box-shadow: 0 0 "+s+" "+n+";box-shadow: 0 0 "+s+" "+n+";":"dropshadow"===e.style&&(t+="-moz-box-shadow: "+s+" "+s+" "+a+" "+n+";-webkit-box-shadow: "+s+" "+s+" "+a+" "+n+";box-shadow: "+s+" "+s+" "+a+" "+n+";"),""!==t&&(i.style+=t),i.class+=" imageframe-"+e.style+" imageframe-cid"+this.model.get("cid"),"bottomshadow"===e.style&&(i.class+=" element-bottomshadow"),"liftup"!==e.hover_type&&(this.isFlex||("left"===e.align?i.style+="margin-right:25px;float:left;":"right"===e.align&&(i.style+="margin-left:25px;float:right;")),i.class+=" hover-type-"+e.hover_type),"liftup"!==e.hover_type&&"bottomshadow"!==e.style&&(""!==e.margin_top&&(i.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(i.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(i.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(i.style+="margin-left:"+e.margin_left+";")),""!==e.max_width&&(i.style+="max-width:"+e.max_width),void 0!==e.class&&""!==e.class&&(i.class+=" "+e.class),void 0!==e.id&&""!==e.id&&(i.id=e.id),i=_.fusionAnimations(e,i)},buildLinktAttr:function(e){var t={};return"yes"===e.lightbox?(""!==e.lightbox_image&&(e.pic_link=e.lightbox_image),t.href=e.pic_link,t.class="fusion-lightbox imageframe-shortcode-link",""!==e.gallery_id||"0"===e.gallery_id?t["data-rel"]="iLightbox["+e.gallery_id+"]":t["data-rel"]="iLightbox[image-"+this.model.get("cid")+"]"):e.link&&(t.class="fusion-no-lightbox",t.href=e.link,t.target=e.linktarget,"_blank"===e.linktarget&&(t.rel="noopener noreferrer")),t},buildContentAttr:function(e){var t={},i="";return e.image_id="",e.element_content?((i=e.element_content.match(/(src=["\'](.*?)["\'])/))&&1<i.length?i=i[2]:-1===e.element_content.indexOf("<img")&&""!==e.element_content&&(i=e.element_content),void 0!==i&&i&&""!==i&&(i=i.replace("&#215;","x"),t.src=i,e.pic_link=i,"no"===e.lightbox&&e.link,t.title="",t.alt=e.alt),t):"No Image Set"},buildBorderRadius:function(e){var t="";return e.borderradius&&""!==e.borderradius&&0!==e.borderradius&&"0"!==e.borderradius&&"0px"!==e.borderradius&&(t+="-webkit-border-radius:{"+e.borderradius+"};-moz-border-radius:{"+e.borderradius+"};border-radius:{"+e.borderradius+"};"),t},buildImgStyles:function(e){var t="";return""!==e.borderRadius&&(t=' style="'+e.borderRadius+'"'),t},buildElementContent:function(e){var t,i="img-responsive";_.FusionIsValidJSON(e.contentAttr.src)?e.values.element_content=this.getLogoImages(e):e.values.element_content="<img "+_.fusionGetAttributes(e.contentAttr)+" />",""!==e.values.image_id&&(i+=" wp-image-"+e.values.image_id),(t=e.values.element_content.match(/(class=["\'](.*?)["\'])/))&&1<t.length&&(i+=" "+t[2]),i='class="'+i+'"',t&&void 0!==t[0]?e.values.element_content=e.values.element_content.replace(t[0],i+e.imgStyles):e.values.element_content=e.values.element_content.replace("/>",i+e.imgStyles+"/>"),""!==e.values.lightbox_image&&(e.values.pic_link=e.values.lightbox_image),("yes"===e.values.lightbox||e.values.link)&&(e.values.element_content="<a "+_.fusionGetAttributes(e.linkAttr)+">"+e.values.element_content+"</a>")},buildLiftupClasses:function(e){var t="",i=this.model.get("cid");return"liftup"!==e.values.hover_type&&("bottomshadow"!==e.values.style_type||"none"!==e.values.hover_type&&"zoomin"!==e.values.hover_type&&"zoomout"!==e.values.hover_type)||("liftup"===e.values.hover_type?(t="imageframe-liftup",this.isFlex||("left"===e.values.align?t+=" fusion-imageframe-liftup-left":"right"===e.values.align&&(t+=" fusion-imageframe-liftup-right")),e.borderRadius&&(t+=" imageframe-cid"+i)):t+="fusion-image-frame-bottomshadow image-frame-shadow-cid"+i,t+=" imageframe-cid"+i),t},buildLiftupStyles:function(e){var t,i="<style>",o=this.model.get("cid");return e.borderRadius&&(i+=".imageframe-liftup.imageframe-cid"+o+":before{"+e.borderRadius+"}"),""!==e.values.max_width&&(i+=".imageframe-cid"+o+"{max-width:"+e.values.max_width+"}"),""!==e.values.margin_top&&(i+="div.imageframe-cid"+o+"{margin-top:"+e.values.margin_top+" !important;}"),""!==e.values.margin_right&&(i+="div.imageframe-cid"+o+"{margin-right:"+e.values.margin_right+" !important;}"),""!==e.values.margin_bottom&&(i+="div.imageframe-cid"+o+"{margin-bottom:"+e.values.margin_bottom+" !important;}"),""!==e.values.margin_left&&(i+="div.imageframe-cid"+o+"{margin-left:"+e.values.margin_left+" !important;}"),"liftup"!==e.values.hover_type&&("bottomshadow"!==e.values.style_type||"none"!==e.values.hover_type&&"zoomin"!==e.values.hover_type&&"zoomout"!==e.values.hover_type)||(t=0===e.values.stylecolor.indexOf("#")?jQuery.Color(e.values.stylecolor).alpha(.4).toRgbaString():jQuery.Color(e.values.stylecolor).toRgbaString(),"liftup"===e.values.hover_type?"bottomshadow"===e.values.style_type&&(i+=".element-bottomshadow.imageframe-cid"+o+":before, .element-bottomshadow.imageframe-cid"+o+":after{",i+="-webkit-box-shadow: 0 17px 10px "+t+";box-shadow: 0 17px 10px "+t+";}"):(i+=".imageframe-cid"+o+"{display: inline-block}",i+=".element-bottomshadow.imageframe-cid"+o+":before, .element-bottomshadow.imageframe-cid"+o+":after{",i+="-webkit-box-shadow: 0 17px 10px "+t+";box-shadow: 0 17px 10px "+t+";}")),i+="</style>"},getLogoImages:function(e){var t=JSON.parse(e.contentAttr.src),i=t.default&&t.default.normal&&t.default.normal.url,o=t.sticky&&t.sticky.normal&&t.sticky.normal.url,n=t.mobile&&t.mobile.normal&&t.mobile.normal.url,s="";return i&&(s+=this.getLogoImage(e,t.default,"fusion-standard-logo")),o&&(s+=this.getLogoImage(e,t.sticky,"fusion-sticky-logo")),n&&(s+=this.getLogoImage(e,t.mobile,"fusion-mobile-logo")),s},getLogoImage:function(e,t,i){var o="",n={url:"",srcset:"",style:"",retina_url:!1,width:"",height:"",class:i},s=t.retina&&t.retina.url||"";return o=t.normal.url,n.srcset=o+" 1x",""===o?(o=s,n.srcset=o+" 1x",n.url=o,n.width=t.retina.width,n.height=t.retina.height,""!==n.width&&(n.style="max-height:"+n.height+"px;height:auto;")):(n.url=o,n.width=t.normal&&t.normal.width||"",n.height=t.normal&&t.normal.height||""),t.normal&&""!==t.normal&&""!==n.width&&""!==n.height&&(n.retina_url=s,n.srcset+=", "+s+" 2x",""!==n.width&&(n.style="max-height:"+n.height+"px;height:auto;")),e.attr.class+=" has-"+i,"<img "+_.fusionGetAttributes(n)+" />"}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.layerslider=FusionPageBuilder.ElementView.extend({afterPatch:function(){window.FusionApp.injectScripts(this.model.get("cid"))},filterTemplateAtts:function(e){return void 0!==e.markup&&void 0!==e.markup.output&&(e.markup.output=window.FusionApp.removeScripts(e.markup.output,this.model.get("cid"))),e}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.rev_slider=FusionPageBuilder.ElementView.extend({filterRenderContent:function(e){return this.filterDuplicates(this.disableInlineScripts(e))},filterOutput:function(e){return this.filterDuplicates(e)},filterDuplicates:function(e){return jQuery("#fb-preview").contents().find('rs-module-wrap[data-alias="'+this.model.get("params").alias+'"]').length?'<div class="fusion-builder-placeholder">'+window.fusionBuilderText.duplicate_slider_revolution+"</div>":e},disableInlineScripts:function(e){return(-1!==e.indexOf("rev_slider_error")||-1!==e.indexOf("rs_error_message")&&-1!==e.indexOf("<script")&&-1!==e.indexOf("<\/script>"))&&(e=e.replace("<script","\x3c!--<script").replace("<\/script>","<\/script>--\x3e").replace('<rs-module id="','<rs-module style="dusplay: block; visibility:visible;" id="')),e}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_person=FusionPageBuilder.ElementView.extend({beforePatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el).find('[data-toggle="tooltip"]');e.length&&"function"==typeof e.tooltip&&e.tooltip("destroy")},afterPatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el).find('[data-toggle="tooltip"]');setTimeout(function(){e.length&&"function"==typeof e.tooltip&&e.tooltip({container:"body"})},150),this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.imageAttr=this.buildImageAttr(e.values),t.hrefAttr=this.buildHrefAttr(e.values),t.wrapperAttr=this.buildWrapperAttr(e.values),t.imageContainerAttr=this.buildImageContainerAttr(e.values),t.styles=this.buildStyles(e.values),t.socialAttr=this.buildSocialAttr(e.values),t.descAttr=this.buildDescAttr(e.values),t.socialNetworks=this.getSocialNetworks(e.values),t.icons=_.fusionBuildSocialLinks(t.socialNetworks,this.personIconAttr,e.values),t.cid=this.model.get("cid"),t.values=e.values,t},validateValues:function(e){e.pic_style_blur=_.fusionValidateAttrValue(e.pic_style_blur,"px"),e.pic_bordersize=_.fusionValidateAttrValue(e.pic_bordersize,"px"),e.pic_borderradius=_.fusionValidateAttrValue(e.pic_borderradius,"px"),e.social_icon_boxed_radius=_.fusionValidateAttrValue(e.social_icon_boxed_radius,"px"),e.social_icon_font_size=_.fusionValidateAttrValue(e.social_icon_font_size,"px"),e.social_icon_padding=_.fusionValidateAttrValue(e.social_icon_padding,"px"),"round"===e.pic_borderradius&&(e.pic_borderradius="50%"),this.stylecolor="#"===e.pic_style_color.charAt(0)?jQuery.Color(e.pic_style_color).alpha(.3).toRgbaString():jQuery.Color(e.pic_style_color).toRgbaString()},buildAttr:function(e){var t=this.model.get("cid"),i=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-person fusion-person-"+t+" person fusion-person-"+e.content_alignment+" fusion-person-icon-"+e.icon_position});return""!==e.class&&(i.class+=" "+e.class),""!==e.id&&(i.id=e.id),i},buildImageAttr:function(e){var t={class:"person-img img-responsive",style:""};return t.src=e.picture,t.alt=e.name,t},buildHrefAttr:function(e){var t={href:e.pic_link};return"yes"===e.lightbox?(t.class="lightbox-shortcode",t.href=e.picture):t.target=e.linktarget,t},buildStyles:function(e){var t="";return"bottomshadow"===e.pic_style&&(t+=".fusion-person-"+this.model.get("cid")+" .element-bottomshadow:before, .fusion-person-"+this.model.get("cid")+" .element-bottomshadow:after{",t+="-webkit-box-shadow: 0 17px 10px "+this.stylecolor+";box-shadow: 0 17px 10px "+this.stylecolor+";}"),"liftup"===e.hover_type&&""!==e.pic_borderradius&&e.pic_borderradius&&(t+=".fusion-person-"+this.model.get("cid")+" .imageframe-liftup:before{",t+="-webkit-border-radius:"+e.pic_borderradius+";-moz-border-radius:"+e.pic_borderradius+";border-radius:"+e.pic_borderradius+";"),""!==t&&(t="<style>"+t+"</style>"),t},buildWrapperAttr:function(e){var t={class:"person-shortcode-image-wrapper"};return"liftup"===e.hover_type&&(t.class+=" imageframe-liftup"),t},buildImageContainerAttr:function(e){var t={class:"person-image-container",style:""},i="",o=e.pic_style_blur,n=parseInt(o,10)+4+"px";return""!==e.hover_type&&"liftup"!==e.hover_type&&(t.class+=" hover-type-"+e.hover_type),"round"===e.pic_borderradius&&(e.pic_borderradius="50%"),"0px"!==e.pic_borderradius&&""!==e.pic_borderradius&&"bottomshadow"===e.pic_style&&(e.pic_style="none"),"glow"===e.pic_style?t.class+=" glow":"dropshadow"===e.pic_style?t.class+=" dropshadow":"bottomshadow"===e.pic_style&&(t.class+=" element-bottomshadow"),"glow"===e.pic_style?i+="-webkit-box-shadow: 0 0 "+o+" "+this.stylecolor+";box-shadow: 0 0 "+o+" "+this.stylecolor+";":"dropshadow"===e.pic_style&&(i+="-webkit-box-shadow: "+o+" "+o+" "+n+" "+this.stylecolor+";box-shadow: "+o+" "+o+" "+n+" "+this.stylecolor+";"),""!==e.pic_borderradius&&(i+="-webkit-border-radius:"+e.pic_borderradius+";-moz-border-radius:"+e.pic_borderradius+";border-radius:"+e.pic_borderradius+"; overflow:hidden;"),""!==e.pic_bordersize&&(i+="border:"+e.pic_bordersize+" solid "+e.pic_bordercolor+";"),t.style+=i,t},buildSocialAttr:function(e){var t={class:"fusion-social-networks"};return"yes"===e.social_icon_boxed&&(t.class+=" boxed-icons"),t},buildDescAttr:function(e){var t={class:"person-desc"};return e.background_color&&"transparent"!==e.background_color&&0!==jQuery.Color(e.background_color).alpha()&&(t.style="background-color:"+e.background_color+";padding:40px;margin-top:0;"),t},personIconAttr:function(e,t){var i={class:"fusion-social-network-icon fusion-tooltip fusion-"+e.social_network+" fusion-icon-"+e.social_network},o="",n="",s="";return i["aria-label"]="fusion-"+e.social_network,o=e.social_link,n=t.target,"mail"===e.social_network&&void 0!==e.social_link&&(o="mailto:"+e.social_link.replace("mailto:",""),n="_self"),"phone"===e.social_network&&void 0!==e.social_link&&(o="tel:"+e.social_link.replace("tel:",""),n="_self"),i.href=o,i.target=n,"_blank"===n&&(i.rel="noopener noreferrer"),i.style="",""!==e.icon_color&&(i.style="color:"+e.icon_color+";"),"yes"===t.social_icon_boxed&&""!==e.box_color&&(i.style+="background-color:"+e.box_color+";border-color:"+e.box_color+";"),("yes"===t.social_icon_boxed&&""!==t.social_icon_boxed_radius||"0"===t.social_icon_boxed_radius)&&("round"===t.social_icon_boxed_radius&&(t.social_icon_boxed_radius="50%"),i.style+="border-radius:"+t.social_icon_boxed_radius+";"),""!==t.social_icon_font_size&&(i.style+="font-size:"+t.social_icon_font_size+";"),"yes"===t.social_icon_boxed&&""!==t.social_icon_padding&&(i.style+="padding:"+t.social_icon_padding+";"),i["data-placement"]=t.social_icon_tooltip,s="youtube"===(s=e.social_network).toLowerCase()?"YouTube":s,i["data-title"]=_.fusionUcFirst(s),i.title=_.fusionUcFirst(s),"none"!==t.social_icon_tooltip&&(i["data-toggle"]="tooltip"),i},getSocialNetworks:function(e){var t=_.fusionGetSocialNetworks(e);return t=_.fusionSortSocialNetworks(t,e)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_lottie=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.isFlex=this.flexDisplay(),t.attr=this.buildAttr(e.values),t.wrapperAttr=this.buildWrapperAttr(e.values),t.tag=""!==e.values.link?"a":"div",t.styleBlock=_.fusionGetFilterStyleElem(e.values,".fusion-lottie-"+this.model.get("cid"),this.model.get("cid")),t},buildAttr:function(e){var t,i,o,n={class:"fusion-lottie-animation",style:""},s={center:"mx-auto",left:"mr-auto",right:"ml-auto"};return""!==e.json&&(n["data-path"]=e.json,n["data-loop"]="yes"===e.loop?1:0,n["data-reverse"]="yes"===e.reverse?1:0,n["data-speed"]=e.speed,n["data-trigger"]=e.trigger,"viewport"===e.trigger&&("top-into-view"===e.trigger_offset?e.trigger_offset="100%":"top-mid-of-view"===e.trigger_offset&&(e.trigger_offset="50%"),n["data-offset"]=e.trigger_offset)),e.max_width&&(n.style+="width:100%;max-width:"+e.max_width+";"),""!==e.link&&(n.href=e.link,n.target=e.target,"_blank"===e.target&&(n.rel="noopener noreferrer")),this.isFlex&&(t=!(!e.align||"none"===e.align)&&e.align,i=!(!e.align_medium||"none"===e.align_medium)&&e.align_medium,o=!(!e.align_small||"none"===e.align_small)&&e.align_small,t&&(n.class+=" lg-"+s[t]),i&&(n.class+=" md-"+s[i]),o&&(n.class+=" sm-"+s[o])),n},buildWrapperAttr:function(e){var t={style:"",class:"fusion-lottie fusion-lottie-"+this.model.get("cid"),"data-id":this.model.get("cid")};return t=_.fusionVisibilityAtts(e.hide_on_mobile,t),""!==e.id&&(t.id=e.id),""!==e.class&&(t.class+=" "+e.class),t=_.fusionAnimations(e,t),""!==e.margin_top&&(t.style+="margin-top:"+_.fusionValidateAttrValue(e.margin_top,"px")+";"),""!==e.margin_right&&(t.style+="margin-right:"+_.fusionValidateAttrValue(e.margin_right,"px")+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+_.fusionValidateAttrValue(e.margin_bottom,"px")+";"),""!==e.margin_left&&(t.style+="margin-left:"+_.fusionValidateAttrValue(e.margin_left,"px")+";"),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_menu=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.values=e.values,t.attr=this.buildAttr(),t.menuMarkup=void 0!==e.query_data&&void 0!==e.query_data.menu_markup?e.query_data.menu_markup:"No menu markup",t.buttonMarkup=void 0!==e.query_data&&void 0!==e.query_data.button_markup?e.query_data.button_markup:"No button markup",t.flyoutButtonMarkup=void 0!==e.query_data&&void 0!==e.query_data.flyout_button_markup?e.query_data.flyout_button_markup:"No flyout button markup",t.inlineStyles=this.getStyles(),t},addCssProperty:function(e,t,i,o){"object"==typeof e&&(e=Object.values(e)),"object"==typeof e&&(e=e.join(",")),"object"!=typeof this.dynamic_css[e]&&(this.dynamic_css[e]={}),void 0!==o&&o&&(i+=" !important"),(void 0===this.dynamic_css[e][t]||void 0!==o&&o||!this.dynamic_css[e][t].includes("important"))&&(this.dynamic_css[e][t]=i)},isDefault:function(e){return this.values[e]===fusionAllElements.fusion_menu.defaults[e]},getStyles:function(){var e,t,i={},o=this;return this.baseSelector='.fusion-menu-element-wrapper[data-count="'+this.model.get("cid")+'"]',this.dynamic_css={},this.isDefault("font_size")||(e=[this.baseSelector,this.baseSelector+" .fusion-menu-element-list .menu-item > a"],this.addCssProperty(e,"font-size",this.values.font_size)),this.isDefault("margin_top")||this.addCssProperty(this.baseSelector,"margin-top",this.values.margin_top),this.isDefault("margin_bottom")||this.addCssProperty(this.baseSelector,"margin-bottom",this.values.margin_bottom),this.isDefault("direction")||this.addCssProperty(this.baseSelector+" .fusion-menu-element-list","flex-direction",this.values.direction),this.isDefault("justify_content")||this.addCssProperty(this.baseSelector+" .fusion-menu-element-list","justify-content",this.values.justify_content),this.isDefault("align_items")||this.addCssProperty(this.baseSelector+" .fusion-menu-element-list","align-items",this.values.align_items),e=[this.baseSelector+" .fusion-menu-element-list",this.baseSelector+" > .avada-menu-mobile-menu-trigger",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-holder .fusion-megamenu .fusion-megamenu-submenu .fusion-megamenu-title"],i=_.fusionGetFontStyle("typography",this.values,"object"),jQuery.each(i,function(t,i){o.addCssProperty(e,t,i)}),this.addCssProperty([this.baseSelector+' [class*="fusion-icon-"]',this.baseSelector+' [class^="fusion-icon-"]'],"font-family",this.values.fusion_font_family_typography,!0),this.isDefault("min_height")||this.addCssProperty(this.baseSelector+" .fusion-menu-element-list","min-height",this.values.min_height),this.isDefault("sticky_min_height")||this.addCssProperty(".fusion-body .fusion-sticky-container.fusion-sticky-transition "+this.base_selector_no_body+" .fusion-menu-element-list","min-height",this.values.sticky_min_height),this.isDefault("text_transform")||this.addCssProperty(this.baseSelector+" .fusion-menu-element-list","text-transform",this.values.text_transform),this.isDefault("mobile_trigger_background_color")||this.addCssProperty(this.baseSelector+" > .avada-menu-mobile-menu-trigger","background-color",this.values.mobile_trigger_background_color),this.isDefault("mobile_trigger_color")||this.addCssProperty(this.baseSelector+" > .avada-menu-mobile-menu-trigger","color",this.values.mobile_trigger_color),this.isDefault("trigger_padding_top")||this.addCssProperty(this.baseSelector+" > .avada-menu-mobile-menu-trigger","padding-top",this.values.trigger_padding_top),this.isDefault("trigger_padding_right")||this.addCssProperty(this.baseSelector+" > .avada-menu-mobile-menu-trigger","padding-right",this.values.trigger_padding_right),this.isDefault("trigger_padding_bottom")||this.addCssProperty(this.baseSelector+" > .avada-menu-mobile-menu-trigger","padding-bottom",this.values.trigger_padding_bottom),this.isDefault("trigger_padding_left")||this.addCssProperty(this.baseSelector+" > .avada-menu-mobile-menu-trigger","padding-left",this.values.trigger_padding_left),this.isDefault("transition_time")||(e=[this.baseSelector+" .fusion-menu-element-list",this.baseSelector+" .fusion-menu-element-list .menu-item a",this.baseSelector+" .fusion-menu-element-list > li",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:not(.fusion-menu-item-button)",this.baseSelector+" .fusion-overlay-search",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-default",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-active",this.baseSelector+".expand-method-click.direction-row > ul > li > .fusion-open-nav-submenu",this.baseSelector+":not(.submenu-mode-flyout) .fusion-menu-element-list li:not(.fusion-mega-menu) .sub-menu",this.baseSelector+":not(.submenu-mode-flyout) .fusion-menu-element-list .fusion-megamenu-wrapper",this.baseSelector+" .avada-menu-mobile-menu-trigger .collapsed-nav-icon-open",this.baseSelector+" .avada-menu-mobile-menu-trigger .collapsed-nav-icon-close"],"never"!==this.values.breakpoint&&(e.push(this.baseSelector+".collapse-enabled.mobile-mode-collapse-to-button > ul"),e.push(this.baseSelector+".collapse-enabled .menu-item a > .fusion-button")),this.addCssProperty(e,"transition-duration",Number(this.values.transition_time)+"ms")),this.isDefault("gap")||("column"!==this.values.direction?(this.addCssProperty(this.baseSelector+" .fusion-menu-element-list > li","margin-left","calc("+this.values.gap+" / 2)"),this.addCssProperty(this.baseSelector+" .fusion-menu-element-list > li","margin-right","calc("+this.values.gap+" / 2)")):this.addCssProperty(this.baseSelector+" .fusion-menu-element-list > li:not(:last-child)","margin-bottom",this.values.gap,!0)),this.isDefault("bg")||(e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button)",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-default",this.baseSelector+" .custom-menu-search-overlay ~ .fusion-overlay-search",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list .custom-menu-search-overlay .fusion-overlay-search",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list .custom-menu-search-dropdown"],this.addCssProperty(e,"background-color",this.values.bg)),this.isDefault("border_radius_top_left")&&this.isDefault("border_radius_top_right")&&this.isDefault("border_radius_bottom_right")&&this.isDefault("border_radius_bottom_left")||(t=this.values.border_radius_top_left+" "+this.values.border_radius_top_right+" "+this.values.border_radius_bottom_right+" "+this.values.border_radius_bottom_left,e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button)",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-default",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-active"],this.addCssProperty(e,"border-radius",t)),this.isDefault("items_padding_top")&&this.isDefault("border_top")||(e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) .fusion-widget-cart > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .fusion-open-nav-submenu"],this.addCssProperty(e,"padding-top","calc("+this.values.items_padding_top+" + "+this.values.border_top+")")),this.isDefault("items_padding_right")&&this.isDefault("border_right")||(e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) .fusion-widget-cart > a"],this.addCssProperty(e,"padding-right","calc("+this.values.items_padding_right+" + "+this.values.border_right+")")),this.isDefault("items_padding_bottom")&&this.isDefault("border_bottom")||((e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > a"]).push(this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) .fusion-widget-cart > a"),this.addCssProperty(e,"padding-bottom","calc("+this.values.items_padding_bottom+" + "+this.values.border_bottom+")")),this.isDefault("items_padding_left")&&this.isDefault("border_left")||((e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > a"]).push(this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) .fusion-widget-cart > a"),this.addCssProperty(e,"padding-left","calc("+this.values.items_padding_left+" + "+this.values.border_left+")")),this.isDefault("items_padding_top")&&this.isDefault("active_border_top")||(e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):hover > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button).hover > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):focus > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):active > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):focus-within > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-item > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-ancestor > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-parent > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button).expanded > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):hover > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button).hover > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):focus > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):active > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):focus-within > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-item > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-ancestor > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-parent > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button).expanded > .fusion-open-nav-submenu"],"column"===this.values.direction&&e.push(this.baseSelector+".direction-column .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .fusion-open-nav-submenu"),this.addCssProperty(e,"padding-top","calc("+this.values.items_padding_top+" + "+this.values.active_border_top+")")),e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.menu-item-has-children):hover > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.menu-item-has-children).hover > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.menu-item-has-children):focus > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.menu-item-has-children):active > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.menu-item-has-children):focus-within > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.menu-item-has-children).current-menu-item > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.menu-item-has-children).current-menu-ancestor > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.menu-item-has-children).current-menu-parent > a",this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.menu-item-has-children).expanded > a"],this.isDefault("items_padding_right")&&this.isDefault("active_border_right")||this.addCssProperty(e,"padding-right","calc("+this.values.items_padding_right+" + "+this.values.active_border_right+")"),this.isDefault("items_padding_bottom")&&this.isDefault("active_border_bottom")||(this.addCssProperty(e,"padding-bottom","calc("+this.values.items_padding_bottom+" + "+this.values.active_border_bottom+")"),"column"===this.values.direction?this.addCssProperty(this.baseSelector+".direction-column .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .fusion-open-nav-submenu","padding-bottom","calc("+this.values.items_padding_bottom+" + "+this.values.active_border_bottom+")"):"click"===this.values.expand_method&&this.addCssProperty(this.baseSelector+".expand-method-click.direction-row > ul > li > .fusion-open-nav-submenu","padding-bottom","calc("+this.values.items_padding_bottom+" + "+this.values.active_border_bottom+")")),this.isDefault("items_padding_left")&&this.isDefault("active_border_left")||this.addCssProperty(e,"padding-left","calc("+this.values.items_padding_left+" + "+this.values.active_border_left+")"),this.isDefault("items_padding_top")||(e=[this.baseSelector+" .fusion-menu-form-inline",this.baseSelector+" .custom-menu-search-overlay ~ .fusion-overlay-search",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list .custom-menu-search-overlay .fusion-overlay-search",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list .fusion-menu-form-inline"],this.addCssProperty(e,"padding-top",this.values.items_padding_top)),"row"!==this.values.direction||"click"!==this.values.expand_method||this.isDefault("items_padding_top")&&this.isDefault("submenu_items_padding_top")||(this.addCssProperty(this.baseSelector+".expand-method-click.direction-row > ul > li > .fusion-open-nav-submenu","padding-bottom","calc("+this.values.items_padding_bottom+" + "+this.values.active_border_bottom+")"),"yes"===this.values.dropdown_carets&&(this.addCssProperty(this.baseSelector+".dropdown-carets-yes:not(.collapse-enabled).direction-row.expand-method-click li.menu-item-has-children:not(.fusion-menu-item-button) ul .fusion-open-nav-submenu","padding-top",this.values.submenu_items_padding_top),this.addCssProperty(this.baseSelector+".dropdown-carets-yes:not(.collapse-enabled).direction-row.expand-method-click li.menu-item-has-children:not(.fusion-menu-item-button) ul .fusion-open-nav-submenu","padding-bottom",this.values.submenu_items_padding_bottom))),this.isDefault("items_padding_bottom")||(e=[this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .fusion-open-nav-submenu",this.baseSelector+":not(.collapse-enabled) .fusion-menu-form-inline",this.baseSelector+":not(.collapse-enabled) .custom-menu-search-overlay ~ .fusion-overlay-search",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list .custom-menu-search-overlay .fusion-overlay-search",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list .fusion-menu-form-inline"],this.addCssProperty(e,"padding-bottom",this.values.items_padding_bottom)),this.isDefault("items_padding_right")||(jQuery("body").hasClass("rtl")&&"click"===this.values.expand_method&&this.addCssProperty([".ltr"+this.baseSelector+".expand-method-click li.menu-item-has-children:not(.fusion-menu-item-button) > .fusion-open-nav-submenu"],"padding-right",this.values.items_padding_right),e=[this.baseSelector+":not(.collapse-enabled) .fusion-menu-form-inline",this.baseSelector+":not(.collapse-enabled) .custom-menu-search-overlay ~ .fusion-overlay-search",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list .custom-menu-search-overlay .fusion-overlay-search",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list .fusion-menu-form-inline"],jQuery("body").hasClass("rtl")&&"click"===this.values.expand_method&&"column"===this.values.direction&&e.push(".ltr"+this.baseSelector+".direction-column.expand-method-click.expand-left .menu-item-has-children > a"),this.addCssProperty(e,"padding-right",this.values.items_padding_right),this.addCssProperty(this.baseSelector+" .custom-menu-search-dropdown .fusion-main-menu-icon","padding-right",this.values.items_padding_right,!0)),this.isDefault("items_padding_left")||(jQuery("body").hasClass("rtl")&&"click"===this.values.expand_method&&(e=[".rtl"+this.baseSelector+".expand-method-click li.menu-item-has-children:not(.fusion-menu-item-button) > .fusion-open-nav-submenu"],this.addCssProperty(e,"padding-left",this.values.items_padding_left)),e=[this.baseSelector+":not(.collapse-enabled) .fusion-menu-form-inline",this.baseSelector+":not(.collapse-enabled) .custom-menu-search-overlay ~ .fusion-overlay-search",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list .custom-menu-search-overlay .fusion-overlay-search",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list .fusion-menu-form-inline"],jQuery("body").hasClass("rtl")&&"click"===this.values.expand_method&&"column"===this.values.direction&&e.push(".ltr"+this.baseSelector+".direction-column.expand-method-click.expand-left .menu-item-has-children > a"),this.addCssProperty(e,"padding-left",this.values.items_padding_left),this.addCssProperty(this.baseSelector+" .custom-menu-search-dropdown .fusion-main-menu-icon","padding-left",this.values.items_padding_left,!0)),this.isDefault("color")||(e=[this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button) > a",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .fusion-open-nav-submenu"],this.addCssProperty(e,"color",this.values.color,!0),"click"===this.values.expand_method&&e.push(this.baseSelector+".expand-method-click li ul .fusion-open-nav-submenu"),this.addCssProperty(e,"color",this.values.color),e=[this.baseSelector+" .fusion-overlay-search .fusion-close-search:before",this.baseSelector+" .fusion-overlay-search .fusion-close-search:after"],this.addCssProperty(e,"background",this.values.color)),this.isDefault("active_bg")||(e=[this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-active"],this.addCssProperty(this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-active","background",this.values.active_bg),"row"===this.values.direction&&(e=[this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children.expanded:after",this.baseSelector+":not(.collapse-enabled).expand-method-"+this.values.expand_method+".dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children:hover:after",this.baseSelector+":not(.collapse-enabled).expand-method-"+this.values.expand_method+".dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children.hover:after",this.baseSelector+":not(.collapse-enabled).expand-method-"+this.values.expand_method+".dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children:focus:after",this.baseSelector+":not(.collapse-enabled).expand-method-"+this.values.expand_method+".dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children:active:after",this.baseSelector+":not(.collapse-enabled).expand-method-"+this.values.expand_method+".dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children:focus-within:after"],!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-"+this.values.expand_method+".direction-row > ul > li:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-"+this.values.expand_method+".direction-row > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-"+this.values.expand_method+".direction-row > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-"+this.values.expand_method+".direction-row > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-"+this.values.expand_method+".direction-row > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-"+this.values.expand_method+".direction-row > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-"+this.values.expand_method+".direction-row > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-"+this.values.expand_method+".direction-row > ul > li.expanded:after"),"click"===this.values.expand_method&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row > ul > li.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row > ul > li.expanded:after"))),this.addCssProperty(e,"border-top-color",this.values.active_bg)),"column"===this.values.direction&&("click"===this.values.expand_method&&(e=[this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent.direction-column.expand-right > ul > li.menu-item-has-children.expanded:not(.fusion-megamenu-menu):after"],!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right > ul > li:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right > ul > li.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right > ul > li.expanded:after"))),"hover"===this.values.expand_method&&(e=[],!1!==this.values.arrows.includes("main")&&(e=[this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):hover:after",this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).hover:after",this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus:after",this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):active:after",this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus-within:after"]),!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right > ul > li:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right > ul > li.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right > ul > li.expanded:after"))),this.addCssProperty(e,"border-left-color",this.values.active_bg)),"column"===this.values.direction&&("click"===this.values.expand_method&&(e=[this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent.direction-column.expand-left > ul > li.menu-item-has-children.expanded:not(.fusion-megamenu-menu):after"],!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left > ul > li:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left > ul > li.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left > ul > li.expanded:after"))),"hover"===this.values.expand_method&&(e=[],!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus-within:after")),!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left > ul > li:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left > ul > li.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left > ul > li.expanded:after"))),this.addCssProperty(e,"border-right-color",this.values.active_bg))),this.isDefault("active_color")||(e=[this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.custom-menu-search-overlay):hover > a",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button).hover > a",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.custom-menu-search-overlay):focus > a",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.custom-menu-search-overlay):active > a",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button):not(.custom-menu-search-overlay):focus-within > a",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-item > a",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-ancestor > a",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-parent > a",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button).expanded > a",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button):hover > .fusion-open-nav-submenu",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button).hover > .fusion-open-nav-submenu",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button):focus > .fusion-open-nav-submenu",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button):active > .fusion-open-nav-submenu",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button):focus-within > .fusion-open-nav-submenu",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-item > .fusion-open-nav-submenu",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-ancestor > .fusion-open-nav-submenu",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button).current-menu-parent > .fusion-open-nav-submenu",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li:not(.fusion-menu-item-button).expanded > .fusion-open-nav-submenu"],this.addCssProperty(e,"color",this.values.active_color,!0)),this.isDefault("border_top")||(e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-default"],this.addCssProperty(e,"border-top-width",this.values.border_top)),this.isDefault("border_right")||(e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-default"],this.addCssProperty(e,"border-right-width",this.values.border_right)),this.isDefault("border_bottom")||(e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-default"],this.addCssProperty(e,"border-bottom-width",this.values.border_bottom)),this.isDefault("border_left")||(e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-default"],this.addCssProperty(e,"border-left-width",this.values.border_left)),this.isDefault("border_color")||(e=[this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-default"],this.addCssProperty(e,"border-color",this.values.border_color)),this.isDefault("active_border_top")||this.addCssProperty(this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-active","border-top-width",this.values.active_border_top),this.isDefault("active_border_right")||this.addCssProperty(this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-active","border-right-width",this.values.active_border_right),this.isDefault("active_border_bottom")||this.addCssProperty(this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-active","border-bottom-width",this.values.active_border_bottom),this.isDefault("active_border_left")||this.addCssProperty(this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-active","border-left-width",this.values.active_border_left),this.isDefault("active_border_color")||(this.addCssProperty(this.baseSelector+" .fusion-menu-element-list > li:not(.fusion-menu-item-button) > .background-active","border-color",this.values.active_border_color),"row"===this.values.direction&&(e=[],"click"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent.direction-row.has-active-border-bottom-yes > ul > li.menu-item-has-children.expanded:after"),!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row.has-active-border-bottom-yes > ul > li:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row.has-active-border-bottom-yes > ul > li.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row.has-active-border-bottom-yes > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row.has-active-border-bottom-yes > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row.has-active-border-bottom-yes > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row.has-active-border-bottom-yes > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row.has-active-border-bottom-yes > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row.has-active-border-bottom-yes > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row.has-active-border-bottom-yes > ul > li.expanded:after"))),"hover"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-row.has-active-border-bottom-color-yes > ul > li.menu-item-has-children:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-row.has-active-border-bottom-color-yes > ul > li.menu-item-has-children.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-row.has-active-border-bottom-color-yes > ul > li.menu-item-has-children:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-row.has-active-border-bottom-color-yes > ul > li.menu-item-has-children:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-row.has-active-border-bottom-color-yes > ul > li.menu-item-has-children:focus-within:after")),!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-row.has-active-border-bottom-yes > ul > li:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-row.has-active-border-bottom-yes > ul > li.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-row.has-active-border-bottom-yes > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-row.has-active-border-bottom-yes > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-row.has-active-border-bottom-yes > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-row.has-active-border-bottom-yes > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-row.has-active-border-bottom-yes > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-row.has-active-border-bottom-yes > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-row.has-active-border-bottom-yes > ul > li.expanded:after"))),this.addCssProperty(e,"border-top-color",this.values.active_border_color)),"column"===this.values.direction&&(e=[],"click"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent.direction-column.expand-right.has-active-border-right-yes > ul > li.menu-item-has-children.expanded:not(.fusion-megamenu-menu):after"),!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right.has-active-border-right-yes > ul > li:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right.has-active-border-right-yes > ul > li.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right.has-active-border-right-yes > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right.has-active-border-right-yes > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right.has-active-border-right-yes > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right.has-active-border-right-yes > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right.has-active-border-right-yes > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right.has-active-border-right-yes > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-right.has-active-border-right-yes > ul > li.expanded:after"))),"hover"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right.has-active-border-right-yes > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right.has-active-border-right-yes > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right.has-active-border-right-yes > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right.has-active-border-right-yes > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right.has-active-border-right-yes > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus-within:after")),!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right.has-active-border-right-yes > ul > li:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right.has-active-border-right-yes > ul > li.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right.has-active-border-right-yes > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right.has-active-border-right-yes > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right.has-active-border-right-yes > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right.has-active-border-right-yes > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right.has-active-border-right-yes > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right.has-active-border-right-yes > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-right.has-active-border-right-yes > ul > li.expanded:after"))),this.addCssProperty(e,"border-left-color",this.values.active_border_color)),"column"===this.values.direction&&(e=[],"click"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent.direction-column.expand-left.has-active-border-left-yes > ul > li.menu-item-has-children.expanded:not(.fusion-megamenu-menu):after"),!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left.has-active-border-left-yes > ul > li:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left.has-active-border-left-yes > ul > li.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left.has-active-border-left-yes > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left.has-active-border-left-yes > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left.has-active-border-left-yes > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left.has-active-border-left-yes > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left.has-active-border-left-yes > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left.has-active-border-left-yes > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-column.expand-left.has-active-border-left-yes > ul > li.expanded:after"))),"hover"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left.has-active-border-left-yes > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left.has-active-border-left-yes > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left.has-active-border-left-yes > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left.has-active-border-left-yes > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left.has-active-border-left-yes > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus-within:after")),!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left.has-active-border-left-yes > ul > li:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left.has-active-border-left-yes > ul > li.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left.has-active-border-left-yes > ul > li:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left.has-active-border-left-yes > ul > li:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left.has-active-border-left-yes > ul > li:focus-within:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left.has-active-border-left-yes > ul > li.current-menu-item:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left.has-active-border-left-yes > ul > li.current-menu-ancestor:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left.has-active-border-left-yes > ul > li.current-menu-parent:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left.has-active-border-left-yes > ul > li.expanded:after"))),this.addCssProperty(e,"border-right-color",this.values.active_border_color))),this.isDefault("submenu_space")||("flyout"!==this.values.submenu_mode&&(e=[this.baseSelector+":not(.collapse-enabled):not(.submenu-mode-flyout) .fusion-menu-element-list .fusion-megamenu-wrapper",this.baseSelector+".direction-row:not(.collapse-enabled):not(.submenu-mode-flyout) .fusion-menu-element-list > li > ul.sub-menu:not(.fusion-megamenu)"],this.addCssProperty(e,"margin-top",this.values.submenu_space,!0)),"row"===this.values.direction&&(e=[],!1!==this.values.arrows.includes("active")&&e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click.direction-row > ul > li:after"),"hover"===this.values.expand_method&&(e.push(this.baseSelector+".expand-method-hover.direction-row .fusion-menu-element-list > li:hover:before"),e.push(this.baseSelector+".expand-method-hover.direction-row .fusion-menu-element-list > li.hover:before"),e.push(this.baseSelector+".expand-method-hover.direction-row .fusion-menu-element-list > li:focus:before"),e.push(this.baseSelector+".expand-method-hover.direction-row .fusion-menu-element-list > li:active:before"),e.push(this.baseSelector+".expand-method-hover.direction-row .fusion-menu-element-list > li:focus-within:before"),!1!==this.values.arrows.includes("main")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children:after"),!1!==this.values.arrows.includes("submenu")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children:after"),!1!==this.values.arrows.includes("active")&&e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-row > ul > li:after")),this.addCssProperty(e,"bottom","calc(0px - "+this.values.submenu_space+")"),"click"===this.values.expand_method&&(e=[],!1!==this.values.arrows.includes("submenu")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children::after"),!1!==this.values.arrows.includes("main")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children::after"),this.addCssProperty(e,"bottom","calc(0px - "+this.values.submenu_space+")"))),"column"===this.values.direction&&("hover"===this.values.expand_method&&(e=[this.baseSelector+".expand-method-hover.direction-column.expand-right li:hover:before",this.baseSelector+".expand-method-hover.direction-column.expand-right li.hover:before",this.baseSelector+".expand-method-hover.direction-column.expand-right li:focus:before",this.baseSelector+".expand-method-hover.direction-column.expand-right li:active:before",this.baseSelector+".expand-method-hover.direction-column.expand-right li:focus-within:before"],this.addCssProperty(e,"width",this.values.submenu_space)),this.addCssProperty(this.baseSelector+".direction-column.expand-right .fusion-menu-element-list ul","margin-left",this.values.submenu_space,!0),this.addCssProperty(this.baseSelector+".direction-column.expand-left .fusion-menu-element-list ul","margin-right",this.values.submenu_space,!0),e=[],"click"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent.direction-column.expand-left > ul > li:after"),!1!==this.values.arrows.includes("submenu")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child.direction-column.expand-left > ul > li:after"),!1!==this.values.arrows.includes("active")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.active-item-arrows-on.direction-column.expand-left > ul > li:after")),"hover"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li:after"),!1!==this.values.arrows.includes("submenu")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-left > ul > li:after"),!1!==this.values.arrows.includes("active")&&e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover.direction-column.expand-left > ul > li:after")),this.addCssProperty(e,"left","calc(0px - "+this.values.submenu_space+")")),"row"===this.values.direction&&("hover"===this.values.expand_method&&(e=[this.baseSelector+".expand-method-hover.direction-row .fusion-menu-element-list > li:hover:before",this.baseSelector+".expand-method-hover.direction-row .fusion-menu-element-list > li.hover:before",this.baseSelector+".expand-method-hover.direction-row .fusion-menu-element-list > li:focus:before",this.baseSelector+".expand-method-hover.direction-row .fusion-menu-element-list > li:active:before",this.baseSelector+".expand-method-hover.direction-row .fusion-menu-element-list > li:focus-within:before"],this.addCssProperty(e,"height",this.values.submenu_space)),"slide_up"===this.values.expand_transition&&this.addCssProperty([this.baseSelector+".submenu-transition-slide_up:not(.collapse-enabled).expand-method-"+this.values.expand_method+".direction-row .fusion-menu-element-list li::after"],"transform","translateY("+this.values.submenu_space+")"))),this.isDefault("submenu_space")&&this.isDefault("arrows_size_width")||"column"!==this.values.direction||(e=[],"click"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent.direction-column > ul > li:not(.fusion-menu-item-button):after"),!1!==this.values.arrows.includes("submenu")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child.direction-column > ul > li:not(.fusion-menu-item-button):after")),"hover"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li:after")),!1!==this.values.arrows.includes("submenu")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-right > ul > li:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-left > ul > li:after"))),this.addCssProperty(e,"width","calc("+this.values.submenu_space+" - "+this.values.arrows_size_width+" * 2)")),this.isDefault("submenu_space")&&this.isDefault("arrows_size_height")||"row"!==this.values.direction||(!1!==this.values.arrows.includes("active")&&this.addCssProperty([this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-"+this.values.expand_method+".direction-row > ul > li:after"],"height",this.values.submenu_space),"slide_up"===this.values.expand_transition&&this.addCssProperty([this.baseSelector+":not(.collapse-enabled).submenu-transition-slide_up.direction-row.dropdown-arrows-parent > ul > li:after"],"top","calc(100% - "+this.values.submenu_space+")",!0),e=[],"click"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children.expanded:after"),!1!==this.values.arrows.includes("submenu")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children.expanded:after")),!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-"+this.values.expand_method+".dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-"+this.values.expand_method+".dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-"+this.values.expand_method+".dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-"+this.values.expand_method+".dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-"+this.values.expand_method+".dropdown-arrows-parent.direction-row > ul > li.menu-item-has-children:focus-within:after")),"hover"===this.values.expand_method&&!1!==this.values.arrows.includes("submenu")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children:focus-within:after")),this.addCssProperty(e,"height","calc("+this.values.submenu_space+" - "+this.values.arrows_size_height+" * 2)"),!1!==this.values.arrows.includes("active")&&this.addCssProperty([this.baseSelector+".active-item-arrows-on.direction-row:not(.collapse-enabled) > ul > li:hover:after",this.baseSelector+".active-item-arrows-on.direction-row:not(.collapse-enabled) > ul > li.hover:after",this.baseSelector+".active-item-arrows-on.direction-row:not(.collapse-enabled) > ul > li:focus:after",this.baseSelector+".active-item-arrows-on.direction-row:not(.collapse-enabled) > ul > li:active:after",this.baseSelector+".active-item-arrows-on.direction-row:not(.collapse-enabled) > ul > li:focus-within:after",this.baseSelector+".active-item-arrows-on.direction-row:not(.collapse-enabled) > ul > li.current-menu-item:after",this.baseSelector+".active-item-arrows-on.direction-row:not(.collapse-enabled) > ul > li.current-menu-ancestor:after",this.baseSelector+".active-item-arrows-on.direction-row:not(.collapse-enabled) > ul > li.current-menu-parent:after",this.baseSelector+".active-item-arrows-on.direction-row:not(.collapse-enabled) > ul > li.expanded:after"],"height","calc("+this.values.submenu_space+" - "+this.values.arrows_size_height+" * 2)",!0)),this.isDefault("arrows_size_width")||(e=[],"click"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent > ul > li.menu-item-has-children.expanded:after"),!1!==this.values.arrows.includes("submenu")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child > ul > li.menu-item-has-children.expanded:after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-click > ul > li:not(.fusion-menu-item-button):after"))),"hover"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent > ul > li.menu-item-has-children:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent > ul > li.menu-item-has-children.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent > ul > li.menu-item-has-children:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent > ul > li.menu-item-has-children:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent > ul > li.menu-item-has-children:focus-within:after")),!1!==this.values.arrows.includes("submenu")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child > ul > li.menu-item-has-children:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child > ul > li.menu-item-has-children.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child > ul > li.menu-item-has-children:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child > ul > li.menu-item-has-children:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child > ul > li.menu-item-has-children:focus-within:after")),!1!==this.values.arrows.includes("active")&&e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover > ul > li:not(.fusion-menu-item-button):after")),this.addCssProperty(e,"border-left-width",this.values.arrows_size_width),this.addCssProperty(e,"border-right-width",this.values.arrows_size_width)),this.isDefault("arrows_size_height")||(e=[],"click"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent > ul > li.menu-item-has-children.expanded:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent > ul > li.menu-item-has-children.expanded:after")),!1!==this.values.arrows.includes("submenu")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child > ul > li.menu-item-has-children.expanded:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child > ul > li.menu-item-has-children.expanded:after")),!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.active-item-arrows-on > ul > li:not(.fusion-menu-item-button):after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.active-item-arrows-on > ul > li:not(.fusion-menu-item-button):after"))),"hover"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent > ul > li.menu-item-has-children:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent > ul > li.menu-item-has-children.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent > ul > li.menu-item-has-children:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent > ul > li.menu-item-has-children:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent > ul > li.menu-item-has-children:focus-within:after")),!1!==this.values.arrows.includes("submenu")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child > ul > li.menu-item-has-children:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child > ul > li.menu-item-has-children.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child > ul > li.menu-item-has-children:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child > ul > li.menu-item-has-children:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child > ul > li.menu-item-has-children:focus-within:after")),!1!==this.values.arrows.includes("active")&&(e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover > ul > li:not(.fusion-menu-item-button):after"),e.push(this.baseSelector+":not(.collapse-enabled).active-item-arrows-on.expand-method-hover > ul > li:not(.fusion-menu-item-button):after"))),this.addCssProperty(e,"border-top-width",this.values.arrows_size_height),this.addCssProperty(e,"border-bottom-width",this.values.arrows_size_height),e=[],"click"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-parent.direction-column > ul > li:not(.fusion-menu-item-button):after"),!1!==this.values.arrows.includes("submenu")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child.direction-column > ul > li:not(.fusion-menu-item-button):after")),"hover"===this.values.expand_method&&(!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li:after")),!1!==this.values.arrows.includes("submenu")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-right > ul > li:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-left > ul > li:after"))),this.addCssProperty(e,"top","calc(50% - "+this.values.arrows_size_height+")")),"flyout"!==this.values.submenu_mode&&(this.isDefault("submenu_border_radius_top_left")||(e=[this.baseSelector+" .fusion-menu-element-list .sub-menu",this.baseSelector+" .fusion-menu-element-list .sub-menu > li:first-child",this.baseSelector+" .custom-menu-search-dropdown .fusion-menu-searchform-dropdown .fusion-search-form-content",this.baseSelector+" .fusion-megamenu-wrapper"],this.addCssProperty(e,"border-top-left-radius",this.values.submenu_border_radius_top_left)),this.isDefault("submenu_border_radius_top_right")||(e=[this.baseSelector+" .fusion-menu-element-list .sub-menu",this.baseSelector+" .fusion-menu-element-list .sub-menu > li:first-child",this.baseSelector+" .custom-menu-search-dropdown .fusion-menu-searchform-dropdown .fusion-search-form-content",this.baseSelector+" .fusion-megamenu-wrapper"],this.addCssProperty(e,"border-top-right-radius",this.values.submenu_border_radius_top_right)),this.isDefault("submenu_border_radius_bottom_left")||(e=[this.baseSelector+" .fusion-menu-element-list .sub-menu",this.baseSelector+" .fusion-menu-element-list .sub-menu > li:last-child",this.baseSelector+" .custom-menu-search-dropdown .fusion-menu-searchform-dropdown .fusion-search-form-content",this.baseSelector+" .fusion-megamenu-wrapper"],this.addCssProperty(e,"border-bottom-left-radius",this.values.submenu_border_radius_bottom_left)),this.isDefault("submenu_border_radius_bottom_right")||(e=[this.baseSelector+" .fusion-menu-element-list .sub-menu",this.baseSelector+" .fusion-menu-element-list .sub-menu > li:last-child",this.baseSelector+" .custom-menu-search-dropdown .fusion-menu-searchform-dropdown .fusion-search-form-content",this.baseSelector+" .fusion-megamenu-wrapper"],this.addCssProperty(e,"border-bottom-right-radius",this.values.submenu_border_radius_bottom_right))),e=[this.baseSelector+" .fusion-menu-element-list .sub-menu > li",this.baseSelector+" .fusion-menu-element-list .sub-menu li a"],i=_.fusionGetFontStyle("submenu_typography",this.values,"object"),jQuery.each(i,function(t,i){o.addCssProperty(e,t,i)}),this.isDefault("submenu_bg")||(e=[this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-holder",this.baseSelector+" .sub-menu .fusion-menu-cart",this.baseSelector+" .custom-menu-search-dropdown .fusion-menu-searchform-dropdown .fusion-search-form-content",this.baseSelector+" .avada-menu-login-box .avada-custom-menu-item-contents"],"flyout"===this.values.submenu_mode?(e.push(this.baseSelector+".submenu-mode-flyout .fusion-custom-menu .sub-menu"),e.push(this.baseSelector+".submenu-mode-flyout .fusion-custom-menu .fusion-megamenu-wrapper"),e.push(this.baseSelector+".submenu-mode-flyout .fusion-custom-menu .fusion-flyout-menu-backgrounds")):e.push(this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:not(.fusion-menu-item-button)"),this.addCssProperty(e,"background-color",this.values.submenu_bg),"row"===this.values.direction&&!1!==this.values.arrows.includes("submenu")&&(e=[],"click"===this.values.expand_method&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children.expanded:after"),"hover"===this.values.expand_method&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children:focus-within:after")),this.addCssProperty(e,"border-bottom-color",this.values.submenu_bg)),"column"===this.values.direction&&(!1!==this.values.arrows.includes("submenu")&&(e=[],"click"===this.values.expand_method&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child.direction-column.expand-right > ul > li.menu-item-has-children.expanded:not(.fusion-megamenu-menu):after"),"hover"===this.values.expand_method&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus-within:after")),this.addCssProperty(e,"border-right-color",this.values.submenu_bg)),!1!==this.values.arrows.includes("submenu")&&(e=[],"click"===this.values.expand_method&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child.direction-column.expand-left > ul > li.menu-item-has-children.expanded:not(.fusion-megamenu-menu):after"),"hover"===this.values.expand_method&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu):focus-within:after")),this.addCssProperty(e,"border-left-color",this.values.submenu_bg)))),this.isDefault("submenu_color")||(e=[this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-holder .fusion-megamenu .fusion-megamenu-submenu .fusion-megamenu-title a",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-holder .fusion-megamenu .fusion-megamenu-submenu .fusion-megamenu-icon",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-holder .fusion-megamenu .fusion-megamenu-submenu .fusion-megamenu-widgets-container .widget_text .textwidget"],"click"===this.values.expand_method&&e.push(this.baseSelector+" ul ul .fusion-open-nav-submenu"),this.addCssProperty(e,"color",this.values.submenu_color),this.addCssProperty(this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:not(.fusion-menu-item-button) > a","color",this.values.submenu_color,!0),"click"===this.values.expand_method&&this.addCssProperty(this.baseSelector+".expand-method-click li .sub-menu .fusion-open-nav-submenu","color",this.values.submenu_color,!0)),this.addCssProperty([this.baseSelector+" .fusion-menu-cart-checkout a:before",this.baseSelector+" .fusion-menu-cart-items a",this.baseSelector+" ul .fusion-menu-login-box-register",this.baseSelector+" ul .fusion-menu-cart-checkout a:before",this.baseSelector+" .fusion-menu-cart-items a"],"color",this.values.submenu_color),this.isDefault("submenu_active_bg")||(e=[this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu):not(.fusion-menu-searchform-dropdown) > li:not(.fusion-menu-item-button):hover",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu):not(.fusion-menu-searchform-dropdown) > li:not(.fusion-menu-item-button):focus",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu):not(.fusion-menu-searchform-dropdown) > li:not(.fusion-menu-item-button):focus-within",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu):not(.fusion-menu-searchform-dropdown) > li:not(.fusion-menu-item-button).expanded",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.current-menu-item:not(.fusion-menu-item-button)",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.current-menu-parent:not(.fusion-menu-item-button)",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.current-menu-ancestor:not(.fusion-menu-item-button)",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.current_page_item:not(.fusion-menu-item-button)",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:hover",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a.hover",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:focus",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:active",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:focus-within",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:hover > .fusion-open-nav-submenu",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a.hover > .fusion-open-nav-submenu",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:focus > .fusion-open-nav-submenu",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:active > .fusion-open-nav-submenu",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:focus-within > .fusion-open-nav-submenu",this.baseSelector+".submenu-mode-dropdown li ul.fusion-megamenu li.menu-item-has-children .sub-menu li.menu-item-has-children:focus-within .fusion-open-nav-submenu",this.baseSelector+".submenu-mode-dropdown li ul.fusion-megamenu li.menu-item-has-children .sub-menu li.menu-item-has-children .fusion-background-highlight:hover .fusion-open-nav-submenu",this.baseSelector+".submenu-mode-dropdown li ul.fusion-megamenu li.menu-item-has-children .sub-menu li.menu-item-has-children:focus-within > .fusion-background-highlight",this.baseSelector+".submenu-mode-dropdown li ul.fusion-megamenu li.menu-item-has-children .sub-menu li.menu-item-has-children .fusion-background-highlight:hover"],this.addCssProperty(e,"background-color",this.values.submenu_active_bg),"column"===this.values.direction&&(e=[],"click"===this.values.expand_method&&!1!==this.values.arrows.includes("submenu")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child.direction-column.expand-right > ul > li.menu-item-has-children.expanded:not(.fusion-megamenu-menu).alt-arrow-child-color:after"),"hover"===this.values.expand_method&&!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).alt-arrow-child-color:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).alt-arrow-child-color.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).alt-arrow-child-color:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).alt-arrow-child-color:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-right > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).alt-arrow-child-color:focus-within:after")),this.addCssProperty(e,"border-right-color",this.values.submenu_active_bg),e=[],"click"===this.values.expand_method&&!1!==this.values.arrows.includes("submenu")&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child.direction-column.expand-left > ul > li.menu-item-has-children.expanded:not(.fusion-megamenu-menu).alt-arrow-child-color:after"),"hover"===this.values.expand_method&&!1!==this.values.arrows.includes("main")&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).alt-arrow-child-color:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).alt-arrow-child-color.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).alt-arrow-child-color:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).alt-arrow-child-color:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-parent.direction-column.expand-left > ul > li.menu-item-has-children:not(.fusion-megamenu-menu).alt-arrow-child-color:focus-within:after")),this.addCssProperty(e,"border-left-color",this.values.submenu_active_bg)),"row"===this.values.direction&&!1!==this.values.arrows.includes("submenu")&&(e=[],"click"===this.values.expand_method&&e.push(this.baseSelector+":not(.collapse-enabled).expand-method-click.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children.expanded.alt-arrow-child-color:after"),"hover"===this.values.expand_method&&(e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children.alt-arrow-child-color:hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children.alt-arrow-child-color.hover:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children.alt-arrow-child-color:focus:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children.alt-arrow-child-color:active:after"),e.push(this.baseSelector+":not(.collapse-enabled).expand-method-hover.dropdown-arrows-child.direction-row > ul > li.menu-item-has-children.alt-arrow-child-color:focus-within:after")),this.addCssProperty(e,"border-bottom-color",this.values.submenu_active_bg))),this.isDefault("submenu_active_color")||((e=[this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:hover > a",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.hover > a",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:focus > a",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:focus-within > a",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.expanded > a",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:not(.fusion-menu-item-button).current-menu-item > a",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.current-menu-ancestor > a",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.current-menu-parent > a",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:hover > a .fusion-button",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.hover > a .fusion-button",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:focus > a .fusion-button",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:focus-within > a .fusion-button",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.expanded > a .fusion-button",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:not(.fusion-menu-item-button).current-menu-item > a .fusion-button",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.current-menu-ancestor > a .fusion-button",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.current-menu-parent > a .fusion-button",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:hover > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.hover > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:focus > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:focus-within > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.expanded > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.current-menu-item > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.current-menu-ancestor > .fusion-open-nav-submenu",this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li.current-menu-parent > .fusion-open-nav-submenu",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:hover",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a.hover",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:focus",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:active",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:focus-within",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:hover > .fusion-open-nav-submenu",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a.hover > .fusion-open-nav-submenu",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:focus > .fusion-open-nav-submenu",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:active > .fusion-open-nav-submenu",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:focus-within > .fusion-open-nav-submenu",this.baseSelector+".submenu-mode-dropdown li ul.fusion-megamenu li.menu-item-has-children .sub-menu li.menu-item-has-children:focus-within .fusion-open-nav-submenu",this.baseSelector+" li ul.fusion-megamenu li.menu-item-has-children .sub-menu li.menu-item-has-children .fusion-background-highlight:hover .fusion-open-nav-submenu",this.baseSelector+" li ul.fusion-megamenu li.menu-item-has-children .sub-menu li.menu-item-has-children:focus-within > .fusion-background-highlight",this.baseSelector+" li ul.fusion-megamenu li.menu-item-has-children .sub-menu li.menu-item-has-children .fusion-background-highlight:hover"]).push(this.baseSelector+" .fusion-menu-cart-checkout:hover .fusion-menu-cart-link a"),e.push(this.baseSelector+" .fusion-menu-cart-checkout:hover .fusion-menu-cart-checkout-link a"),e.push(this.baseSelector+" .fusion-menu-cart-checkout:hover .fusion-menu-cart-link a:before"),e.push(this.baseSelector+" .fusion-menu-cart-checkout:hover .fusion-menu-cart-checkout-link a:before"),this.addCssProperty(e,"color",this.values.submenu_active_color,!0)),"flyout"===this.values.submenu_mode&&(e=[this.baseSelector+".submenu-mode-flyout .fusion-close-flyout:before",this.baseSelector+".submenu-mode-flyout .fusion-close-flyout:after"],this.addCssProperty(e,"background-color",this.values.flyout_close_color),e=[this.baseSelector+".submenu-mode-flyout .fusion-close-flyout:hover:before",this.baseSelector+".submenu-mode-flyout .fusion-close-flyout:hover:after"],this.addCssProperty(e,"background-color",this.values.flyout_active_close_color,!0)),this.isDefault("submenu_max_width")||"dropdown"!==this.values.submenu_mode||(this.addCssProperty([this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list ul:not(.fusion-megamenu) > li"],"width",this.values.submenu_max_width,!0),this.addCssProperty([this.baseSelector+".direction-row:not(.collapse-enabled) .sub-menu"],"min-width","0")),this.isDefault("submenu_items_padding_top")||(e=[this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:not(.fusion-menu-item-button) > a",this.baseSelector+" .fusion-megamenu-wrapper li .fusion-megamenu-title-disabled",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu .sub-menu a",this.baseSelector+" .sub-menu .fusion-menu-cart a",this.baseSelector+" .custom-menu-search-dropdown .fusion-menu-searchform-dropdown .fusion-search-form-content",this.baseSelector+" .avada-menu-login-box .avada-custom-menu-item-contents form"],"click"===this.values.expand_method&&e.push(this.baseSelector+".expand-method-click li ul .fusion-open-nav-submenu"),this.addCssProperty(e,"padding-top",this.values.submenu_items_padding_top),"column"===this.values.direction&&this.addCssProperty(this.baseSelector+".direction-column .fusion-menu-element-list ul","top","calc(0.5em - "+this.values.submenu_items_padding_top+")")),this.isDefault("submenu_items_padding_right")||(e=[this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:not(.fusion-menu-item-button) > a",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu .sub-menu a",this.baseSelector+" .sub-menu .fusion-menu-cart a",this.baseSelector+" .custom-menu-search-dropdown .fusion-menu-searchform-dropdown .fusion-search-form-content",this.baseSelector+" ul ul .fusion-open-nav-submenu:before",this.baseSelector+" .avada-menu-login-box .avada-custom-menu-item-contents form",this.baseSelector+" .avada-menu-login-box .avada-custom-menu-item-contents .fusion-menu-login-box-register"],"never"!==this.values.breakpoint&&e.push(this.baseSelector+".collapse-enabled .fusion-megamenu-holder"),"column"===this.values.direction&&jQuery("body").hasClass("rtl")&&"click"===this.values.expand_method&&e.push(".ltr"+this.baseSelector+".direction-column.expand-method-click.expand-left .menu-item-has-children li a"),e.push(this.baseSelector+" .fusion-menu-cart-checkout"),"flyout"===this.values.submenu_mode&&e.push(".ltr"+this.baseSelector+".submenu-mode-flyout:not(.collapse-enabled) .sub-menu li:not(.fusion-menu-item-button) > a"),this.addCssProperty(e,"padding-right",this.values.submenu_items_padding_right),this.addCssProperty(".rtl"+this.baseSelector+" .fusion-menu-cart-link","padding-right","0"),this.addCssProperty(".ltr"+this.baseSelector+" .fusion-menu-cart-checkout-link","padding-right","0")),this.isDefault("submenu_items_padding_bottom")||(e=[this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:not(.fusion-menu-item-button) > a",this.baseSelector+" .fusion-megamenu-wrapper li .fusion-megamenu-title-disabled",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu .sub-menu a",this.baseSelector+" .sub-menu .fusion-menu-cart a",this.baseSelector+" .custom-menu-search-dropdown .fusion-menu-searchform-dropdown .fusion-search-form-content",this.baseSelector+" .avada-menu-login-box .avada-custom-menu-item-contents .fusion-menu-login-box-register"],"click"===this.values.expand_method&&e.push(this.baseSelector+".expand-method-click li ul .fusion-open-nav-submenu"),this.addCssProperty(e,"padding-bottom",this.values.submenu_items_padding_bottom)),this.isDefault("submenu_items_padding_left")||(e=[this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu) > li:not(.fusion-menu-item-button) > a",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu .sub-menu a",this.baseSelector+" .sub-menu .fusion-menu-cart a",this.baseSelector+" .custom-menu-search-dropdown .fusion-menu-searchform-dropdown .fusion-search-form-content",this.baseSelector+" ul ul .fusion-open-nav-submenu:before",this.baseSelector+" .avada-menu-login-box .avada-custom-menu-item-contents form",this.baseSelector+" .avada-menu-login-box .avada-custom-menu-item-contents .fusion-menu-login-box-register"],"never"!==this.values.breakpoint&&e.push(this.baseSelector+".collapse-enabled .fusion-megamenu-holder"),"column"===this.values.direction&&jQuery("body").hasClass("rtl")&&"click"===this.values.expand_method&&e.push(".rtl"+this.baseSelector+".direction-column.expand-method-click.expand-right .menu-item-has-children li a"),e.push(this.baseSelector+" .fusion-menu-cart-checkout"),"flyout"===this.values.submenu_mode&&e.push(".rtl"+this.baseSelector+".submenu-mode-flyout:not(.collapse-enabled) .sub-menu li:not(.fusion-menu-item-button) > a"),this.addCssProperty(e,"padding-left",this.values.submenu_items_padding_left),this.addCssProperty(".rtl"+this.baseSelector+" .fusion-menu-cart-checkout-link","padding-left","0"),this.addCssProperty(".ltr"+this.baseSelector+" .fusion-menu-cart-link","padding-left","0")),this.isDefault("submenu_items_padding_left")&&this.isDefault("submenu_items_padding_right")||"click"!==this.values.expand_method||this.addCssProperty(this.baseSelector+".expand-method-click li ul .fusion-open-nav-submenu","width","calc(1em + "+this.values.submenu_items_padding_left+" / 2 + "+this.values.submenu_items_padding_right+" / 2)"),this.isDefault("submenu_sep_color")||(this.addCssProperty([this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list ul:not(.fusion-megamenu) > li"],"border-bottom-color",this.values.submenu_sep_color),this.addCssProperty([this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-holder .fusion-megamenu .fusion-megamenu-submenu",this.baseSelector+" .fusion-megamenu-wrapper .fusion-megamenu-submenu .fusion-megamenu-border"],"border-color",this.values.submenu_sep_color),this.addCssProperty(this.baseSelector+" .fusion-megamenu-wrapper li .fusion-megamenu-title-disabled","color",this.values.submenu_sep_color)),this.isDefault("submenu_font_size")||(e=[this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list ul:not(.fusion-megamenu) a",this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-wrapper li .fusion-megamenu-title-disabled",this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-wrapper .fusion-megamenu-submenu > a",this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-wrapper .fusion-megamenu-submenu > a.hover",this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:hover",this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:focus",this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:active",this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-wrapper .fusion-megamenu-submenu > a:focus-within",this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-wrapper .fusion-megamenu-holder .fusion-megamenu .fusion-megamenu-submenu"],this.addCssProperty(e,"font-size",this.values.submenu_font_size),"flyout"===this.values.submenu_mode&&(e=[this.baseSelector+".submenu-mode-flyout .fusion-close-flyout"],this.addCssProperty(e,"width",this.values.submenu_font_size),this.addCssProperty(e,"height",this.values.submenu_font_size))),this.isDefault("mobile_nav_button_align_hor")||(e=[],"on"===this.values.mobile_nav_trigger_fullwidth&&e.push(this.baseSelector+".mobile-trigger-fullwidth-on > .avada-menu-mobile-menu-trigger > .inner"),"never"!==this.values.breakpoint&&e.push(this.baseSelector+".collapse-enabled"),this.addCssProperty(e,"justify-content",this.values.mobile_nav_button_align_hor)),this.isDefault("mobile_nav_trigger_bottom_margin")||"never"===this.values.breakpoint||this.addCssProperty(this.baseSelector+".collapse-enabled .fusion-menu-element-list","margin-top",_.fusionGetValueWithUnit(this.values.mobile_nav_trigger_bottom_margin)),this.isDefault("submenu_text_transform")||this.addCssProperty(this.baseSelector+" .fusion-menu-element-list ul:not(.fusion-megamenu)","text-transform",this.values.submenu_text_transform),this.isDefault("icons_size")||this.addCssProperty([this.baseSelector+":not(.collapse-enabled) li.menu-item > .fusion-megamenu-icon",this.baseSelector+":not(.collapse-enabled) li.menu-item > a > .fusion-megamenu-icon",this.baseSelector+":not(.collapse-enabled) li.menu-item > a.fusion-menu-icon-search"],"font-size",_.fusionGetValueWithUnit(this.values.icons_size)),this.isDefault("icons_color")||(this.addCssProperty([this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li.menu-item > .fusion-megamenu-icon",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li.menu-item > a > .fusion-megamenu-icon"],"color",this.values.icons_color),this.addCssProperty([this.baseSelector+" .custom-menu-search-dropdown .fusion-main-menu-icon",this.baseSelector+" .custom-menu-search-overlay .fusion-menu-icon-search.trigger-overlay",this.baseSelector+" .custom-menu-search-overlay ~ .fusion-overlay-search"],"color",this.values.icons_color,!0)),this.addCssProperty([this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li.menu-item:hover > a .fusion-megamenu-icon",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li.menu-item.hover > a .fusion-megamenu-icon",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li.menu-item:focus > a .fusion-megamenu-icon",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li.menu-item:active > a .fusion-megamenu-icon",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li.menu-item:focus-within > a .fusion-megamenu-icon",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li.menu-item.current-menu-item > a .fusion-megamenu-icon",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li.menu-item.current-menu-ancestor > a .fusion-megamenu-icon",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li.menu-item.current-menu-parent > a .fusion-megamenu-icon",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list > li.menu-item.expanded > a .fusion-megamenu-icon"],"color",this.values.icons_hover_color),this.addCssProperty([this.baseSelector+" .custom-menu-search-dropdown:hover .fusion-main-menu-icon",this.baseSelector+" .custom-menu-search-overlay:hover .fusion-menu-icon-search.trigger-overlay",this.baseSelector+" .custom-menu-search-overlay:hover ~ .fusion-overlay-search"],"color",this.values.icons_hover_color,!0),this.isDefault("thumbnail_size_width")||(this.addCssProperty(this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-title .fusion-megamenu-image > img","width",this.values.thumbnail_size_width),this.addCssProperty(this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-title .fusion-megamenu-thumbnail > img","width",this.values.thumbnail_size_width)),this.isDefault("thumbnail_size_height")||(this.addCssProperty(this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-title .fusion-megamenu-image > img","height",this.values.thumbnail_size_height),this.addCssProperty(this.baseSelector+":not(.collapse-enabled) .fusion-megamenu-title .fusion-megamenu-thumbnail > img","height",this.values.thumbnail_size_width)),this.isDefault("mobile_trigger_font_size")||this.addCssProperty(this.baseSelector+" > .avada-menu-mobile-menu-trigger","font-size",this.values.mobile_trigger_font_size),"never"!==this.values.breakpoint&&(this.isDefault("mobile_bg")||(e=[this.baseSelector+".collapse-enabled ul li > a",this.baseSelector+".collapse-enabled ul li:hover .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li.hover .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li:focus .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li:active .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li:focus-within .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li.current-menu-item .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li.current-menu-ancestor .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li.current-menu-parent .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li.expanded .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li.custom-menu-search-inline",this.baseSelector+".collapse-enabled ul .fusion-menu-form-inline",this.baseSelector+".collapse-enabled ul li.fusion-menu-item-button",this.baseSelector+".collapse-enabled ul",this.baseSelector+".fusion-menu-element-wrapper.collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li"],this.addCssProperty(e,"background",this.values.mobile_bg,!0)),this.isDefault("mobile_color")||(e=[this.baseSelector+".collapse-enabled ul li > a",this.baseSelector+".collapse-enabled ul li > a .fusion-button",this.baseSelector+".collapse-enabled ul li > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li:hover .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li.hover .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li:focus .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li:active .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li:focus-within .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li.current-menu-item .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li.current-menu-ancestor .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li.current-menu-parent .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".collapse-enabled ul li.expanded .sub-menu li:not(.current-menu-item):not(.current-menu-ancestor):not(.current-menu-parent):not(.expanded) a",this.baseSelector+".fusion-menu-element-wrapper.collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li a"],this.addCssProperty(e,"color",this.values.mobile_color,!0)),this.isDefault("mobile_active_bg")||(e=[this.baseSelector+".collapse-enabled ul li:hover > a",this.baseSelector+".collapse-enabled ul li.hover > a",this.baseSelector+".collapse-enabled ul li:focus > a",this.baseSelector+".collapse-enabled ul li:active > a",this.baseSelector+".collapse-enabled ul li:focus-within > a",this.baseSelector+".collapse-enabled ul li.current-menu-item > a",this.baseSelector+".collapse-enabled ul li.current-menu-ancestor > a",this.baseSelector+".collapse-enabled ul li.current-menu-parent > a",this.baseSelector+".collapse-enabled ul li.expanded > a",this.baseSelector+".collapse-enabled ul li.fusion-menu-item-button:hover",this.baseSelector+".collapse-enabled ul li.fusion-menu-item-button.hover",this.baseSelector+".collapse-enabled ul li.fusion-menu-item-button:focus",this.baseSelector+".collapse-enabled ul li.fusion-menu-item-button:active",this.baseSelector+".collapse-enabled ul li.fusion-menu-item-button:focus-within",this.baseSelector+".collapse-enabled ul li.fusion-menu-item-button.current-menu-item",this.baseSelector+".collapse-enabled ul li.fusion-menu-item-button.current-menu-ancestor",this.baseSelector+".collapse-enabled ul li.fusion-menu-item-button.current-menu-parent",this.baseSelector+".collapse-enabled ul li.fusion-menu-item-button.expanded",this.baseSelector+".fusion-menu-element-wrapper.collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li.current-menu-item",this.baseSelector+".fusion-menu-element-wrapper.collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li:hover",this.baseSelector+".fusion-menu-element-wrapper.collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li:active",this.baseSelector+".fusion-menu-element-wrapper.collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li:focus",this.baseSelector+".fusion-menu-element-wrapper.collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li:focus-within"],this.addCssProperty(e,"background",this.values.mobile_active_bg,!0)),this.isDefault("mobile_active_color")||(e=[this.baseSelector+".collapse-enabled ul li:hover > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li.hover > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li:focus > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li:active > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li:focus-within > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li:hover > a",this.baseSelector+".collapse-enabled ul li.hover > a",this.baseSelector+".collapse-enabled ul li:focus > a",this.baseSelector+".collapse-enabled ul li:active > a",this.baseSelector+".collapse-enabled ul li:focus-within > a",this.baseSelector+".collapse-enabled ul li.current-menu-item > a",this.baseSelector+".collapse-enabled ul li.current-menu-ancestor > a",this.baseSelector+".collapse-enabled ul li.current-menu-parent > a",this.baseSelector+".collapse-enabled ul li.expanded > a",this.baseSelector+".collapse-enabled ul li:hover > a .fusion-button",this.baseSelector+".collapse-enabled ul li.hover > a .fusion-button",this.baseSelector+".collapse-enabled ul li:focus > a .fusion-button",this.baseSelector+".collapse-enabled ul li:active > a .fusion-button",this.baseSelector+".collapse-enabled ul li:focus-within > a .fusion-button",this.baseSelector+".collapse-enabled ul li.current-menu-item > a .fusion-button",this.baseSelector+".collapse-enabled ul li.current-menu-ancestor > a .fusion-button",this.baseSelector+".collapse-enabled ul li.current-menu-parent > a .fusion-button",this.baseSelector+".collapse-enabled ul li.expanded > a .fusion-button",this.baseSelector+".collapse-enabled ul li:hover > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li.hover > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li:focus > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li:active > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li:focus-within > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li.current-menu-item > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li.current-menu-parent > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul li.current-menu-ancestor > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.current-menu-ancestor > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.current-menu-parent > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.expanded > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:hover > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.hover > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:focus > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:active > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:focus-within > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:hover > a",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.hover > a",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:focus > a",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:active > a",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:focus-within > a",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.current-menu-item > a",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.current-menu-ancestor > a",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.current-menu-parent > a",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.expanded > a",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:hover > a:hover",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.hover > a:hover",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:focus > a:hover",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:active > a:hover",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:focus-within > a:hover",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.current-menu-item > a:hover",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.current-menu-ancestor > a:hover",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.current-menu-parent > a:hover",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.expanded > a:hover",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:hover > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.hover > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:focus > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:active > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li:focus-within > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.current-menu-item > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.current-menu-ancestor > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.current-menu-parent > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled ul.sub-menu.sub-menu li.expanded > .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li.current-menu-item a",this.baseSelector+".collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li:hover a",this.baseSelector+".collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li:active a",this.baseSelector+".collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li:focus a",this.baseSelector+".collapse-enabled .fusion-megamenu-menu .fusion-megamenu-wrapper .fusion-megamenu-holder ul li:focus-within a"],this.addCssProperty(e,"color",this.values.mobile_active_color,!0)),this.isDefault("mobile_sep_color")||(e=[this.baseSelector+".collapse-enabled li:not(:last-child)",this.baseSelector+".collapse-enabled li.menu-item.expanded .fusion-megamenu-wrapper ul.fusion-megamenu li.menu-item-has-children .fusion-megamenu-title",this.baseSelector+".collapse-enabled li.menu-item:not(.expanded)"],this.addCssProperty(e,"border-bottom-color",this.values.mobile_sep_color,!0),this.addCssProperty(this.baseSelector+".collapse-enabled li.menu-item.expanded .fusion-megamenu-wrapper","border-top-color",this.values.mobile_sep_color),this.addCssProperty(this.baseSelector+".collapse-enabled li.menu-item.menu-item-has-children ul.sub-menu li.menu-item-has-children.expanded>ul.sub-menu","border-top-color",this.values.mobile_sep_color)),this.isDefault("mobile_nav_items_height")||(e=[this.baseSelector+".collapse-enabled ul li > a",this.baseSelector+".collapse-enabled .fusion-open-nav-submenu-on-click:before",this.baseSelector+".collapse-enabled li.menu-item"],this.addCssProperty(e,"min-height",_.fusionGetValueWithUnit(this.values.mobile_nav_items_height))),this.isDefault("mobile_font_size")||this.addCssProperty([this.baseSelector+".collapse-enabled .fusion-menu-element-list li a",this.baseSelector+".collapse-enabled .fusion-menu-element-list li a .fusion-button",this.baseSelector+".collapse-enabled .fusion-menu-element-list li .fusion-open-nav-submenu:before",this.baseSelector+".collapse-enabled .fusion-megamenu-wrapper .fusion-megamenu-holder .fusion-megamenu-submenu .fusion-megamenu-title a"],"font-size",this.values.mobile_font_size),e=[this.baseSelector+".collapse-enabled",this.baseSelector+".collapse-enabled ul li > a",this.baseSelector+".collapse-enabled ul li > a .fusion-button",this.baseSelector+".collapse-enabled .fusion-megamenu-wrapper .fusion-megamenu-holder .fusion-megamenu-submenu .fusion-megamenu-title a"],i=_.fusionGetFontStyle("mobile_typography",this.values,"object"),jQuery.each(i,function(t,i){o.addCssProperty(e,t,i)})),this.isDefault("box_shadow")||(e=[this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list ul",this.baseSelector+":not(.collapse-enabled) .fusion-menu-element-list .fusion-megamenu-wrapper",this.baseSelector+":not(.collapse-enabled) .custom-menu-search-dropdown .fusion-menu-searchform-dropdown .fusion-search-form-content"],this.addCssProperty(e,"box-shadow",_.fusionGetBoxShadowStyle(this.values))),css=this.parseCSS(),css?"<style>"+css+"</style>":""},parseCSS:function(){var e="";return"object"!=typeof this.dynamic_css?"":(_.each(this.dynamic_css,function(t,i){"object"==typeof t&&(e+=i+"{",_.each(t,function(t,i){e+=i+":"+t+";"}),e+="}")}),e)},buildAttr:function(){var e=this.values.active_border_bottom&&""!==this.values.active_border_bottom&&0!==parseInt(this.values.active_border_bottom)?"yes":"no",t=this.values.active_border_left&&""!==this.values.active_border_left&&0!==parseInt(this.values.active_border_left)?"yes":"no",i=this.values.active_border_right&&""!==this.values.active_border_right&&0!==parseInt(this.values.active_border_right)?"yes":"no",o="row"!==this.values.direction?"opacity":this.values.expand_transition,n={class:["fusion-menu-element-wrapper","direction-"+this.values.direction,"mode-"+this.values.collapsed_mode,"expand-method-"+this.values.expand_method,"submenu-mode-"+this.values.submenu_mode,"mobile-mode-"+this.values.mobile_nav_mode,"mobile-size-"+this.values.mobile_nav_size,"icons-position-"+this.values.icons_position,"dropdown-carets-"+this.values.dropdown_carets,"has-active-border-bottom-"+e,"has-active-border-left-"+t,"has-active-border-right-"+i,"mobile-trigger-fullwidth-"+this.values.mobile_nav_trigger_fullwidth,"mobile-indent-"+this.values.mobile_indent_submenu,"mobile-justify-"+this.values.mobile_justify_content,"main-justify-"+this.values.main_justify_content].join(" "),style:""};return 0<=this.values.arrows.indexOf("active")&&(n.class+=" active-item-arrows-on"),0<=this.values.arrows.indexOf("main")&&(n.class+=" dropdown-arrows-parent"),0<=this.values.arrows.indexOf("submenu")&&(n.class+=" dropdown-arrows-child"),"flyout"===this.values.submenu_mode&&(n.class+=" submenu-flyout-direction-"+this.values.submenu_flyout_direction),"flyout"!==this.values.submenu_mode&&(n.class+=" expand-"+this.values.expand_direction),"dropdown"===this.values.submenu_mode&&(n.class+=" submenu-transition-"+o),n["data-count"]=this.model.get("cid"),this.addUnitsWhereRequired(),"small"===this.values.breakpoint?n["data-breakpoint"]=FusionApp.settings.visibility_small:"medium"===this.values.breakpoint?n["data-breakpoint"]=FusionApp.settings.visibility_medium:"large"===this.values.breakpoint?n["data-breakpoint"]=1e4:"custom"===this.values.breakpoint&&(n["data-breakpoint"]=parseInt(this.values.custom_breakpoint)),n.class+=_.fusionGetStickyClass(this.values.sticky_display),n["data-transition-type"]=this.values.transition_type,""!==this.values.class&&(n.class+=" "+this.values.class),""!==this.values.id&&(n.id=this.values.id),n=_.fusionAnimations(this.values,n),n=_.fusionVisibilityAtts(this.values.hide_on_mobile,n)},addUnitsWhereRequired:function(){var e=this.values;_.each(["margin_top","margin_bottom","items_padding_top","items_padding_bottom","items_padding_left","items_padding_right","gap","font_size","min_height","border_top","border_bottom","border_left","border_right","active_border_top","active_border_bottom","active_border_left","active_border_right","border_radius_top_left","border_radius_top_right","border_radius_bottom_right","border_radius_bottom_left","submenu_border_radius_top_left","submenu_border_radius_top_right","submenu_border_radius_bottom_right","submenu_border_radius_bottom_left","submenu_space","arrows_size_width","arrows_size_height","submenu_items_padding_top","submenu_items_padding_bottom","submenu_items_padding_left","submenu_items_padding_right","submenu_font_size","box_shadow_horizontal","box_shadow_spread","box_shadow_vertical","thumbnail_size_width","thumbnail_size_height","trigger_padding_top","trigger_padding_right","trigger_padding_bottom","trigger_padding_left","mobile_trigger_font_size"],function(t){void 0===e[t]||""===e[t]||isNaN(e[t])||(e[t]=e[t].trim()+"px")}),this.values=e}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_video=FusionPageBuilder.ElementView.extend({onRender:function(){this.afterPatch()},afterPatch:function(){var e=this.model.get("params"),t=this.$el.find("video");this.$el.removeClass("fusion-element-alignment-right fusion-element-alignment-left"),void 0===e.alignment||"right"!==e.alignment&&"left"!==e.alignment||this.$el.addClass("fusion-element-alignment-"+e.alignment),this.refreshVideo(t,e)},refreshVideo:function(e,t){e.length&&void 0!==e.get(0)&&(e.get(0).load(),"yes"===t.autoplay?e.get(0).play():e.get(0).pause(),e.get(0).muted="yes"===t.mute)},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.wrapperAttr=this.buildWrapperAttr(e.values),t.videoAttr=this.buildVideoAttr(e.values),t.video_webm=e.values.video_webm,t.video=e.values.video,t},validateValues:function(e){var t=void 0!==e.border_radius_top_left&&""!==e.border_radius_top_left?_.fusionGetValueWithUnit(e.border_radius_top_left):"0px",i=void 0!==e.border_radius_top_right&&""!==e.border_radius_top_right?_.fusionGetValueWithUnit(e.border_radius_top_right):"0px",o=void 0!==e.border_radius_bottom_right&&""!==e.border_radius_bottom_right?_.fusionGetValueWithUnit(e.border_radius_bottom_right):"0px",n=void 0!==e.border_radius_bottom_left&&""!==e.border_radius_bottom_left?_.fusionGetValueWithUnit(e.border_radius_bottom_left):"0px";e.border_radius=t+" "+i+" "+o+" "+n,e.border_radius="0px 0px 0px 0px"===e.border_radius?"":e.border_radius,"yes"===e.box_shadow&&(e.box_shadow=_.fusionGetBoxShadowStyle(e)+";")},buildAttr:function(e){var t={class:"fusion-video fusion-selfhosted-video fusion-video-"+this.model.get("cid"),style:""};return t=_.fusionVisibilityAtts(e.hide_on_mobile,t),""!==e.alignment&&(t.class+=" fusion-align"+e.alignment),""!==e.margin_top&&(t.style+="margin-top:"+_.fusionGetValueWithUnit(e.margin_top)+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+_.fusionGetValueWithUnit(e.margin_bottom)+";"),""!==e.width&&(t.style+="max-width:"+e.width+";"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildWrapperAttr:function(e){var t={class:"video-wrapper",style:"width:100%;"};return e.border_radius&&""!==e.border_radius&&(t.style+="border-radius:"+e.border_radius+";"),"no"!==e.box_shadow&&(t.style+="box-shadow:"+e.box_shadow+";"),""!==e.overlay_color&&(1===jQuery.Color(e.overlay_color).alpha()&&(e.overlay_color=jQuery.Color(e.overlay_color).alpha(.5).toRgbaString()),t.class+=" fusion-video-overlay",t.style+="background-color:"+e.overlay_color+";"),t},buildVideoAttr:function(e){var t={playsinline:"true",width:"100%",style:"object-fit: cover;"};return"yes"===e.autoplay&&(t.autoplay="true"),"yes"===e.mute&&(t.muted="true"),"yes"===e.loop&&(t.loop="true"),""!==e.preview_image&&(t.poster=e.preview_image),""!==e.preload&&(t.preload=e.preload),"yes"===e.controls&&(t.controls=!0),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_vimeo=FusionPageBuilder.ElementView.extend({afterPatch:function(){this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values,e.params),t.attr=this.buildAttr(e.values),t.attrSrc=this.buildAttrSrc(e.values),t.values=e.values,t},validateValues:function(e,t){var i=e.id.match(/(?:https?:\/\/)?(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/);i&&2<i.length&&(e.id=i[3]),void 0===t.width||""===t.width||void 0!==t.height&&""!==t.height||(e.height=Math.round(9*parseInt(t.width)/16)),void 0===t.height||""===t.height||void 0!==t.width&&""!==t.width||(e.width=Math.round(16*parseInt(t.height)/9)),e.height=_.fusionValidateAttrValue(e.height,""),e.width=_.fusionValidateAttrValue(e.width,"")},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-video fusion-vimeo",style:""});return"yes"===e.center?t.class+=" center-video":t.style+="max-width:"+e.width+"px;max-height:"+e.height+"px;",""!==e.alignment&&(t.class+=" fusion-align"+e.alignment,t.style+=" width:100%"),"true"!=e.autoplay&&"yes"!==e.autoplay||(t["data-autoplay"]="1"),""!==e.class&&(t.class+=" "+e.class),""!==e.css_id&&(t.id=e.css_id),t},buildAttrSrc:function(e){var t={class:"video-shortcode"};return"yes"===e.center&&(t.style="max-width:"+e.width+"px;max-height:"+e.height+"px;"),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_postslider=FusionPageBuilder.ElementView.extend({flexsliderVars:{},onRender:function(){this.afterPatch()},beforePatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-post-slider.fusion-flexslider"));void 0!==e.data("flexslider")&&(this.flexsliderVars=e.data("flexslider").vars,e.flexslider("destroy"))},afterPatch:function(){var e=this,t=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-post-slider.fusion-flexslider")),i="0"!==FusionApp.settings.slideshow_smooth_height;_.isEmpty(e.flexsliderVars)||(e.flexsliderVars.controlNav="attachments"!==e.model.attributes.params.layout||"thumbnails"),e.flexsliderVars.smoothHeight=i,0<t.length&&setTimeout(function(){void 0!==t.flexslider&&t.flexslider(e.flexsliderVars)},300)},filterTemplateAtts:function(e){var t={};return t.sliderAttr=this.buildSliderAttr(e.values),void 0!==e.query_data&&(t.datasets=this.buildDatasetAttr(e.values,e.query_data)),t.thumbAttr=this.buildThumbAttr(e.values),t.cid=this.model.get("cid"),t.query_data=e.query_data,t.values=e.values,t},buildSliderAttr:function(e){var t={class:"fusion-flexslider fusion-post-slider fusion-flexslider-loading flexslider-"+e.layout};return t=_.fusionVisibilityAtts(e.hide_on_mobile,t),"yes"===e.lightbox&&"attachments"===e.layout&&(t.class+=" flexslider-lightbox"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildDatasetAttr:function(e,t){var i=this,o={};return _.each(t.datasets,function(t,n){o[n]={},o[n].link_attributes=i.buildLinkAttr(t,e.layout),o[n].image_attributes=i.buildImageAttr(t),"attachments"===e.layout?o[n].li_attributes=i.buildListElementAttr(t):o[n].title_link_attributes=i.buildTitleLinkAttr(t)}),o},buildLinkAttr:function(e,t){var i={};return"attachments"===t?(i.href=e.image,i["data-title"]=e.title,i["data-caption"]=e.caption,i.title=e.title,i["data-rel"]="prettyPhoto[flex_"+this.model.get("cid")+"]"):"posts"!==t&&"posts-with-excerpt"!==t||(i.href=e.permalink,i["data-title"]=e.title_attribute),i},buildImageAttr:function(e){var t={};return t.src=e.image,t.alt=e.alt,t},buildListElementAttr:function(e){var t={};return t["data-thumb"]=e.thumb,t},buildTitleLinkAttr:function(e){var t={};return t.href=e.permalink,t},buildThumbAttr:function(e){var t={class:"flexslider"};return"attachments"===e.layout&&(t.class+=" fat"),t}})}),_.extend(FusionPageBuilder.Callback.prototype,{fusion_post_slider_query:function(e,t,i,o,n,s,a,r){r.changeParam(e,t),i.params.post_id="","attachments"===i.params.layout&&(i.params.post_id=FusionApp.data.postDetails.post_id),jQuery.ajax({url:fusionAppConfig.ajaxurl,type:"post",dataType:"json",data:{action:"get_fusion_post_slider",params:i.params}}).done(function(e){a.set("query_data",e),r.reRender()})}});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_login=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){return this.extras=e.extras,e.values.action="login",e.loginShortCodeAttr=this.buildLoginShortCodeAttr(e.values),e.loginShortcodeFormAttr=this.buildLoginShortcodeFormAttr(e.values),e.loginShortcodeButton=this.buildLoginShortcodeButtonAttr(e.values),e.loggedIn=!0,e.styles=this.buildLoginStyle(e.values),e.cid=this.model.get("cid"),e},buildLoginShortCodeAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-login-box fusion-login-box-cid"+this.model.get("cid")+" fusion-login-box-"+e.action+" fusion-login-align-"+e.text_align+" fusion-login-field-layout-"+e.form_field_layout});return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildLoginShortcodeFormAttr:function(e){var t={class:"fusion-login-form"};return""!==e.form_background_color&&(t.style="background-color:"+e.form_background_color+";"),t.name=e.action+"form",t.id=e.action+"form",t.method="post",t.action="",t},buildLoginShortcodeButtonAttr:function(e){var t={class:"fusion-login-button fusion-button button-default button-"+this.extras.button_size};return"yes"!==e.button_fullwidth&&(t.class+=" fusion-login-button-no-fullwidth"),t.type="submit",t.name="wp-submit",t},buildLoginStyle:function(e){var t="",i=this.model.get("cid");return""!==e.heading_color&&(t+=".fusion-login-box-cid"+i+" .fusion-login-heading{color:"+e.heading_color+";}"),""!==e.caption_color&&(t+=".fusion-login-box-cid"+i+" .fusion-login-caption{color:"+e.caption_color+";}"),""!==e.link_color&&(t+=".fusion-login-box-cid"+i+" a{color:"+e.link_color+";}"),""!==t&&(t='<style type="text/css">'+t+"</style>"),e.label_class="yes"===e.show_labels?"fusion-login-label":"fusion-hidden-content",t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_register=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){return this.extras=e.extras,e.values.action="register",e.loginShortCodeAttr=this.buildLoginShortCodeAttr(e.values),e.loginShortcodeFormAttr=this.buildLoginShortcodeFormAttr(e.values),e.loginShortcodeButton=this.buildLoginShortcodeButtonAttr(e.values),e.loggedIn=!0,e.styles=this.buildRegisterStyles(e.values),e.cid=this.model.get("cid"),e},buildLoginShortCodeAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-login-box fusion-login-box-cid"+this.model.get("cid")+" fusion-login-box-"+e.action+" fusion-login-align-"+e.text_align+" fusion-login-field-layout-"+e.form_field_layout});return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildLoginShortcodeFormAttr:function(e){var t={class:"fusion-login-form"};return""!==e.form_background_color&&(t.style="background-color:"+e.form_background_color+";"),t.name=e.action+"form",t.id=e.action+"form",t.method="post",t.action="",t},buildLoginShortcodeButtonAttr:function(e){var t={class:"fusion-login-button fusion-button button-default button-"+this.extras.button_size};return"yes"!==e.button_fullwidth&&(t.class+=" fusion-login-button-no-fullwidth"),t.type="submit",t.name="wp-submit",t},buildRegisterStyles:function(e){var t="",i=this.model.get("cid");return""!==e.heading_color&&(t+=".fusion-login-box-cid"+i+" .fusion-login-heading{color:"+e.heading_color+";}"),""!==e.caption_color&&(t+=".fusion-login-box-cid"+i+" .fusion-login-caption{color:"+e.caption_color+";}"),""!==e.link_color&&(t+=".fusion-login-box-cid"+i+" a{color:"+e.link_color+";}"),""!==t&&(t='<style type="text/css">'+t+"</style>"),e.label_class="yes"===e.show_labels?"fusion-login-label":"fusion-hidden-content",t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_lost_password=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){return this.extras=e.extras,e.values.action="lostpassword",e.loginShortCodeAttr=this.buildLoginShortCodeAttr(e.values),e.loginShortcodeFormAttr=this.buildLoginShortcodeFormAttr(e.values),e.loginShortcodeButton=this.buildLoginShortcodeButtonAttr(e.values),e.loggedIn=!0,e.styles=this.buildForgotPassStyles(e.values),e.cid=this.model.get("cid"),e},buildLoginShortCodeAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-login-box fusion-login-box-cid"+this.model.get("cid")+" fusion-login-box-"+e.action+" fusion-login-align-"+e.text_align});return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildLoginShortcodeFormAttr:function(e){var t={class:"fusion-login-form"};return""!==e.form_background_color&&(t.style="background-color:"+e.form_background_color+";"),t.name=e.action+"form",t.id=e.action+"form",t.method="post",t.action="",t},buildLoginShortcodeButtonAttr:function(e){var t={class:"fusion-login-button fusion-button button-default button-"+this.extras.button_size};return"yes"!==e.button_fullwidth&&(t.class+=" fusion-login-button-no-fullwidth"),t.type="submit",t.name="wp-submit",t},buildForgotPassStyles:function(e){var t="",i=this.model.get("cid");return""!==e.heading_color&&(t+=".fusion-login-box-cid"+i+" .fusion-login-heading{color:"+e.heading_color+";}"),""!==e.caption_color&&(t+=".fusion-login-box-cid"+i+" .fusion-login-caption{color:"+e.caption_color+";}"),""!==e.link_color&&(t+=".fusion-login-box-cid"+i+" a{color:"+e.link_color+";}"),""!==t&&(t='<style type="text/css">'+t+"</style>"),e.label_class="yes"===e.show_labels?"fusion-login-label":"fusion-hidden-content",t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_featured_products_slider=FusionPageBuilder.ElementView.extend({afterPatch:function(){this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.wooFeaturedProductsSliderShortcode={},t.wooFeaturedProductsSliderShortcodeCarousel={},t.product_list=!1,t.placeholder=!1,void 0!==e.query_data&&void 0!==e.query_data.products?(t.wooFeaturedProductsSliderShortcode=this.buildWooFeaturedProductsSliderShortcodeAttr(e.values),t.wooFeaturedProductsSliderShortcodeCarousel=this.buildWooFeaturedProductsSliderShortcodeCarousel(e.values),t.product_list=this.buildProductList(e.values,e.extras,e.query_data)):void 0!==e.query_data&&void 0!==e.query_data.placeholder&&(t.placeholder=e.query_data.placeholder),t.show_nav=e.values.show_nav,t},validateValues:function(e){e.column_spacing=_.fusionValidateAttrValue(e.column_spacing,"")},buildWooFeaturedProductsSliderShortcodeAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-woo-featured-products-slider fusion-woo-slider"});return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildWooFeaturedProductsSliderShortcodeCarousel:function(e){var t={class:"fusion-carousel"};return"title_below_image"===e.carousel_layout?(t.class+=" fusion-carousel-title-below-image",t["data-metacontent"]="yes"):t.class+=" fusion-carousel-title-on-rollover",t["data-autoplay"]=e.autoplay,t["data-columns"]=e.columns,t["data-itemmargin"]=e.column_spacing,t["data-itemwidth"]=180,t["data-touchscroll"]=e.mouse_scroll,t["data-imagesize"]=e.picture_size,t["data-scrollitems"]=e.scroll_items,t},buildProductList:function(e,t,i){var o="yes"===e.show_cats?"enable":"disable",n="yes"===e.show_price,s="yes"===e.show_buttons,a="fusion-"+t.design_class+"-product-image-wrapper",r="fixed"===e.picture_size?"shop_single":"full",l="";return _.each(i.products,function(t){var u=t.image_data,d=jQuery.inArray(t.id,i.items_in_cart),c="";u.image_size=r,u.display_woo_sale="yes"===e.show_sale,"title_on_rollover"===e.carousel_layout?(u.image_size=r,u.display_woo_price=n,u.display_woo_buttons=s,u.display_post_categories=o,u.display_post_title="enable",u.display_rollover="yes",c=_.fusionFeaturedImage(u)):(u.image_size=r,u.display_woo_price=!1,u.display_woo_buttons=s,u.display_post_categories="disable",u.display_post_title="disable",u.display_rollover="yes","yes"===e.show_buttons?c=_.fusionFeaturedImage(u):(u.display_rollover="no",c=_.fusionFeaturedImage(u)),c+='<h4 class="fusion-carousel-title">',c+='<a href="'+t.permalink+'" target="_self">'+t.title+"</a>",c+="</h4>",c+='<div class="fusion-carousel-meta">',!0!==o&&"enable"!==o||(c+=t.terms),!0!==n&&"enable"!==n||(c+='<div class="fusion-carousel-price">'+t.price+"</div>"),c+="</div>"),l+=-1!==d?'<li class="fusion-carousel-item"><div class="'+a+' fusion-item-in-cart"><div class="fusion-carousel-item-wrapper">'+c+"</div></div></li>":'<li class="fusion-carousel-item"><div class="'+a+'"><div class="fusion-carousel-item-wrapper">'+c+"</div></div></li>"}),l}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_highlight=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return t.attr=this.buildAttr(e.values),t.output=e.values.element_content,t},buildAttr:function(e){var t={class:"fusion-highlight"},i=100*jQuery.Color(e.color).lightness();return e.text_color?t.class+=" custom-textcolor":t.class+=50<i?" light":" dark",""!==e.class&&(t.class+=" "+e.class),"yes"===e.rounded&&(t.class+=" rounded"),""!==e.id&&(t.id=e.id),"black"===e.color?t.class+=" highlight2":t.class+=" highlight1",t.style="background-color:"+e.color+";",e.text_color&&(t.style+="color:"+e.text_color+";"),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_search=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.wrapperAttr=this.buildAttr(e.values),t.formAttr=this.buildFormAttr(e.values),t.formStyles=this.buildStyles(e.values),t.cid=this.model.get("cid"),t.values=e.values,t},validateValues:function(e){e.border_width&&(e.border_width=_.fusionValidateAttrValue(e.border_width,"px"),e.border_size_top=""!==e.border_size_top?e.border_width:e.border_size_top,e.border_size_right=""!==e.border_size_right?e.border_width:e.border_size_right,e.border_size_bottom=""!==e.border_size_bottom?e.border_width:e.border_size_bottom,e.border_size_left=""!==e.border_size_left?e.border_width:e.border_size_left,delete e.border_width),e.margin_top=_.fusionValidateAttrValue(e.margin_top,"px"),e.margin_right=_.fusionValidateAttrValue(e.margin_right,"px"),e.margin_bottom=_.fusionValidateAttrValue(e.margin_bottom,"px"),e.margin_left=_.fusionValidateAttrValue(e.margin_left,"px"),e.input_height=_.fusionValidateAttrValue(e.input_height,"px"),e.border_radius=_.fusionValidateAttrValue(e.border_radius,"px")},buildFormAttr:function(e){var t={class:"searchform fusion-search-form fusion-live-search"};return e.design&&(t.class+=" fusion-search-form-"+e.design),t},buildStyles:function(e){var t='<style type="text/css">';return""!==e.input_height&&(t+=".fusion-search-element-"+this.model.get("cid")+" .searchform .fusion-search-form-content .fusion-search-field input,",t+=".fusion-search-element-"+this.model.get("cid")+" .searchform .fusion-search-form-content .fusion-search-button input[type=submit] {",t+="height: "+e.input_height+";",t+="}",t+=".fusion-search-element-"+this.model.get("cid")+" .searchform .fusion-search-form-content .fusion-search-button input[type=submit] {",t+="line-height: "+e.input_height+";",t+="}",t+=".fusion-search-element-"+this.model.get("cid")+" .searchform.fusion-search-form-clean .fusion-search-form-content .fusion-search-field input {",t+="padding-left: "+e.input_height+";",t+="}",t+=".fusion-search-element-"+this.model.get("cid")+" .searchform .fusion-search-form-content .fusion-search-button input[type=submit] {",t+="width: "+e.input_height+";",t+="}"),""!==e.text_color&&(t+=".fusion-search-element-"+this.model.get("cid")+" .searchform .fusion-search-form-content .fusion-search-field input,",t+=".fusion-search-element-"+this.model.get("cid")+" .searchform .fusion-search-form-content .fusion-search-field input::placeholder,",t+=".fusion-search-element-"+this.model.get("cid")+" .searchform.fusion-search-form-clean .fusion-search-form-content .fusion-search-button input[type=submit] {",t+="color: "+e.text_color+";",t+="}"),""!==e.focus_border_color&&(t+=".fusion-search-element-"+this.model.get("cid")+" .searchform .fusion-search-form-content .fusion-search-field input:focus {",t+="border-color: "+e.focus_border_color+";",t+="}"),""!==e.text_size&&(t+=".fusion-search-element-"+this.model.get("cid")+" .searchform .fusion-search-form-content .fusion-search-field input,",t+=".fusion-search-element-"+this.model.get("cid")+" .searchform.fusion-search-form-clean .fusion-search-form-content .fusion-search-button input[type=submit] {",t+="font-size: "+e.text_size+";",t+="}"),t+=".fusion-search-element-"+this.model.get("cid")+" .searchform .fusion-search-form-content .fusion-search-field input {",""!==e.bg_color&&(t+="background-color: "+e.bg_color+";"),""!==e.border_size_top&&(t+="border-top-width:"+_.fusionGetValueWithUnit(e.border_size_top)+";"),""!==e.border_size_right&&(t+="border-right-width:"+_.fusionGetValueWithUnit(e.border_size_right)+";"),""!==e.border_size_bottom&&(t+="border-bottom-width:"+_.fusionGetValueWithUnit(e.border_size_bottom)+";"),""!==e.border_size_left&&(t+="border-left-width:"+_.fusionGetValueWithUnit(e.border_size_left)+";"),""!==e.border_color&&(t+="border-color: "+e.border_color+";"),t+="}",""!==e.border_radius&&(t+=".fusion-search-element-"+this.model.get("cid")+" .searchform.fusion-search-form-classic .fusion-search-form-content, .fusion-search-form-classic .searchform:not(.fusion-search-form-clean) .fusion-search-form-content {",t+="border-radius: "+e.border_radius+";",t+="overflow: hidden;",t+="}",t+=".fusion-search-element-"+this.model.get("cid")+" .fusion-search-form-content input.s {",t+="border-radius: "+e.border_radius+";",t+="}"),t+="</style>"},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-search-element fusion-search-element-"+this.model.get("cid"),style:""});return t.class+=_.fusionGetStickyClass(e.sticky_display),e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),e.class&&(t.class+=" "+e.class),t.id=e.id,t=_.fusionAnimations(e,t)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_syntax_highlighter=FusionPageBuilder.ElementView.extend({onRender:function(){var e=this;setTimeout(function(){e.fusionSyntaxHighlighter(e.$el.find("textarea")[0])},500)},beforePatch:function(){this.syntaxHighlighter.toTextArea(),this.$el.find(".CodeMirror").remove()},afterPatch:function(){jQuery(this.$el.find("textarea")[0]).val(this.output),this.fusionSyntaxHighlighter(this.$el.find("textarea")[0])},fusionSyntaxHighlighter:function(e){var t,i;(i={}).readOnly=void 0!==jQuery(e).attr("data-readonly")&&jQuery(e).attr("data-readonly"),i.lineNumbers=void 0!==jQuery(e).attr("data-linenumbers")&&jQuery(e).attr("data-linenumbers"),i.lineWrapping=void 0!==jQuery(e).attr("data-linewrapping")&&jQuery(e).attr("data-linewrapping"),i.theme=void 0!==jQuery(e).attr("data-theme")?jQuery(e).attr("data-theme"):"default",i.mode=void 0!==jQuery(e).attr("data-mode")?jQuery(e).attr("data-mode"):"text/html",t=wp.CodeMirror.fromTextArea(e,i),jQuery(e).addClass("code-mirror-initialized"),jQuery(e).data("code-mirror",t),t.setSize("100%","auto"),jQuery(document).trigger("resize"),jQuery(e).closest(".fusion-syntax-highlighter-container").css("opacity","1"),this.syntaxHighlighter=t},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),this.extras=e.extras,t.syntaxAttr=this.buildSyntaxAttr(e.values),t.textareaAttr=this.buildTextareaAttr(e.values),t.syntaxHighlighterCopyCodeTitleAttr=this.buildSyntaxHighlighterCopyCodeTitleAttr(e.values),t.styles=this.buildStyles(e.values),t.cid=this.model.get("cid"),t.output=e.values.element_content,this.output=e.values.element_content,t.wp_enqueue_code_editor=e.extras.wp_enqueue_code_editor,t.copy_to_clipboard=e.values.copy_to_clipboard,t.copy_to_clipboard_text=e.values.copy_to_clipboard_text,t},validateValues:function(e){e.margin_top=_.fusionValidateAttrValue(e.margin_top,"px"),e.margin_left=_.fusionValidateAttrValue(e.margin_left,"px"),e.margin_bottom=_.fusionValidateAttrValue(e.margin_bottom,"px"),e.margin_right=_.fusionValidateAttrValue(e.margin_right,"px"),e.border_size=_.fusionValidateAttrValue(e.border_size,"px"),e.font_size=_.fusionValidateAttrValue(e.font_size,"px"),""===e.theme&&(e.background_color=this.extras.syntax_highlighter_background_color),void 0!==e.element_content&&""!==e.element_content&&(e.element_content&&FusionPageBuilderApp.base64Encode(FusionPageBuilderApp.base64Decode(e.element_content))===e.element_content&&(e.element_content=FusionPageBuilderApp.base64Decode(e.element_content)),e.element_content=e.element_content.replace(/<br \/>/g,""))},buildSyntaxAttr:function(e){var t,i=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-syntax-highlighter-container",style:""});return i.class+=" fusion-syntax-highlighter-cid"+this.model.get("cid"),t="default"===e.theme||"elegant"===e.theme?"light":"dark",i.class+=" fusion-syntax-highlighter-theme-"+t,void 0!==e.class&&""!==e.class&&(i.class+=" "+e.class),void 0!==e.id&&""!==e.id&&(i.id=e.id),void 0!==e.margin_top&&""!==e.margin_top&&(i.style+="margin-top:"+e.margin_top+";"),void 0!==e.margin_left&&""!==e.margin_left&&(i.style+="margin-left:"+e.margin_left+";"),void 0!==e.margin_bottom&&""!==e.margin_bottom&&(i.style+="margin-bottom:"+e.margin_bottom+";"),void 0!==e.margin_right&&""!==e.margin_right&&(i.style+="margin-right:"+e.margin_right+";"),void 0!==e.font_size&&""!==e.font_size&&(i.style+="font-size:"+e.font_size+";"),void 0!==e.border_size&&""!==e.border_size&&(i.style+="border-width:"+e.border_size+";",""!==e.border_style&&(i.style+="border-style:"+e.border_style+";"),""!==e.border_color&&(i.style+="border-color:"+e.border_color+";")),this.extras.wp_enqueue_code_editor||""===e.background_color||(i.style+="background-color:"+e.background_color+";",i.style+="padding: 0 1em"),i},buildTextareaAttr:function(e){var t,i={class:"fusion-syntax-highlighter-textarea",id:"fusion_syntax_highlighter_"+this.model.get("cid"),style:""},o={readOnly:"nocursor",lineNumbers:"yes"===e.line_numbers||"",lineWrapping:"break"===e.line_wrapping||"",theme:e.theme};return""!==e.language&&(t="json"===e.language||"xml"===e.language?"application":"text",o.mode=t+"/"+e.language),_.each(o,function(e,t){i["data-"+t]=e}),i},buildSyntaxHighlighterCopyCodeTitleAttr:function(e){var t={class:"syntax-highlighter-copy-code-title",style:""};return t["data-id"]="fusion_syntax_highlighter_"+this.model.get("cid"),e.font_size&&(t.style+="font-size:"+e.font_size+";"),t},buildStyles:function(e){var t='<style type="text/css" scopped="scopped">',i=this.model.get("cid");return e.background_color&&""!==e.background_color&&(t+=".fusion-syntax-highlighter-cid"+i+" > .CodeMirror, .fusion-syntax-highlighter-cid"+i+" > .CodeMirror .CodeMirror-gutters { background-color:"+e.background_color+";}"),"no"!==e.line_numbers&&(t+=".fusion-syntax-highlighter-cid"+i+" > .CodeMirror .CodeMirror-gutters { background-color: "+e.line_number_background_color+"; }",t+=".fusion-syntax-highlighter-cid"+i+" > .CodeMirror .CodeMirror-linenumber { color: "+e.line_number_text_color+"; }"),t+="</style>"}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tabs=FusionPageBuilder.ParentElementView.extend({onRender:function(){var e=this;jQuery(window).on("load",function(){e._refreshJs()})},afterPatch:function(){var e=this,t=window.FusionPageBuilderViewManager.getChildViews(this.model.get("cid"));this.appendChildren(".nav-tabs"),_.each(t,function(t){e.appendContents(t)}),this._refreshJs()},refreshJs:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-fusion_tabs",this.model.attributes.cid),this.checkActiveTab()},getActiveTab:function(){var e=this,t=window.FusionPageBuilderViewManager.getChildViews(this.model.get("cid"));_.each(t,function(t){t.$el.hasClass("active")&&e.model.set("activeTab",t.model.get("cid"))})},checkActiveTab:function(){var e=this,t=window.FusionPageBuilderViewManager.getChildViews(this.model.get("cid"));void 0!==this.model.get("activeTab")?(_.each(t,function(e){e.checkActive()}),e.$el.find(".fusion-extra-"+this.model.get("activeTab")).addClass("active in")):_.each(t,function(t){t.isFirstChild()&&e.$el.find(".fusion-extra-"+t.model.get("cid")).addClass("active in")})},filterTemplateAtts:function(e){return e.tabsShortcode=this.buildTabsShortcodeAttrs(e.values),e.styleTag=this.buildStyleTag(e.values),e.justifiedClass=this.setJustifiedClass(e.values),this.model.set("first",!0),e.cid=this.model.get("cid"),e},buildTabsShortcodeAttrs:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-tabs fusion-tabs-cid"+this.model.get("cid")+" "+e.design});return"yes"!==e.justified&&"vertical"!==e.layout&&(t.class+=" nav-not-justified"),""!==e.icon_position&&(t.class+=" icon-position-"+e.icon_position),""!==e.class&&(t.class+=" "+e.class),t.class+="vertical"===e.layout?" vertical-tabs":" horizontal-tabs","no"==e.show_tab_titles&&(t.class+=" woo-tabs-hide-headings"),""!==e.id&&(t.id=e.id),t},buildStyleTag:function(e){var t=this.model.get("cid"),i=".fusion-tabs.fusion-tabs-cid"+t+" .nav-tabs li a.tab-link{border-top-color:"+e.inactivecolor+";background-color:"+e.inactivecolor+";}";return"clean"!==e.design?(i+=".fusion-tabs.fusion-tabs-cid"+t+" .nav-tabs{background-color:"+e.backgroundcolor+";}",i+=".fusion-tabs.fusion-tabs-cid"+t+" .nav-tabs li.active a.tab-link,.fusion-tabs.fusion-tabs-cid"+t+" .nav-tabs li.active a.tab-link:hover,.fusion-tabs.fusion-tabs-cid"+t+" .nav-tabs li.active a.tab-link:focus{border-right-color:"+e.backgroundcolor+";}"):i="#wrapper .fusion-tabs.fusion-tabs-cid"+t+".clean .nav-tabs li a.tab-link{border-color:"+e.bordercolor+";}.fusion-tabs.fusion-tabs-cid"+t+" .nav-tabs li a.tab-link{background-color:"+e.inactivecolor+";}",i+=".fusion-tabs.fusion-tabs-cid"+t+" .nav-tabs li.active a.tab-link,.fusion-tabs.fusion-tabs-cid"+t+" .nav-tabs li.active a.tab-link:hover,.fusion-tabs.fusion-tabs-cid"+t+" .nav-tabs li.active a.tab-link:focus{background-color:"+e.backgroundcolor+";}",i+=".fusion-tabs.fusion-tabs-cid"+t+" .nav-tabs li a.tab-link:hover{background-color:"+e.backgroundcolor+";border-top-color:"+e.backgroundcolor+";}",i+=".fusion-tabs.fusion-tabs-cid"+t+" .tab-pane{background-color:"+e.backgroundcolor+";}",i='<style type="text/css">'+(i+=".fusion-tabs.fusion-tabs-cid"+t+" .nav,.fusion-tabs.fusion-tabs-cid"+t+" .nav-tabs,.fusion-tabs.fusion-tabs-cid"+t+" .tab-content .tab-pane{border-color:"+e.bordercolor+";}")+"</style>"},setJustifiedClass:function(e){var t="";return"yes"===e.justified&&"vertical"!==e.layout&&(t=" nav-justified"),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tab=FusionPageBuilder.ChildElementView.extend({onRender:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors))},beforePatch:function(){window.FusionPageBuilderViewManager.getView(this.model.get("parent")).getActiveTab()},afterPatch:function(){var e=window.FusionPageBuilderViewManager.getView(this.model.get("parent"));this.updateExtraContents(),void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),this.refreshJs(),e._refreshJs()},filterTemplateAtts:function(e){return e.tabsShortcodeTab=this.buildTabsShortcodeTabAttr(e.values),e.tabsShortcodeIcon=this.buildTabsShortcodeIconAttr(e),e.tabsShortcodeLink=this.buildTabsShortcodeLinkAttr(e.values),e.justifiedClass=this.setJustifiedClass(e.values),e.cid=this.model.get("cid"),e.parent=this.model.get("parent"),e.parentValues=this.getParentValues(e),e.output=e.values.element_content,e},checkActive:function(){var e=window.FusionPageBuilderViewManager.getView(this.model.get("parent"));void 0!==e.model.get("activeTab")&&(e.model.get("activeTab")===this.model.get("cid")?this.$el.addClass("active"):this.$el.removeClass("active"))},buildTabsShortcodeTabAttr:function(){var e;return(e={class:"tab-pane fade fusion-extra-"+this.model.get("cid")}).id="tabcid"+this.model.get("cid"),e},buildTabsShortcodeIconAttr:function(e){var t=e.parentValues,i=e.values,o={class:"fontawesome-icon "+_.fusionFontAwesome(i.icon),"aria-hidden":"true"};return t.icon_size&&(o.style="font-size: "+t.icon_size+"px"),o},buildTabsShortcodeLinkAttr:function(e){var t={class:"tab-link"},i="string"==typeof e.title?e.title.replace(/\s+/g,"").toLowerCase():"";return t["data-toggle"]="tab",t.id="fusion-tab-"+i,t.href="#tabcid"+this.model.get("cid"),t},setJustifiedClass:function(e){var t="";return"yes"===e.justified&&"vertical"!==e.layout&&(t=" nav-justified"),t},getParentValues:function(e){var t=FusionPageBuilderElements.find(function(t){return t.get("cid")==e.parent});return jQuery.extend(!0,{},fusionAllElements.fusion_tabs.defaults,_.fusionCleanParameters(t.get("params")))}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_table=FusionPageBuilder.ElementView.extend({beforePatch:function(){var e,t,i=this.model.get("params");e=void 0===this.$el.find('[data-param="element_content"]').html()?i.element_content:this.$el.find('[data-param="element_content"]').html(),t=jQuery.parseHTML(e.trim()),jQuery(t).attr("class").replace(/[^\d.]/g,"")!==i.fusion_table_type&&(t=this.generateTable(t),window.FusionPageBuilderApp.setContent("element_content",jQuery(t).prop("outerHTML")))},filterTemplateAtts:function(e){var t,i,o,n,s,a,r={},l=e.params,u=this.buildAttr(l);return void 0!==l.fusion_table_type&&""!==l.fusion_table_type&&(l.element_content=l.element_content.replace(/<div .*?">/g,"<div "+_.fusionGetAttributes(u)+">")),this.renderedYet||(t=jQuery.parseHTML(l.element_content.trim()),o=(i=jQuery(t).find("tbody > tr")).length+1,s=jQuery(t).find("th").length,n=i.first().children("td").length,a=Math.max(s,n),void 0!==l.fusion_table_columns&&l.fusion_table_columns!==a&&(l.fusion_table_columns=a,this.model.set("params",l)),void 0===l.fusion_table_rows&&l.fusion_table_rows===o||(l.fusion_table_rows=o,this.model.set("params",l))),void 0!==l.fusion_table_columns&&""===l.fusion_table_columns&&void 0!==l.fusion_table_rows&&""===l.fusion_table_rows&&(l.fusion_table_columns=2,l.fusion_table_rows=2),void 0!==l.fusion_table_columns&&""!==l.fusion_table_columns&&(t=jQuery.parseHTML(l.element_content.trim()),t=this.generateTable(t),l.element_content=jQuery(t).prop("outerHTML"),this.model.set("params",l)),r.cid=this.model.get("cid"),r.element_content=l.element_content,r},buildAttr:function(e){var t,i={};return void 0!==e.fusion_table_type&&""!==e.fusion_table_type&&("1"!==(t=e.element_content.charAt(19))&&"2"!==t||t===e.fusion_table_type||(e.fusion_table_type=t),i=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"table-"+e.fusion_table_type}),i=_.fusionAnimations(e,i),""!==e.class&&(i.class+=" "+e.class),""!==e.id&&(i.id=e.id)),i},generateTable:function(e){var t,i,o=this.model.get("params"),n=void 0!==o.fusion_table_rows?parseInt(o.fusion_table_rows,10):0,s=parseInt(o.fusion_table_columns,10),a=jQuery(e).find("tbody > tr"),r=jQuery(e).find("th").length,l=a.first().children("td").length,u=a.length+1,d=Math.max(r,l),c="";if(n>u)for(t=u;t<n;t++){for(c="",i=1;i<=s;i++)c+='<td align="left">Column '+i+" Value "+t+"</td>";jQuery(e).find("tbody").append("<tr>"+c+"</tr>")}else if(n<u&&0!==n)for(t=n+1;t<=u;t++)jQuery(e).find("tbody > tr").last().remove();if(s>d)for(t=d+1;t<=s;t++)jQuery(e).find("thead tr").append('<th align="left">Column '+t+"</th>"),jQuery(e).find("tbody tr").each(function(e){var i=0<e?" "+(e+1):"";jQuery(this).append('<td align="left">Column '+t+" Value"+i+"</td>")});else if(s<d)for(t=s+1;t<=d;t++)jQuery(e).find("thead th").last().remove(),jQuery(e).find("tbody tr").each(function(){jQuery(this).find("td").last().remove()});return e},onOptionChange:function(e,t,i){var o;switch(e){case"fusion_table_rows":case"fusion_table_columns":this.model.attributes.params[e]=t,o=jQuery.parseHTML(this.model.attributes.params.element_content.trim()),o=this.generateTable(o),window.FusionPageBuilderApp.setContent("element_content",jQuery(o).prop("outerHTML"))}}})}),jQuery(document).ready(function(){jQuery("body").on("change","#fusion_table_type, #sliderfusion_table_rows, #sliderfusion_table_columns",function(){var e,t,i,o=jQuery(this).closest(".fusion_table");o.find("#fusion_table_type").val(),o.find("#sliderfusion_table_rows").val(),o.find("#sliderfusion_table_columns").val();e=!0===FusionPageBuilderApp.shortcodeGenerator?fusionBuilderGetContent("generator_element_content"):fusionBuilderGetContent("element_content"),i=function(e,t){var i,o,n=t.find("#fusion_table_type").val(),s=parseInt(t.find("#sliderfusion_table_rows").val()),a=parseInt(t.find("#sliderfusion_table_columns").val()),r=jQuery(e).attr("class").replace(/[^\d.]/g,""),l=jQuery(e).find("tbody > tr"),u=jQuery(e).find("th").length,d=l.first().children("td").length,c=l.length+1,h=Math.max(u,d),m="";r!==n&&jQuery(e).attr("class",jQuery(e).attr("class").replace(r,n));if(s>c)for(jQuery(e).find("tbody").length||jQuery(e).find("thead").after("<tbody></tbod>"),i=c;i<s;i++){for(m="",o=1;o<=a;o++)m+='<td align="left">Column '+o+" Value "+i+"</td>";jQuery(e).find("tbody").append("<tr>"+m+"</tr>")}else if(s<c&&0!==s)for(i=s+1;i<=c;i++)jQuery(e).find("tbody > tr").last().remove();if(a>h)for(i=h+1;i<=a;i++)jQuery(e).find("thead tr").append('<th align="left">Column '+i+"</th>"),jQuery(e).find("tbody tr").each(function(e){var t=0<e?" "+(e+1):"";jQuery(this).append('<td align="left">Column '+i+" Value"+t+"</td>")});else if(a<h)for(i=a+1;i<=h;i++)jQuery(e).find("thead th").last().remove(),jQuery(e).find("tbody tr").each(function(){jQuery(this).find("td").last().remove()});return e}(i=jQuery.parseHTML(e.trim()),o),t=jQuery(i).prop("outerHTML"),setTimeout(function(){!0===FusionPageBuilderApp.shortcodeGenerator?FusionPageBuilderApp.fusionBuilderSetContent("generator_element_content",t):FusionPageBuilderApp.fusionBuilderSetContent("element_content",t)},100)})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_progress=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.attrBar=this.buildBarAttr(e.values),t.attrSpan=this.buildSpanAttr(e.values),t.attrEditor=this.buildInlineEditorAttr(e.values),t.attrContent=this.buildContentAttr(e.values),t.cid=this.model.get("cid"),t.values=e.values,t},validateValues:function(e){e.filledbordersize=_.fusionValidateAttrValue(e.filledbordersize,"px")},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-progressbar",style:""});return"above_bar"===e.text_position?t.class+=" fusion-progressbar-text-above-bar":"below_bar"===e.text_position?t.class+=" fusion-progressbar-text-below-bar":t.class+=" fusion-progressbar-text-on-bar",""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildInlineEditorAttr:function(){var e={class:"fusion-progressbar-text"};return e=_.fusionInlineEditor({cid:this.model.get("cid"),"disable-return":!0,"disable-extra-spaces":!0,toolbar:"simple"},e)},buildContentAttr:function(e){var t={class:"progress progress-bar-content",role:"progressbar",style:""};return t.style+="width:"+e.percentage+"%;",t.style+="background-color:"+e.filledcolor+";",""!==e.filledbordersize&&""!==e.filledbordercolor&&(t.style+="border: "+e.filledbordersize+" solid "+e.filledbordercolor+";"),t},buildBarAttr:function(e){var t={class:"fusion-progressbar-bar progress-bar",style:""};return t.style+="background-color:"+e.unfilledcolor+";",""!==e.height&&(t.style+="height:"+e.height+";"),"yes"===e.striped&&(t.class+=" progress-striped"),"yes"===e.animated_stripes&&(t.class+=" active"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildSpanAttr:function(e){var t={class:"progress-title",style:""};return t.style+="color:"+e.textcolor+";",t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_recent_posts=FusionPageBuilder.ElementView.extend({onRender:function(){var e=this;jQuery("#fb-preview")[0].contentWindow.jQuery(document).ready(function(){e.afterPatch()})},beforePatch:function(){var e=this.$el.find(".fusion-recent-posts .flexslider");_.each(e,function(e){void 0!==(e=jQuery("#fb-preview")[0].contentWindow.jQuery(e)).data("flexslider")&&e.flexslider("destroy")})},afterPatch:function(){var e=this.$el.find(".fusion-recent-posts .flexslider");setTimeout(function(){_.each(e,function(e){"function"==typeof(e=jQuery("#fb-preview")[0].contentWindow.jQuery(e)).flexslider&&e.flexslider()})},300)},validateValues:function(e){e.excerpt="hide"===e.excerpt?"no":e.excerpt},filterTemplateAtts:function(e){var t=3,i={},o={},n={},s={},a={},r={class:"fusion-flexslider flexslider"};return this.validateValues(e.values),void 0!==this.model.attributes.query_data&&void 0!==this.model.attributes.query_data.posts&&(""!==e.values.columns&&(t=12/parseInt(e.values.columns,10)),n.class="fusion-column column col col-lg-"+t+" col-md-"+t+" col-sm-"+t,"5"===e.values.columns&&(n.class="fusion-column column col-lg-2 col-md-2 col-sm-2"),n=_.fusionAnimations(e.values,n),"thumbnails-on-side"===e.values.layout&&(r.class+=" floated-slideshow"),""!==e.values.hover_type&&(r.class+=" flexslider-hover-type-"+e.values.hover_type),""!==e.values.hover_type&&(s.class="hover-type-"+e.values.hover_type),o=_.fusionVisibilityAtts(e.values.hide_on_mobile,{class:"fusion-recent-posts avada-container layout-"+e.values.layout+" layout-columns-"+e.values.columns}),""!==e.values.class&&(o.class+=" "+e.values.class),""!==e.values.id&&(o.id=e.values.id),a.class="fusion-columns columns fusion-columns-"+e.values.columns+" columns-"+e.values.columns),"auto"===e.values.picture_size?e.values.image_size="full":"default"===e.values.layout?e.values.image_size="recent-posts":e.values.image_size="portfolio-five",i.metaInfoSettings={},i.metaInfoSettings.post_meta="yes"===e.values.meta,i.metaInfoSettings.post_meta_author="yes"===e.values.meta_author,i.metaInfoSettings.post_meta_date="yes"===e.values.meta_date,i.metaInfoSettings.post_meta_cats="yes"===e.values.meta_categories,i.metaInfoSettings.post_meta_tags="yes"===e.values.meta_tags,i.metaInfoSettings.post_meta_comments="yes"===e.values.meta_comments,i.metaInfoSettings.disable_date_rich_snippet_pages=e.extras.disable_date_rich_snippet_pages,i.query_data=e.query_data,i.extras=e.extras,i.values=e.values,i.recentPostsShortcode=o,i.recentPostsShortcodeColumn=n,i.recentPostsShortcodeImgLink=s,i.recentPostsShortcodeSection=a,i.recentPostsShortcodeSlideshow=r,i}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_products_slider=FusionPageBuilder.ElementView.extend({afterPatch:function(){this._refreshJs()},filterTemplateAtts:function(e){var t={wooProductSliderShortcode:{},wooProductSliderShortcodeCarousel:{},productList:!1,placeholder:!1};return t.showNav=e.values.show_nav,this.validateValues(e.values),void 0!==e.query_data&&void 0!==e.query_data.products?(t.wooProductSliderShortcode=this.buildWooProductSliderShortcodeAttr(e.values),t.wooProductSliderShortcodeCarousel=this.buildWooProductSliderShortcodeCarousel(e.values),t.productList=this.buildProductList(e.values,e.extras,e.query_data)):void 0!==e.query_data&&void 0!==e.query_data.placeholder&&(t.placeholder=e.query_data.placeholder),t},validateValues:function(e){e.column_spacing=_.fusionValidateAttrValue(e.column_spacing,"")},buildWooProductSliderShortcodeAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-woo-product-slider fusion-woo-slider"});return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildWooProductSliderShortcodeCarousel:function(e){var t={class:"fusion-carousel"};return"title_below_image"===e.carousel_layout?(t.class+=" fusion-carousel-title-below-image",t["data-metacontent"]="yes"):t.class+=" fusion-carousel-title-on-rollover",t["data-autoplay"]=e.autoplay,t["data-columns"]=e.columns,t["data-itemmargin"]=e.column_spacing,t["data-itemwidth"]=180,t["data-touchscroll"]=e.mouse_scroll,t["data-imagesize"]=e.picture_size,t["data-scrollitems"]=e.scroll_items,t},buildProductList:function(e,t,i){var o,n,s,a="",r="fusion-"+t.box_design+"-product-image-wrapper",l="full";return o="yes"===e.show_cats?"enable":"disable",n="yes"===e.show_price,s="yes"===e.show_buttons,"fixed"===e.picture_size&&(l="portfolio-five"),_.each(i.products,function(t){var u=jQuery.inArray(t.id,i.items_in_cart),d="",c=t.image_data;c.image_size=l,c.display_woo_sale="yes"===e.show_sale,"title_on_rollover"===e.carousel_layout?(c.image_size=l,c.display_woo_price=n,c.display_woo_buttons=s,c.display_post_categories=o,c.display_post_title="enable",c.display_rollover="yes",d=_.fusionFeaturedImage(c)):(c.image_size=l,c.display_woo_price=!1,c.display_woo_buttons=s,c.display_post_categories="disable",c.display_post_title="disable",c.display_rollover="yes","yes"===e.show_buttons?d=_.fusionFeaturedImage(c):(c.display_rollover="no",d=_.fusionFeaturedImage(c)),d+='<h4 class="fusion-carousel-title">',d+='<a href="'+t.permalink+'" target="_self">'+t.title+"</a>",d+="</h4>",d+='<div class="fusion-carousel-meta">',!0!==o&&"enable"!==o||(d+=t.terms),!0!==n&&"enable"!==n||(d+='<div class="fusion-carousel-price">'+t.price+"</div>"),d+="</div>"),a+=-1!==u?'<li class="fusion-carousel-item"><div class="'+r+' fusion-item-in-cart"><div class="fusion-carousel-item-wrapper">'+d+"</div></div></li>":'<li class="fusion-carousel-item"><div class="'+r+'"><div class="fusion-carousel-item-wrapper">'+d+"</div></div></li>"}),a}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_slider=FusionPageBuilder.ParentElementView.extend({afterPatch:function(){this.generateChildElements(),this._refreshJs()},filterTemplateAtts:function(e){var t,i={},o=window.FusionPageBuilderApp.findShortcodeMatches(e.params.element_content,"fusion_slide");return this.model.attributes.showPlaceholder=!1,1<=o.length&&(t=o[0].match(window.FusionPageBuilderApp.regExpShortcode("fusion_slide")),this.model.attributes.showPlaceholder=void 0===t[5]||""===t[5]||"undefined"===t[5]),this.validateValues(e.values),i.sliderShortcode=this.buildSliderAttr(e.values),i},validateValues:function(e){e.width=_.fusionValidateAttrValue(e.width,"px"),e.height=_.fusionValidateAttrValue(e.height,"px"),void 0!==e.margin_top&&""!==e.margin_top&&(e.margin_top=_.fusionGetValueWithUnit(e.margin_top)),void 0!==e.margin_right&&""!==e.margin_right&&(e.margin_right=_.fusionGetValueWithUnit(e.margin_right)),void 0!==e.margin_bottom&&""!==e.margin_bottom&&(e.margin_bottom=_.fusionGetValueWithUnit(e.margin_bottom)),void 0!==e.margin_left&&""!==e.margin_left&&(e.margin_left=_.fusionGetValueWithUnit(e.margin_left)),e.slideshow_autoplay="yes"===e.slideshow_autoplay||"1"===e.slideshow_autoplay,e.slideshow_smooth_height="yes"===e.slideshow_smooth_height||"1"===e.slideshow_smooth_height},buildSliderAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-slider-sc flexslider"});return!0===this.model.attributes.showPlaceholder&&(t.class+=" fusion-show-placeholder"),""!==e.hover_type&&(t.class+=" flexslider-hover-type-"+e.hover_type),""!==e.alignment&&(t.class+=" fusion-align"+e.alignment),-1!==e.width.indexOf("px")&&-1!==e.height.indexOf("px")&&(t.class+=" fusion-slider-sc-cover"),""!==e.slideshow_autoplay&&(t["data-slideshow_autoplay"]=e.slideshow_autoplay?"1":"0"),""!==e.slideshow_smooth_height&&(t["data-slideshow_smooth_height"]=e.slideshow_smooth_height?"1":"0"),""!==e.slideshow_speed&&(t["data-slideshow_speed"]=e.slideshow_speed),t.style="max-width:"+e.width+";height:"+e.height+";",e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_slide=FusionPageBuilder.ChildElementView.extend({beforeRemove:function(){var e=window.FusionPageBuilderViewManager.getView(this.model.get("parent"));void 0!==jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.closest(".flexslider:not(.tfs-slider)")).data("flexslider")&&jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.closest(".flexslider:not(.tfs-slider)")).flexslider("destroy"),!1===e.model.attributes.showPlaceholder&&1===e.model.children.length&&(this.$el.closest(".fusion-slider-sc").addClass("fusion-show-placeholder"),e.model.attributes.showPlaceholder=!0)},onRender:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.model.attributes.selectors.class+="video"===this.model.attributes.params.type?" video":" image",this.setElementAttributes(this.$el,this.model.attributes.selectors))},afterPatch:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.model.attributes.selectors.class+="video"===this.model.attributes.params.type?" video":" image",this.setElementAttributes(this.$el,this.model.attributes.selectors)),this._refreshJs()},beforePatch:function(){var e=window.FusionPageBuilderViewManager.getView(this.model.get("parent"));!0===e.model.attributes.showPlaceholder&&("undefined"!==this.model.attributes.params.image&&""!==this.model.attributes.params.image||"undefined"!==this.model.attributes.params.video&&""!==this.model.attributes.params.video)&&(this.$el.closest(".fusion-slider-sc").removeClass("fusion-show-placeholder"),e.model.attributes.showPlaceholder=!1)},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.sliderShortcodeSlideLink=this.buildSlideLinkAttr(e.values),t.sliderShortcodeSlideLi=this.buildLiAttr(e.values),t.sliderShortcodeSlideImg=this.buildImgAttr(e.values),t.sliderShortcodeSlideImgWrapper=this.buildSlideImgWrapperAttr(e.values),t.link=e.values.link,t.type=e.values.type,t.video=e.values.video,t.elementContent=e.values.element_content,t.cid=this.model.get("cid"),t.parent=this.model.get("parent"),t},validateValues:function(e){e.alt="",e.title="",e.src=e.element_content?e.element_content.replace("&#215;","x"):""},buildSlideLinkAttr:function(e){var t={};return"yes"===e.lightbox&&(t.class="lightbox-enabled",t["data-rel"]="prettyPhoto[gallery_slider_"+this.model.get("cid")+"]"),t.href=e.link,t.target=e.linktarget,"_blank"===t.target&&(t.rel="noopener noreferrer"),t.title=e.title,t},buildLiAttr:function(e){var t={class:"video"===e.type?"video":"image"};return this.model.set("selectors",t),t},buildImgAttr:function(e){return{src:e.image,alt:e.alt}},buildSlideImgWrapperAttr:function(){var e,t,i={},o=this.model.get("parent");return o&&(e=FusionPageBuilderElements.find(function(e){return e.get("cid")==o}),""!==(t=jQuery.extend(!0,{},fusionAllElements.fusion_slider.defaults,_.fusionCleanParameters(e.get("params")))).hover_type&&(i={class:"fusion-image-hover-element hover-type-"+t.hover_type})),i}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_images=FusionPageBuilder.ParentElementView.extend({imageMap:{},initialData:!1,afterPatch:function(){this.appendChildren(".fusion-carousel-holder"),this._refreshJs()},onRender:function(){var e=FusionPageBuilderViewManager.getView(this.model.get("parent"));setTimeout(function(){e&&"function"==typeof e._equalHeights&&e._equalHeights()},500)},filterTemplateAtts:function(e){var t,i,o={},n=window.FusionPageBuilderApp.findShortcodeMatches(e.params.element_content,"fusion_image");return this.model.attributes.showPlaceholder=!1,1<=n.length&&(i=""!==(t=n[0].match(window.FusionPageBuilderApp.regExpShortcode("fusion_image")))[3]?window.wp.shortcode.attrs(t[3]):"",this.model.attributes.showPlaceholder=void 0===i.named||void 0===i.named.image),this.validateValues(e.values),this.extras=e.extras,o.attr=this.buildAttr(e.values),o.attrCarousel=this.buildCarouselAttr(e.values),o.usingDynamic=void 0!==e.values.multiple_upload,o.show_nav=e.values.show_nav,o},validateValues:function(e){e.column_spacing=_.fusionValidateAttrValue(e.column_spacing,"px")},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-image-carousel",style:""});return t.class+=" fusion-image-carousel-"+e.picture_size,!0===this.model.attributes.showPlaceholder&&(t.class+=" fusion-show-placeholder"),"yes"===e.lightbox&&(t.class+=" lightbox-enabled"),"yes"===e.border&&(t.class+=" fusion-carousel-border"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildCarouselAttr:function(e){var t={class:"fusion-carousel",style:""};return t["data-autoplay"]=e.autoplay,t["data-columns"]=e.columns,t["data-itemmargin"]=e.column_spacing.toString(),t["data-itemwidth"]="180",t["data-touchscroll"]=e.mouse_scroll,t["data-imagesize"]=e.picture_size,t["data-scrollitems"]=e.scroll_items,t},onGenerateChildElements:function(e){this.addImagesToImageMap(e,!1,!1)},addImagesToImageMap:function(e,t,i){var o=this,n={};t=void 0===t||t,i=void 0===i||i,o.initialData=!0,_.each(e,function(e){var t=void 0!==e.get?e.get("params"):e.params,i=void 0!==e.get?e.get("cid"):e.cid,s=t.image;void 0===o.imageMap[s]&&s&&(n[i]=t)}),_.isEmpty(n)?i&&o.reRender():jQuery.ajax({async:t,url:window.fusionAppConfig.ajaxurl,type:"post",dataType:"json",data:{action:"get_fusion_image_carousel_children_data",children:n,fusion_load_nonce:window.fusionAppConfig.fusion_load_nonce}}).done(function(e){o.updateImageMap(e),_.each(e,function(e,t){void 0===o.imageMap[t]&&(o.imageMap[t]=e)}),o.model.set("query_data",e),i&&o.reRender()})},updateImageMap:function(e){var t=this.imageMap;_.each(e,function(e,i){void 0===t[i]&&(t[i]=e)})}}),_.extend(FusionPageBuilder.Callback.prototype,{fusion_carousel_images:function(e,t,i,o,n,s,a,r){r.model.attributes.params[e]=t,r.addImagesToImageMap(r.model.children.models,!0,r.initialData)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_image=FusionPageBuilder.ChildElementView.extend({onRender:function(){var e=this.model.get("query_data");void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),void 0!==e&&window.FusionPageBuilderViewManager.getView(this.model.get("parent")).updateImageMap(e)},beforePatch:function(){var e=window.FusionPageBuilderViewManager.getView(this.model.get("parent"));!0===e.model.attributes.showPlaceholder&&"undefined"!==this.model.attributes.params.image&&""!==this.model.attributes.params.image&&(this.$el.closest(".fusion-image-carousel").removeClass("fusion-show-placeholder"),e.model.attributes.showPlaceholder=!1)},beforeRemove:function(){var e=window.FusionPageBuilderViewManager.getView(this.model.get("parent"));!1===e.model.attributes.showPlaceholder&&1===e.model.children.length&&(this.$el.closest(".fusion-image-carousel").addClass("fusion-show-placeholder"),e.model.attributes.showPlaceholder=!0)},afterPatch:function(){var e=this.model.get("parent"),t=this.model.get("query_data");void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),setTimeout(function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-fusion_images",e)},10),void 0!==t&&window.FusionPageBuilderViewManager.getView(this.model.get("parent")).updateImageMap(t),this.refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),this.buildAttr(e.values),this.extras=e.extras,this.wrapperSelector(),t.attrCarouselLink=this.buildCarouselLinkAttr(e),t.attrImageWrapper=this.buildImageWrapperAttr(e),t.attrItemWrapper=this.buildItemWrapperAttr(e),t.imageElement=this.buildImageElement(e),t.cid=this.model.get("cid"),t.parent=this.model.get("parent"),t.output=e.values.element_content,t.mouseScroll=e.values.mouse_scroll,t.link=e.values.link,t.lightbox=e.parentValues.lightbox,t},validateValues:function(e){void 0!==e.element_content&&(e.element_content=e.element_content.trim(),e.element_content=e.element_content.replace(/(<p[^>]+?>|<p>|<\/p>)/gim,""))},buildAttr:function(){this.model.set("selectors",{class:"fusion-carousel-item"})},buildItemWrapperAttr:function(){return{class:"fusion-carousel-item-wrapper"}},buildImageElement:function(e){var t="full",i=e.values,o=e.parentValues,n=e.query_data,s=window.FusionPageBuilderViewManager.getView(this.model.get("parent"));return"fixed"===o.picture_size&&(t="portfolio-two","6"!==o.columns&&"5"!==o.columns&&"4"!==o.columns||(t="blog-medium")),void 0!==n&&void 0!==n[i.image]?n[i.image][t]:void 0!==s.imageMap[i.image]?s.imageMap[i.image][t]:'<img src="'+i.image+'" alt="'+i.alt+'"/>'},wrapperSelector:function(){this.model.set("selectors",{class:"fusion-carousel-item"})},buildCarouselLinkAttr:function(e){var t={},i=e.values,o=e.parentValues,n=e.query_data;return"yes"===o.lightbox&&(i.link&&null!==i.link||(i.link=i.image),t["data-rel"]="iLightbox[image_carousel_"+this.model.get("parent")+"]",void 0!==n&&void 0!==n.image_data&&(t["data-caption"]=n.image_data.caption,t["data-title"]=n.image_data.title,t["aria-label"]=n.image_data.title)),t.href=i.link,t.target=i.linktarget,"_blank"===i.linktarget&&(t.rel="noopener noreferrer"),t},buildImageWrapperAttr:function(e){var t={class:"fusion-image-wrapper"},i=e.parentValues;return i.hover_type&&(t.class+=" hover-type-"+i.hover_type),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_one_page_text_link=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return t.onePageTextLinkShortcode=this.buildShortcodeAttr(e.values),t.elementContent=e.values.element_content,t.inline=void 0!==e.inlineElement,t.cid=e.cid,t.label=window.fusionAllElements[this.model.get("element_type")].name,t.icon=window.fusionAllElements[this.model.get("element_type")].icon,t},buildShortcodeAttr:function(e){var t={class:"fusion-one-page-text-link"};return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t.href=e.link,t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_dropcap=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.output=e.values.element_content,t},validateValues:function(e){void 0!==e.element_content&&(e.element_content=e.element_content.trim(),e.element_content=e.element_content.replace(/(<p[^>]+?>|<p>|<\/p>)/gim,""))},buildAttr:function(e){var t=this.model.get("params"),i={class:"fusion-dropcap dropcap",style:""},o=void 0!==t.color&&""===t.color||void 0===t.color;return"yes"===e.boxed?(i.class+=" dropcap-boxed",(e.boxed_radius||"0"===e.boxed_radius)&&(e.boxed_radius="round"===e.boxed_radius?"50%":e.boxed_radius,i.style="border-radius:"+e.boxed_radius+";"),o||(i.style+="background-color:"+e.color+";",i.style+="color:"+e.text_color+";")):o||(i.style+="color:"+e.color+";"),""!==e.class&&(i.class+=" "+e.class),""!==e.id&&(i.id=e.id),i}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_flip_boxes=FusionPageBuilder.ParentElementView.extend({afterPatch:function(){this.generateChildElements(),this._refreshJs()},filterTemplateAtts:function(e){var t=this.computeAtts(e.values);return(e={}).flipBoxesShortcode=t,e},computeAtts:function(e){var t;return void 0!==e.image_width?e.image_width=e.image_width?e.image_width:"35":e.image_width=e.image_max_width,e.columns=Math.min(6,e.columns),(t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-flip-boxes flip-boxes row fusion-columns-"+e.columns})).class+=" flip-effect-"+e.flip_effect,"yes"===e.equal_heights&&(t.class+=" equal-heights"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id+=" "+e.id),t.class+=" fusion-child-element",t["data-empty"]=this.emptyPlaceholderText,t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_flip_box=FusionPageBuilder.ChildElementView.extend({onRender:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors))},afterPatch:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),this.refreshJs()},filterTemplateAtts:function(e){var t=this.computeAtts(e.values);return e.cid=this.model.get("cid"),e.parent=this.model.get("parent"),e.flipBoxShortcodeBackBox=t.flipBoxShortcodeBackBox,e.flipBoxAttributes=t.flipBoxAttributes,e.flipBoxShortcodeFrontBox=t.flipBoxShortcodeFrontBox,e.icon_output=t.icon_output,e.title_front_output=t.title_front_output,e.title_back_output=t.title_back_output,e.icon_output=t.icon_output,e},computeAtts:function(e){var t,i,o,n,s=this.model.get("parent"),a=FusionPageBuilderElements.find(function(e){return e.get("cid")==s}),r=void 0!==a?jQuery.extend(!0,{},fusionAllElements.fusion_flip_boxes.defaults,_.fusionCleanParameters(a.get("params"))):{},l=this.model.get("params"),u="",d={"aria-hidden":"true"},c="",h="",m="",p="",f="",g="",b="",v="";return e.border_size=_.fusionValidateAttrValue(e.border_size,"px"),e.border_radius=_.fusionValidateAttrValue(e.border_radius,"px"),void 0!==l.image&&""!==l.image||void 0===l.icon||""===l.icon||(e.image=""),void 0!==l.image_width&&l.image_width?e.image_width=l.image_width:e.image_width=e.image_max_width,e.image_width=_.fusionValidateAttrValue(e.image_width,""),void 0===e.image||""===e.image&&""===e.image_id?(e.image_width=""===e.image_width?"35":e.image_width,e.image_height="35"):(-1===parseInt(e.image_width)&&(e.image_width="35"),e.image_height=e.image_width),"round"===e.border_radius&&(e.border_radius="50%"),c="",p="",b="",(u={class:"fusion-flip-box",tabindex:0}).class+=" flip-"+e.flip_direction,e.animation_type&&(u=_.fusionAnimations(e,u)),e.image&&""!==e.image?c='<img src="'+e.image+'" width="'+e.image_width+'" height="'+e.image_height+'" alt="'+e.alt+'" />':e.icon&&(e.image?d.class="image":e.icon&&(d.class=_.fusionFontAwesome(e.icon)),e.icon_color&&(d.style="color:"+e.icon_color+";"),e.icon_flip&&(d.class+=" fa-flip-"+e.icon_flip),e.icon_rotate&&(d.class+=" fa-rotate-"+e.icon_rotate),"yes"===e.icon_spin&&(d.class+=" fa-spin"),c="<i "+_.fusionGetAttributes(d)+"></i>"),""!==c&&(h={class:"flip-box-grafix"},e.image?h.class+=" flip-box-image":"yes"===e.circle?(h.class+=" flip-box-circle",e.circle_color&&(h.style="background-color:"+e.circle_color+";"),e.circle_border_color&&(h.style+="border-color:"+e.circle_border_color+";")):h.class+=" flip-box-no-circle",c="<div "+_.fusionGetAttributes(h)+">"+c+"</div>"),""!==e.title_front&&(m={class:"flip-box-heading"},e.text_front||(m.class+=" without-text"),e.title_front_color&&(m.style="color:"+e.title_front_color+";"),p="<h2 "+_.fusionGetAttributes(m)+">"+e.title_front+"</h2>"),""!==e.title_back&&(f={class:"flip-box-heading-back"},e.title_back_color&&(f.style="color:"+e.title_back_color+";"),b="<h3 "+_.fusionGetAttributes(f)+">"+e.title_back+"</h3>"),e.text_front,i={class:"flip-box-front",style:""},e.background_color_front&&(i.style+="background-color:"+e.background_color_front+";"),e.border_color&&(i.style+="border-color:"+e.border_color+";"),e.border_radius&&(i.style+="border-radius:"+e.border_radius+";"),e.border_size&&(i.style+="border-style:solid;border-width:"+e.border_size+";"),e.text_front_color&&(i.style+="color:"+e.text_front_color+";"),r.flip_duration&&(i.style+="transition-duration:"+r.flip_duration+"s;"),e.background_image_front&&(i.style+="background-image: url('"+e.background_image_front+"');",e.background_color_front&&1>(n=jQuery.Color(e.background_color_front).alpha())&&0!==n&&(i.style+="background-blend-mode: overlay;")),g={class:"flip-box-back",style:""},e.background_color_back&&(g.style+="background-color:"+e.background_color_back+";"),e.border_color&&(g.style+="border-color:"+e.border_color+";"),e.border_radius&&(g.style+="border-radius:"+e.border_radius+";"),e.border_size&&(g.style+="border-style:solid;border-width:"+e.border_size+";"),e.text_back_color&&(g.style+="color:"+e.text_back_color+";"),r.flip_duration&&(g.style+="transition-duration:"+r.flip_duration+"s;"),e.background_image_back&&(g.style+="background-image: url('"+e.background_image_back+"');",e.background_color_back&&1>(n=jQuery.Color(e.background_color_back).alpha())&&0!==n&&(g.style+="background-blend-mode: overlay;")),v=1,r.columns&&(v=12/parseInt(r.columns,10)),t={class:"fusion-flip-box-wrapper fusion-column col-lg-"+v+" col-md-"+v+" col-sm-"+v},5===parseInt(r.columns,10)&&(t.class="fusion-flip-box-wrapper col-lg-2 col-md-2 col-sm-2"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),this.model.set("selectors",t),(o={}).flipBoxShortcodeBackBox=g,o.flipBoxAttributes=u,o.flipBoxShortcodeFrontBox=i,o.icon_output=c,o.title_front_output=p,o.title_back_output=b,o.icon_output=c,o}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_accordion=FusionPageBuilder.ParentElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.toggleShortcode=this.buildToggleAttr(e.values),t.toggleShortcodePanelGroup=this.buildPanelGroupAttr(e.values),t.styles=this.buildStyles(e.values),t},validateValues:function(e){e.icon_size=_.fusionValidateAttrValue(e.icon_size,"px"),e.border_size=_.fusionValidateAttrValue(e.border_size,"px"),e.title_font_size=_.fusionValidateAttrValue(e.title_font_size,"px")},buildToggleAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"accordian fusion-accordian"});return" "!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildPanelGroupAttr:function(e){var t={class:"panel-group fusion-child-element",id:"accordion-cid"+this.model.get("cid")};return"right"===e.icon_alignment&&(t.class+=" fusion-toggle-icon-right"),"0"!==e.icon_boxed_mode&&"no"!==e.icon_boxed_mode||(t.class+=" fusion-toggle-icon-unboxed"),t["data-empty"]=this.emptyPlaceholderText,t},buildStyles:function(e){var t="",i=this.model.get("cid");return""!==e.title_font_size&&(t+=".fusion-accordian  #accordion-cid"+i+" .panel-title a{ font-size: "+e.title_font_size+";}"),""!==e.icon_size&&(t+=".fusion-accordian  #accordion-cid"+i+" .panel-title a .fa-fusion-box:before{ font-size: "+e.icon_size+"; width: "+e.icon_size+";}"),""!==e.icon_color&&(t+=".fusion-accordian  #accordion-cid"+i+" .panel-title a .fa-fusion-box{ color: "+e.icon_color+";}"),"right"===e.icon_alignment&&(t+=".fusion-accordian  #accordion-cid"+i+".fusion-toggle-icon-right .fusion-toggle-heading{ margin-right: "+(parseInt(e.icon_size,10)+18)+"px;}"),"1"!==e.icon_boxed_mode&&"yes"!==e.icon_boxed_mode||_.isEmpty(e.icon_box_color)||(t+=".fusion-accordian  #accordion-cid"+i+" .fa-fusion-box { background-color: "+e.icon_box_color+";border-color: "+e.icon_box_color+";}"),_.isEmpty(e.toggle_hover_accent_color)||(t+=".fusion-accordian  #accordion-cid"+i+" .panel-title a:hover, #accordion-cid"+i+" .fusion-toggle-boxed-mode:hover .panel-title a { color: "+e.toggle_hover_accent_color+";}",t+=".fusion-accordian  #accordion-cid"+i+" .panel-title a.hover, #accordion-cid"+i+" .fusion-toggle-boxed-mode.hover .panel-title a { color: "+e.toggle_hover_accent_color+";}","1"===e.icon_boxed_mode||"yes"===e.icon_boxed_mode?(t+=".fusion-accordian  #accordion-cid"+i+" .panel-title .active .fa-fusion-box,",t+=".fusion-accordian  #accordion-cid"+i+" .panel-title a:hover .fa-fusion-box { background-color: "+e.toggle_hover_accent_color+"!important;border-color: "+e.toggle_hover_accent_color+"!important;}",t+=".fusion-accordian  #accordion-cid"+i+" .panel-title a.hover .fa-fusion-box { background-color: "+e.toggle_hover_accent_color+"!important;border-color: "+e.toggle_hover_accent_color+"!important;}"):(t+=".fusion-accordian  #accordion-cid"+i+" .fusion-toggle-boxed-mode:hover .panel-title a .fa-fusion-box{ color: "+e.toggle_hover_accent_color+";}",t+=".fusion-accordian  #accordion-cid"+i+".fusion-toggle-icon-unboxed .fusion-panel .panel-title a:hover .fa-fusion-box{ color: "+e.toggle_hover_accent_color+" !important;}",t+=".fusion-accordian  #accordion-cid"+i+" .fusion-toggle-boxed-mode.hover .panel-title a .fa-fusion-box{ color: "+e.toggle_hover_accent_color+";}",t+=".fusion-accordian  #accordion-cid"+i+".fusion-toggle-icon-unboxed .fusion-panel .panel-title a.hover .fa-fusion-box{ color: "+e.toggle_hover_accent_color+" !important;}")),"1"!=e.boxed_mode&&"yes"!==e.boxed_mode||(""!==e.hover_color&&(t+="#accordion-cid"+i+" .fusion-panel:hover, #accordion-cid"+i+" .fusion-panel.hover{ background-color: "+e.hover_color+" }"),t+="#accordion-cid"+i+" .fusion-panel {",""!==e.border_color&&(t+=" border-color:"+e.border_color+";"),""!==e.border_size&&(t+=" border-width:"+e.border_size+";"),""!==e.background_color&&(t+=" background-color:"+e.background_color+";"),t+=" }"),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_toggle=FusionPageBuilder.ChildElementView.extend({onRender:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors))},afterPatch:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),this.refreshJs()},filterTemplateAtts:function(e){var t={},i=this.model.get("parent"),o=FusionPageBuilderElements.find(function(e){return e.get("cid")==i}),n=jQuery.extend(!0,{},fusionAllElements.fusion_accordion.defaults,_.fusionCleanParameters(o.get("params")));return this.validateValues(e.values),t.toggleShortcodeCollapse=this.buildCollapseAttr(e.values),t.toggleShortcodeDataToggle=this.buildDataToggleAttr(e.values,n,o),t.headingAttr=this.buildHeadingAttr(e.values),t.contentAttr=this.buildContentAttr(e.values),t.title=e.values.title,t.elementContent=e.values.element_content,this.buildPanelAttr(e.values,n),t.cid=this.model.get("cid"),t.parent=this.model.get("parent"),t},validateValues:function(e){e.toggle_class="yes"===e.open?"in":""},buildCollapseAttr:function(e){return{id:("#accordion-"+this.model.get("cid")).replace("#",""),class:"panel-collapse collapse "+e.toggle_class}},buildPanelAttr:function(e,t){var i={class:"fusion-panel panel-default"};return" "!==e.class&&(i.class+=" "+e.class),""!==e.id&&(i.id=e.id),"1"==t.boxed_mode||"yes"===t.boxed_mode?i.class+=" fusion-toggle-no-divider fusion-toggle-boxed-mode":"0"!=t.divider_line&&"no"!==t.divider_line||(i.class+=" fusion-toggle-no-divider"),this.model.set("selectors",i),i},buildDataToggleAttr:function(e,t,i){var o={},n="#accordion-"+this.model.get("cid");return"yes"===e.open&&(o.class="active"),o["data-toggle"]="collapse","toggles"!==t.type&&(o["data-parent"]="#accordion-cid"+i.attributes.cid),o["data-target"]=n,o.href=n,o},buildHeadingAttr:function(){var e={class:"fusion-toggle-heading"};return e=_.fusionInlineEditor({cid:this.model.get("cid"),param:"title","disable-return":!0,"disable-extra-spaces":!0,toolbar:!1},e)},buildContentAttr:function(){var e={class:"panel-body toggle-content fusion-clearfix"};return e=_.fusionInlineEditor({cid:this.model.get("cid")},e)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_chart=FusionPageBuilder.ParentElementView.extend({chartDatasets:[],beforePatch:function(){this.$el.find("canvas").replaceWith('<canvas width="100" height="100"></canvas>')},afterPatch:function(){this.generateChildElements(),this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.chartDatasets=FusionPageBuilderApp.findShortcodeMatches(e.params.element_content,"fusion_chart_dataset"),t.showPlaceholder=0===this.chartDatasets.length,t.showPlaceholder?(e.values.type="bar",this.model.attributes.params.type="bar",e.values.x_axis_labels="Val 1|Val 2|Val 3",this.model.attributes.params.x_axis_labels="Val 1|Val 2|Val 3",e.values.legend_text_colors="#ffffff|#ffffff|#ffffff",this.model.attributes.params.legend_text_colors="#ffffff|#ffffff|#ffffff",e.values.bg_colors="#03a9f4|#8bc34a|#ff9800",this.model.attributes.params.bg_colors="#03a9f4|#8bc34a|#ff9800",e.values.border_colors="#03a9f4|#8bc34a|#ff9800",this.model.attributes.params.border_colors="#03a9f4|#8bc34a|#ff9800",this.model.attributes.params.element_content='[fusion_chart_dataset title="Data Set 1" legend_text_color="#ffffff" background_color="#00bcd4" border_color="#00bcd4" values="5|7|9"][/fusion_chart_dataset]'):this.validateValues(e.values),t.chartShortcode=this.buildChartAttr(e.values),t.styles=this.buildStyles(e.values),t.title=e.values.title,t.chartLegendPosition=e.values.chart_legend_position,t},validateValues:function(e){e.chart_padding={top:void 0!==e.padding_top&&""!==e.padding_top?e.padding_top:0,right:void 0!==e.padding_right&&""!==e.padding_right?e.padding_right:0,bottom:void 0!==e.padding_bottom&&""!==e.padding_bottom?e.padding_bottom:0,left:void 0!==e.padding_left&&""!==e.padding_left?e.padding_left:0},""===e.chart_type&&(e.chart_type="bar")},buildChartAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{id:"fusion-chart-cid"+this.model.get("cid"),class:"fusion-chart fusion-child-element"});return e.chart_type&&-1!==["bar","horizontalBar","line","pie","doughnut","radar","polarArea"].indexOf(e.chart_type)?t["data-type"]=e.chart_type:t["data-type"]=this.$el.find("#"+t.id).data("type"),""!==e.chart_legend_position&&"off"!==e.chart_legend_position&&(t.class+=" legend-"+e.chart_legend_position,t["data-chart_legend_position"]=e.chart_legend_position),""!==e.x_axis_labels&&(t["data-x_axis_labels"]=e.x_axis_labels),""!==e.x_axis_label&&(t["data-x_axis_label"]=e.x_axis_label),""!==e.y_axis_label&&(t["data-y_axis_label"]=e.y_axis_label),""!==e.show_tooltips&&(t["data-show_tooltips"]=e.show_tooltips),""!==e.bg_colors&&(t["data-bg_colors"]=e.bg_colors),""!==e.border_colors&&(t["data-border_colors"]=e.border_colors),""!==e.legend_labels&&(t["data-legend_labels"]=e.legend_labels),""!==e.chart_border_size&&(t["data-border_size"]=e.chart_border_size),""!==e.chart_border_type&&(t["data-border_type"]=e.chart_border_type),""!==e.chart_fill&&(t["data-chart_fill"]=e.chart_fill),""!==e.chart_point_style&&(t["data-chart_point_style"]=e.chart_point_style),""!==e.chart_point_size&&(t["data-chart_point_size"]=e.chart_point_size),""!==e.chart_point_bg_color&&(t["data-chart_point_bg_color"]=e.chart_point_bg_color),""!==e.chart_point_border_color&&(t["data-chart_point_border_color"]=e.chart_point_border_color),""!==e.chart_axis_text_color&&(t["data-chart_axis_text_color"]=e.chart_axis_text_color),""!==e.chart_gridline_color&&(t["data-chart_gridline_color"]=e.chart_gridline_color),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildStyles:function(e){var t,i,o,n,s,a="",r=0,l=[],u=this.model.get("cid");if(""!==e.chart_bg_color&&(a+="#fusion-chart-cid"+u+"{background-color: "+e.chart_bg_color+";}"),e.chart_padding&&"object"==typeof e.chart_padding&&(a+="#fusion-chart-cid"+u+"{padding: "+e.chart_padding.top+" "+e.chart_padding.right+" "+e.chart_padding.bottom+" "+e.chart_padding.left+";}"),void 0!==this.model&&void 0!==this.model.children&&((r=this.model.children.length)?_.each(this.model.children.models,function(e,t){l[t]=e.attributes.params.legend_text_color}):void 0!==this.model.attributes.params.element_content&&(_.each(this.chartDatasets,function(e){n=e.match(FusionPageBuilderApp.regExpShortcode("fusion_chart_dataset")),s=""!==n[3]?window.wp.shortcode.attrs(n[3]):"",l.push(s.named.legend_text_color)}),r=this.chartDatasets.length)),""!==e.legend_text_colors)for(i=(t="pie"===e.chart_type||"doughnut"===e.chart_type||"polarArea"===e.chart_type||("bar"===e.chart_type||"horizontalBar"===e.chart_type)&&1===r?e.legend_text_colors.split("|"):l).length,o=0;o<i;o++)""!==t[o]&&(a+="#fusion-chart-cid"+u+" .fusion-chart-legend-wrap li:nth-child("+(o+1)+") span{color: "+t[o]+";}");return a}})}),_.extend(FusionPageBuilder.Callback.prototype,{chartShortcodeFilter:function(e,t,i,o){var n="",s=!1,a=[],r=[],l=[],u=[],d={},c=[];if(o)return s=jQuery('[data-cid="'+o.model.get("cid")+'"] .fusion-table-builder'),d=jQuery.extend(!0,{},o.model.get("params")),s.find("thead tr:first-child th").each(function(e){var t=jQuery(this).find("input").val();1<e&&a.push(t)}),d.x_axis_labels!==a.join("|")&&c.push({id:"x_axis_labels",value:a.join("|"),label:fusionBuilderText.x_axis_label}),s.find("thead tr:nth-child(2) th").each(function(e){3<e&&(u.push(jQuery(this).find(".fusion-builder-option:first-child input").val()),r.push(jQuery(this).find(".fusion-builder-option:nth-child(2) input").val()),l.push(jQuery(this).find(".fusion-builder-option:nth-child(3) input").val()))}),void 0!==d.legend_text_colors&&d.legend_text_colors!==u.join("|")&&c.push({id:"legend_text_colors",value:u.join("|"),label:fusionBuilderText.legend_text_color}),void 0!==d.bg_colors&&d.bg_colors!==r.join("|")&&c.push({id:"bg_colors",value:r.join("|"),label:fusionBuilderText.background_color}),void 0!==d.border_colors&&d.border_colors!==l.join("|")&&c.push({id:"border_colors",value:l.join("|"),label:fusionBuilderText.border_color}),s.find("tbody tr").each(function(){var e=jQuery(this),t=[];n+="[fusion_chart_dataset",e.find("td").each(function(e){var i=jQuery(this).find("input").val();switch(e){case 0:n+=' title="'+i+'"';break;case 1:n+=' legend_text_color="'+i+'"';break;case 2:n+=' background_color="'+i+'"';break;case 3:n+=' border_color="'+i+'"';break;default:t.push(i)}}),n+=' values="'+t.join("|")+'" /]'}),d.element_content.trim()!==n.trim()&&c.push({id:"element_content",value:n,label:fusionBuilderText.chart_dataset}),_.each(c,function(e){o.changeParam(e.id,e.value,e.label)}),{render:!0}}});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_chart_dataset=FusionPageBuilder.ChildElementView.extend({onRender:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors))},afterPatch:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),this.refreshJs()},filterTemplateAtts:function(e){var t={},i=window.fusionAllElements[this.model.get("element_type")];return e.values=jQuery.extend(!0,{},i.defaults,_.fusionCleanParameters(e.params)),t.chartDatasetShortcode=this.buildDatasetAttr(e.values),t},buildDatasetAttr:function(e){var t={class:"fusion-chart-dataset"};return e.title?t["data-label"]=e.title:t["data-label"]=" ",""!==e.values&&(t["data-values"]=e.values),""!==e.background_color&&(t["data-background_color"]=e.background_color),""!==e.border_color&&(t["data-border_color"]=e.border_color),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_image_before_after=FusionPageBuilder.ElementView.extend({onInit:function(){this.listenTo(FusionEvents,"fusion-preview-toggle",this.previewToggle),this.listenTo(FusionEvents,"fusion-wireframe-toggle",this.previewToggle),this.listenTo(FusionEvents,"fusion-iframe-loaded",this.initElement)},initElement:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-fusion_image_before_after",this.model.attributes.cid)},previewToggle:function(){FusionPageBuilderApp.wireframeActive||(jQuery("#fb-preview")[0].contentWindow.jQuery("body").hasClass("fusion-builder-preview-mode")?this.disableDroppableElement():this.enableDroppableElement())},beforePatch:function(){this.$el.css("min-height",this.$el.outerHeight()+"px")},afterPatch:function(){var e=this;this._refreshJs(),setTimeout(function(){e.$el.css("min-height","0px")},300)},filterTemplateAtts:function(e){var t={};return""===e.values.before_image&&""===e.values.after_image||(this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.attrWrapper=this.buildWrapperAttr(e.values),t.attrLink=this.buildLinkAttr(e.values),t.attrBeforeImage=this.buildBeforeImageAttr(e.values),t.attrAfterImage=this.buildAfterImageAttr(e.values),t.attrOverlay=this.buildOverlayAttr(e.values),t.attrHandle=this.buildHandleAttr(e.values),t.styles=this.buildStyles(e.values),t.values=e.values),t},validateValues:function(e){e.offset=parseInt(e.offset,10)/100,e.font_size=_.fusionValidateAttrValue(e.font_size,"px"),e.borderradius=_.fusionValidateAttrValue(e.borderradius,"px"),e.bordersize=_.fusionValidateAttrValue(e.bordersize,"px"),e.max_width=_.fusionValidateAttrValue(e.max_width,"px")},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-image-before-after-element",style:""}),i=this.model.get("cid");return"switch"===e.type?t.class+=" fusion-image-switch":"before_after"===e.type&&(t.class+=" fusion-image-before-after fusion-image-before-after-container",(e.offset||0==e.offset)&&(t["data-offset"]=e.offset.toString()),e.orientation&&(t["data-orientation"]=e.orientation),e.handle_movement&&("drag_click"===e.handle_movement?(t["data-move-with-handle-only"]="true",t["data-click-to-move"]="true"):"drag"===e.handle_movement?t["data-move-with-handle-only"]="true":"hover"===e.handle_movement&&(t["data-move-slider-on-hover"]="true"))),""!==e.max_width&&(t.style+="max-width:"+e.max_width),t.class+=" fusion-image-before-after-cid"+i,""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildWrapperAttr:function(e){var t={class:"fusion-image-before-after-wrapper"},i=this.model.get("cid");return e.orientation&&(t.class+=" fusion-image-before-after-"+e.orientation),t.class+=" fusion-image-before-after-wrapper-cid"+i,t},buildLinkAttr:function(e){var t={class:"fusion-image-switch-link",href:e.link,target:e.target,rel:""};return"_blank"===e.target&&(t.rel="noopener noreferrer"),t},buildBeforeImageAttr:function(e){return{class:"before_after"===e.type?"fusion-image-before-after-before":"fusion-image-switch-before",src:e.before_image,alt:""}},buildAfterImageAttr:function(e){return{class:"before_after"===e.type?"fusion-image-before-after-after":"fusion-image-switch-after",src:e.after_image,alt:""}},buildOverlayAttr:function(e){var t={class:"fusion-image-before-after-overlay"};return e.label_placement&&""!==e.label_placement&&(t.class+=" before-after-overlay-"+e.label_placement),t},buildHandleAttr:function(e){var t={class:"fusion-image-before-after-handle"};return e.handle_type&&"default"!==e.handle_type&&(t.class+=" fusion-image-before-after-handle-"+e.handle_type),t},buildStyles:function(e){var t="",i="",o="",n="",s=this.model.get("cid");return""!==e.handle_color&&"before_after"===e.type&&(t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle {",t+="border-color:"+(i=e.handle_color)+";",t+="}","horizontal"===e.orientation?(t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-left-arrow {",t+="border-right-color:"+i+";",t+="}",t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-right-arrow {",t+="border-left-color:"+i+";",t+="}",e.handle_type&&""!==e.handle_type&&"diamond"===e.handle_type?(t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle-diamond .fusion-image-before-after-left-arrow::before {",t+="border-color:"+i+" !important;",t+="}"):e.handle_type&&""!==e.handle_type&&"circle"===e.handle_type&&(t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle-circle {",t+="background:"+i+" !important;",t+="}",t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle-circle .fusion-image-before-after-left-arrow::before {",t+="border-color:"+(o=jQuery.Color(i)).alpha(.6).toRgbaString()+" !important;",t+="}",t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle-circle .fusion-image-before-after-left-arrow {",t+="border-right-color:"+_.fusionAutoCalculateAccentColor(i)+" !important;",t+="}",t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle-circle .fusion-image-before-after-right-arrow {",t+="border-left-color:"+_.fusionAutoCalculateAccentColor(i)+" !important;",t+="}")):"vertical"===e.orientation&&(t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-up-arrow {",t+="border-bottom-color:"+i+";",t+="}",t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-down-arrow {",t+="border-top-color:"+i+";",t+="}",e.handle_type&&""!==e.handle_type&&"diamond"===e.handle_type?(t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle-diamond .fusion-image-before-after-left-arrow::before {",t+="border-color:"+i+" !important;",t+="}"):e.handle_type&&""!==e.handle_type&&"circle"===e.handle_type&&(t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle-circle {",t+="background:"+i+" !important;",t+="}",t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle-circle .fusion-image-before-after-down-arrow::before {",t+="border-color:"+(o=jQuery.Color(i)).alpha(.6).toRgbaString()+" !important;",t+="}",t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle-circle .fusion-image-before-after-up-arrow {",t+="border-bottom-color:"+_.fusionAutoCalculateAccentColor(i)+" !important;",t+="}",t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle-circle .fusion-image-before-after-down-arrow {",t+="border-top-color:"+_.fusionAutoCalculateAccentColor(i)+" !important;",t+="}")),t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle::after {",t+="background:"+i+";","vertical"!==e.orientation&&(t+="box-shadow: 0 3px 0 "+i+", 0 0 12px rgba(51,51,51,.5);"),t+="}",t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle::before {",t+="background:"+i+";","vertical"!==e.orientation&&(t+="box-shadow: 0 3px 0 "+i+", 0 0 12px rgba(51,51,51,.5);"),t+="}"),e.handle_bg&&""!==e.handle_bg&&"before_after"===e.type&&(n=e.handle_bg,"circle"!==e.handle_type&&"arrows"!==e.handle_type&&("diamond"!==e.handle_type?(t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-handle {",t+="background:"+n+";",t+="}"):(t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-down-arrow:before,",t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-left-arrow:before {",t+="background:"+n+";",t+="}"))),e.font_size&&""!==e.font_size&&"before_after"===e.type&&(t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-before-label:before",t+=",.fusion-image-before-after-cid"+s+" .fusion-image-before-after-after-label:before","out-image-up-down"===e.label_placement&&(t+=",.fusion-image-before-after-wrapper-cid"+s+" .fusion-image-before-after-before-label:before",t+=",.fusion-image-before-after-wrapper-cid"+s+" .fusion-image-before-after-after-label:before"),t+="{",t+="font-size:"+e.font_size+";",t+="}"),e.accent_color&&""!==e.accent_color&&"before_after"===e.type&&(i=e.accent_color,o=jQuery.Color(i),t+=".fusion-image-before-after-cid"+s+" .fusion-image-before-after-before-label:before",t+=",.fusion-image-before-after-cid"+s+" .fusion-image-before-after-after-label:before","out-image-up-down"===e.label_placement&&(t+=",.fusion-image-before-after-wrapper-cid"+s+" .fusion-image-before-after-before-label:before",t+=",.fusion-image-before-after-wrapper-cid"+s+" .fusion-image-before-after-after-label:before"),t+="{",t+="color:"+i+";","out-image-up-down"!==e.label_placement&&(t+="background:"+o.alpha(.15).toRgbaString()+";"),t+="}"),"switch"===e.type&&e.transition_time&&(t+=".fusion-image-switch.fusion-image-before-after-cid"+s+" img{",t+="transition: "+e.transition_time+"s ease-in-out;",t+="}",-1!==e.before_image.indexOf(".png")&&-1!==e.after_image.indexOf(".png")&&(t+=".fusion-image-switch.fusion-image-before-after-cid"+s+":hover img:first-child{",t+="opacity: 1;",t+="}")),"0"!==e.bordersize&&0!==e.bordersize&&"0px"!==e.bordersize&&(t+=".fusion-image-before-after-cid"+s+":not(.fusion-image-switch).initialized,",t+=".fusion-image-before-after-cid"+s+".fusion-image-switch img{",t+="border: "+e.bordersize+" solid "+e.bordercolor+";","0"!==e.borderradius&&0!==e.borderradius&&"0px"!==e.borderradius&&(t+="-webkit-border-radius:"+e.borderradius+";-moz-border-radius:"+e.borderradius+";border-radius:"+e.borderradius+";"),t+="}"),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_counters_box=FusionPageBuilder.ParentElementView.extend({afterPatch:function(){this.appendChildren(".fusion-counters-box"),this._refreshJs()},filterTemplateAtts:function(e){var t;return this.validateValues(e.values,e.params),t=this.buildAtts(e.values),(e={}).countersBoxShortcode=t,e},validateValues:function(e,t){(e=jQuery.extend(!0,{},fusionAllElements.fusion_counters_box.defaults,_.fusionCleanParameters(t))).title_size=_.fusionValidateAttrValue(e.title_size,""),e.icon_size=_.fusionValidateAttrValue(e.icon_size,""),e.body_size=_.fusionValidateAttrValue(e.body_size,""),e.columns=Math.min(6,e.columns)},buildAtts:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-counters-box counters-box row fusion-clearfix fusion-columns-"+e.columns});return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id+=" "+e.id),t.class+=" fusion-child-element",t["data-empty"]=this.emptyPlaceholderText,t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_counter_box=FusionPageBuilder.ChildElementView.extend({onRender:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.model.attributes.selectors.class+="video"===this.model.attributes.params.type?" video":" image",this.setElementAttributes(this.$el,this.model.attributes.selectors))},afterPatch:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.model.attributes.selectors.class+="video"===this.model.attributes.params.type?" video":" image",this.setElementAttributes(this.$el,this.model.attributes.selectors)),this._refreshJs()},filterTemplateAtts:function(e){var t,i,o,n=e.values.element_content,s=this.model.get("parent"),a=FusionPageBuilderElements.find(function(e){return e.get("cid")==s}),r=jQuery.extend(!0,{},fusionAllElements.fusion_counters_box.defaults,_.fusionCleanParameters(a.get("params")));return this.validateValues(e.values,e.params),this.validateParentValues(r),t=this.buildContainerAtts(e.values,r),o=this.buildCounterWrapper(e.values,r),i=this.buildContentAttr(r),this.setSelectors(e.values,r),(e={}).counterBoxContainer=t,e.counterWrapper=o,e.counterBoxShortcodeContent=i,e.cid=this.model.get("cid"),e.parent=s,e.output=n,e},validateValues:function(e,t){(e=jQuery.extend(!0,{},fusionAllElements.fusion_counter_box.defaults,_.fusionCleanParameters(t))).value=e.value.replace(",","."),e.float=e.value.split("."),void 0!==e.float[1]&&(e.decimals=e.float[1].length)},validateParentValues:function(e){e.title_size=_.fusionValidateAttrValue(e.title_size,""),e.icon_size=_.fusionValidateAttrValue(e.icon_size,""),e.body_size=_.fusionValidateAttrValue(e.body_size,""),e.columns=Math.min(6,e.columns)},buildContainerAtts:function(e,t){var i={class:"counter-box-container"};return i.style="border: 1px solid "+t.border_color+";",i},buildCounterWrapper:function(e,t){var i,o,n,s,a,r,l=e.unit?'<span class="unit">'+e.unit+"</span>":"",u="up"===e.direction?0:e.value,d="",c=0;return e.value=e.value.replace(",","."),void 0!==(r=e.value.split("."))[1]&&(c=r[1].length),n={class:"display-counter","data-value":e.value,"data-delimiter":e.delimiter,"data-direction":e.direction,"data-decimals":c},n=_.fusionInlineEditor({cid:this.model.get("cid"),param:"value",toolbar:!1,"disable-return":!0,"disable-extra-spaces":!0},n),i="<span "+_.fusionGetAttributes(n)+">"+u+"</span>",(e.icon||t.icon)&&(o=e.icon?e.icon:t.icon,a={class:"counter-box-icon fontawesome-icon "+_.fusionFontAwesome(o),style:"font-size:"+t.icon_size+"px;","aria-hidden":"true"},d="<i "+_.fusionGetAttributes(a)+"></i>"),i="prefix"===e.unit_pos?d+l+i:d+i+l,s={class:"content-box-percentage content-box-counter",style:"color:"+t.color+";font-size:"+t.title_size+"px;line-height:normal;"},"<div "+_.fusionGetAttributes(s)+">"+i+"</div>"},buildContentAttr:function(e){var t={class:"counter-box-content",style:"color:"+e.body_color+";font-size:"+e.body_size+"px;"};return t=_.fusionInlineEditor({cid:this.model.get("cid"),param:"element_content",toolbar:"simple","disable-return":!0,"disable-extra-spaces":!0},t)},setSelectors:function(e,t){var i,o=1,n={};void 0!==t.columns&&""!==t.columns&&0!==t.columns&&(o=12/t.columns),n.class="fusion-counter-box fusion-column col-counter-box counter-box-wrapper col-lg-"+o+" col-md-"+o+" col-sm-"+o,"5"!==t.columns&&5!==t.columns||(n.class="fusion-counter-box fusion-column col-counter-box counter-box-wrapper col-lg-2 col-md-2 col-sm-2"),"yes"===t.icon_top&&(n.class+=" fusion-counter-box-icon-top"),""!==e.class&&(n.class+=" "+e.class),""!==e.id&&(n.id=e.id),t.animation_type&&(i=_.fusionGetAnimations({offset:t.animation_offset}),(n=jQuery.extend(n,i)).class+=" "+n.animation_class,delete n.animation_class),this.model.set("selectors",n)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_widget_area=FusionPageBuilder.ElementView.extend({onRender:function(){var e=this.$el.html();this.$el.html(FusionApp.removeScripts(e))},filterTemplateAtts:function(e){var t={},i=void 0!==e.values.name?e.values.name.replace(/-/g,"_"):"";return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.styles=this.buildStyling(e.values),t.widgetArea=!1,"undefined"!==e.query_data&&void 0!==e.query_data[i]&&(t.widgetArea=e.query_data[i]),t},validateValues:function(e){e=_.fusionGetPadding(e)},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-widget-area fusion-content-widget-area",style:""}),i=this.model.get("cid");return t.class+=" fusion-widget-area-cid"+i,""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildStyling:function(e){var t="",i=this.model.get("cid");return""!==e.background_color&&(t+=".fusion-widget-area-cid"+i+" {background-color:"+e.background_color+";}"),""!==e.padding&&(-1===e.padding.indexOf("%")&&-1===e.padding.indexOf("px")&&(e.padding=e.padding+"px"),t+=".fusion-widget-area-cid"+i+" {padding:"+_.fusionGetValueWithUnit(e.padding)+";}"),""!==e.title_color&&(t+=".fusion-widget-area-cid"+i+" .widget h4 {color:"+e.title_color+";}",t+=".fusion-widget-area-cid"+i+" .widget .heading h4 {color:"+e.title_color+";}"),""!==e.title_size&&(t+=".fusion-widget-area-cid"+i+" .widget h4 {font-size:"+e.title_size+";}",t+=".fusion-widget-area-cid"+i+" .widget .heading h4 {font-size:"+e.title_size+";}"),t}}),_.extend(FusionPageBuilder.Callback.prototype,{fusion_widget_area:function(e,t,i,o,n,s,a,r){var l,u=jQuery.extend(!0,{},i.params),d={};if(void 0===e||o.skip||(u[e]=t),d.params=jQuery.extend(!0,{},window.fusionAllElements[i.element_type].defaults,_.fusionCleanParameters(u)),void 0!==e&&void 0!==t&&(l=t.replace(/-/g,"_")),void 0!==a.query_data&&void 0!==a.query_data[l]&&void 0!==r)return r.reRender(),!0;jQuery.ajax({url:window.fusionAppConfig.ajaxurl,type:"post",dataType:"json",data:{action:"get_widget_area",model:d,fusion_load_nonce:window.fusionAppConfig.fusion_load_nonce}}).done(function(i){var n;void 0!==a&&void 0!==a.get("query_data")?(n=a.get("query_data"))[l]=i[l]:n=i,a.set("query_data",n),o.skip||void 0===e||r.changeParam(e,t),"generated_element"!==a.get("type")&&r.reRender()})}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_content_boxes=FusionPageBuilder.ParentElementView.extend({imageMap:{},initialData:!1,afterPatch:function(){this.generateChildElements(),this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.styles=this.buildStyles(e.values),t},validateValues:function(e){void 0!==e.image_width?e.image_width=e.image_width?e.image_width:"35":e.image_width=e.image_max_width,e.title_size=_.fusionValidateAttrValue(e.title_size,"px",!1),e.icon_circle_radius=_.fusionValidateAttrValue(e.icon_circle_radius,"px"),e.icon_size=_.fusionValidateAttrValue(e.icon_size,"px"),e.margin_top=_.fusionValidateAttrValue(e.margin_top,"px"),e.margin_bottom=_.fusionValidateAttrValue(e.margin_bottom,"px"),e.margin_bottom=_.fusionValidateAttrValue(e.margin_bottom,"px"),e.circlebordersize=_.fusionValidateAttrValue(e.circlebordersize,"px"),e.outercirclebordersize=_.fusionValidateAttrValue(e.outercirclebordersize,"px"),e.linktarget&&(e.link_target=e.linktarget),"timeline-vertical"===e.layout&&(e.columns=1),"timeline-vertical"!==e.layout&&"timeline-horizontal"!==e.layout||(e.animation_delay=350,e.animation_speed=.25,e.animation_type="fade",e.animation_direction="")},buildAttr:function(e){var t,i=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-content-boxes content-boxes",style:""}),o=this.model.get("cid"),n=void 0!==e.element_content?e.element_content.match(/\[fusion_content_box ((.|\n|\r)*?)\]/g):1;return n=null!==n?n.length:1,""===(t=e.columns)||"0"===t?(t=n,t=Math.max(6,t)):6<t&&(t=6),e.columns=t,i.class+=" columns row",i.class+=" fusion-columns-"+t,i.class+=" fusion-columns-total-"+n,i.class+=" fusion-content-boxes-cid"+o,i.class+=" content-boxes-"+e.layout,i.class+=" content-"+e.icon_align,"timeline-horizontal"!==e.layout&&"clean-vertical"!==e.layout||(i.class+=" content-boxes-icon-on-top"),"timeline-vertical"===e.layout&&(i.class+=" content-boxes-icon-with-title"),"clean-horizontal"===e.layout&&(i.class+=" content-boxes-icon-on-side"),""!==e.animation_delay&&(i["data-animation-delay"]=e.animation_delay,i.class+=" fusion-delayed-animation"),i.class+=" fusion-child-element",i.style+="margin-top:"+e.margin_top+";",i.style+="margin-bottom:"+e.margin_bottom+";",""!==e.class&&(i.class+=" "+e.class),""!==e.id&&(i.id=e.id),i=_.fusionAnimations(e,i)},buildStyles:function(e){var t="",i=this.model.get("cid"),o="";return""!==e.title_color&&(t+=".fusion-content-boxes-cid"+i+" .heading .content-box-heading{color:"+e.title_color+";}"),t+=".fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-link-icon-hover .heading .content-box-heading, .fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-link-icon-hover .heading .heading-link .content-box-heading,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-box-hover .heading .content-box-heading,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-box-hover .heading .heading-link .content-box-heading,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-link-icon-hover.link-area-box .fusion-read-more,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-link-icon-hover.link-area-box .fusion-read-more::after,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-link-icon-hover.link-area-box .fusion-read-more::before,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .fusion-read-more:hover:after,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .fusion-read-more:hover:before,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .fusion-read-more:hover,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-box-hover.link-area-box .fusion-read-more,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-box-hover.link-area-box .fusion-read-more::after,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-box-hover.link-area-box .fusion-read-more::before,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-link-icon-hover .icon .circle-no, .fusion-content-boxes-cid"+i+" .heading .heading-link:hover .content-box-heading { color: "+e.hover_accent_color+";}",t+=".fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-box-hover .icon .circle-no {color: "+e.hover_accent_color+" !important;}",t+=".fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-box.link-area-box-hover .fusion-content-box-button {",t+="background: "+fusionAllElements.fusion_button.defaults.button_gradient_top_color_hover+";",t+="color: "+fusionAllElements.fusion_button.defaults.button_accent_hover_color+";",fusionAllElements.fusion_button.defaults.button_gradient_top_color_hover!==fusionAllElements.fusion_button.defaults.button_gradient_bottom_color_hover&&(t+="background-image: -webkit-gradient( linear, left bottom, left top, from( "+fusionAllElements.fusion_button.defaults.button_gradient_bottom_color_hover+" ), to( "+fusionAllElements.fusion_button.defaults.button_gradient_top_color_hover+" ) );",t+="background-image: linear-gradient( to top, "+fusionAllElements.fusion_button.defaults.button_gradient_bottom_color_hover+", "+fusionAllElements.fusion_button.defaults.button_gradient_top_color_hover+" )"),t+="}",t+=".fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-box.link-area-box-hover .fusion-content-box-button .fusion-button-text {",t+="color: "+fusionAllElements.fusion_button.defaults.button_accent_hover_color+";",t+="}",o=e.hover_accent_color,"transparent"!==e.circlecolor&&0!==jQuery.Color(e.circlecolor).alpha()&&"no"!==e.icon_circle||(o="transparent"),t+=".fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-link-icon-hover .heading .icon > span,",t+=".fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-link-icon-hover .heading .icon i.circle-yes { background-color: "+o+" !important;}",t+=".fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-box-hover .heading .icon > span,",t+=".fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-link-icon-hover .heading .icon i.circle-yes { border-color: "+e.hover_accent_color+" !important; }","pulsate"===e.icon_hover_type&&""!==e.hover_accent_color&&(t+=".fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-link-icon-hover.icon-hover-animation-pulsate .fontawesome-icon:after,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-box-hover.icon-hover-animation-pulsate .fontawesome-icon:after,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-link-icon-hover.icon-wrapper-hover-animation-pulsate .icon span:after,.fusion-content-boxes-cid"+i+" .fusion-content-box-hover .link-area-box-hover.icon-wrapper-hover-animation-pulsate .icon span:after {-webkit-box-shadow:0 0 0 2px rgba(255,255,255,0.1), 0 0 10px 10px "+e.hover_accent_color+", 0 0 0 10px rgba(255,255,255,0.5);-moz-box-shadow:0 0 0 2px rgba(255,255,255,0.1), 0 0 10px 10px "+e.hover_accent_color+", 0 0 0 10px rgba(255,255,255,0.5);box-shadow: 0 0 0 2px rgba(255,255,255,0.1), 0 0 10px 10px "+e.hover_accent_color+", 0 0 0 10px rgba(255,255,255,0.5);}"),"clean-horizontal"!==e.layout&&"clean-vertical"!==e.layout||(t+=".fusion-content-boxes-cid"+i+".fusion-columns-"+e.columns+" .content-box-column:nth-of-type("+e.columns+"n) {border-right-width:1px;}"),t},onGenerateChildElements:function(e){this.addImagesToImageMap(e,!1,!1)},addImagesToImageMap:function(e,t,i){var o=this,n={};t=void 0===t||t,i=void 0===i||i,o.initialData=!0,_.each(e,function(e){var t=void 0!==e.get?e.get("params"):e.params,i=void 0!==e.get?e.get("cid"):e.cid,s=void 0!==t.image_id&&""!==t.image_id&&t.image_id,a=void 0!==t.image&&""!==t.image&&t.image;(s||a)&&(s&&void 0!==o.imageMap[s]||a&&void 0!==o.imageMap[a]||(n[i]=t))}),_.isEmpty(n)?i&&o.reRender():jQuery.ajax({async:t,url:window.fusionAppConfig.ajaxurl,type:"post",dataType:"json",data:{action:"get_fusion_content_boxes_children_data",children:n,fusion_load_nonce:window.fusionAppConfig.fusion_load_nonce}}).done(function(e){o.updateImageMap(e),i&&o.reRender()})},updateImageMap:function(e){var t=this;_.each(e,function(e,i){void 0===t.imageMap[i]&&(t.imageMap[i]=e)})}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_content_box=FusionPageBuilder.ChildElementView.extend({resetTypography:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-typography-reset",this.model.get("cid")),800>jQuery("#fb-preview").width()&&setTimeout(function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("resize")},50)},onRender:function(){var e=this.model.get("query_data");void 0!==e&&window.FusionPageBuilderViewManager.getView(this.model.get("parent")).updateImageMap(e),void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors))},afterPatch:function(){var e=this.model.get("query_data");void 0!==e&&window.FusionPageBuilderViewManager.getView(this.model.get("parent")).updateImageMap(e),this.resetTypography(),void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors)),this.refreshJs()},onCancel:function(){this.resetTypography()},filterTemplateAtts:function(e){var t={};return this.validateValues(e),this.extras=e.extras,this.buildAttr(e),t.attrShortcodeIcon=this.buildShortcodeIconAttr(e),t.attrShortcodeIconParent=this.buildShortcodeIconParentAttr(e),t.attrShortcodeIconWrapper=this.buildShortcodeIconWrapperAttr(e),t.attrContentBoxHeading=this.buildContentBoxHeadingAttr(e),t.attrHeadingWrapper=this.buildContentBoxHeadingWrapperAttr(e),t.attrContentContainer=this.buildContentContainerAttr(e),t.attrShortcodeTimeline=this.buildShortcodeTimelineAttr(e),t.attrContentWrapper=this.buildContentWrapperAttr(e),t.attrHeadingLink=this.contentBoxShortcodeAttrs(!1,"heading-link",e),t.attrReadMore=this.contentBoxShortcodeAttrs(!0,"fusion-read-more",e),t.attrButton=this.contentBoxShortcodeAttrs(!0,!1,e),t.styles=this.buildStyles(e),t.cid=this.model.get("cid"),t.output=e.values.element_content,t.parentCid=e.parent,t.values=e.values,t.parentValues=e.parentValues,t},validateValues:function(e){var t=e.values,i=e.parentValues,o=this.model.get("params"),n=e.query_data,s=window.FusionPageBuilderViewManager.getView(this.model.get("parent")),a=!1;void 0!==o.image&&""!==o.image||void 0===o.icon||""===o.icon||(t.image=""),void 0!==o.image_width&&o.image_width?t.image_width=o.image_width:t.image_width=t.image_max_width,t.image_width=_.fusionValidateAttrValue(t.image_width,""),void 0===t.image||""===t.image&&""===t.image_id?(t.image_width=""===t.image_width?"35":t.image_width,t.image_height="35"):(void 0!==n&&void 0!==n[t.image]?a=n[t.image]:void 0!==n&&void 0!==n[t.image_id]?a=n[t.image_id]:void 0!==s.imageMap[t.image]?a=s.imageMap[t.image]:void 0!==s.imageMap[t.image_id]&&(a=s.imageMap[t.image_id]),a?(-1!==parseInt(t.image_width)&&""!==t.image_width||(t.image_width=void 0!==a.width?a.width:"35"),t.image_height=void 0!==a.width?Math.round(parseFloat(t.image_width)/parseFloat(a.width)*parseFloat(a.height)*100)/100:t.image_width):(-1===parseInt(t.image_width)&&(t.image_width="35"),t.image_height=t.image_width)),t.linktarget&&(t.link_target=t.linktarget),"parent"===i.settings_lvl&&(t.backgroundcolor=i.backgroundcolor,t.circlecolor=i.circlecolor,t.circlebordercolor=i.circlebordercolor,t.circlebordersize=i.circlebordersize,t.outercirclebordercolor=i.outercirclebordercolor,t.outercirclebordersize=i.outercirclebordersize,t.iconcolor=i.iconcolor,t.animation_type=i.animation_type,t.animation_direction=i.animation_direction,t.animation_speed=i.animation_speed,t.link_target=i.link_target),"timeline-vertical"===i.layout&&(i.columns=1),"timeline-vertical"!==i.layout&&"timeline-horizontal"!==i.layout||(t.animation_speed=.25,t.animation_type="fade",t.animation_direction=""),t.circlebordersize=_.fusionValidateAttrValue(t.circlebordersize,"px")},buildAttr:function(e){var t,i={class:"fusion-column content-box-column",style:""},o=this.model.get("cid"),n=e.values,s=e.parentValues,a=1,r=s.columns,l="";""===r||"0"===r?r=1:6<r&&(r=6),t=12/(r=parseInt(r,10)),a>r&&(a=1),i.class+=" content-box-column content-box-column-cid-"+o,i.class+=" col-lg-"+t,i.class+=" col-md-"+t,i.class+=" col-sm-"+t,5===r&&(i.class="fusion-column content-box-column content-box-column-cid-"+o+" col-lg-2 col-md-2 col-sm-2"),i.class+=" fusion-content-box-hover ","timeline-vertical"!==s.layout&&"timeline-horizontal"!==s.layout||(i.class+=" fusion-appear"),n.circlebordercolor&&(l=n.circlebordercolor),n.outercirclebordercolor&&(l=n.outercirclebordercolor),n.circlebordercolor||n.outercirclebordercolor||(l="#f6f6f6"),1==parseFloat(o)/parseFloat(r)&&(i.class+=" content-box-column-first-in-row"),e.last&&(i.class+=" content-box-column-last"),parseFloat(o)===parseFloat(r)&&(i.class+=" content-box-column-last-in-row"),l&&-1!==jQuery.inArray(s.layout,["clean-vertical","clean-horizontal"])&&(i.style+="border-color:"+l+";"),""!==n.class&&(i.class+=" "+n.class),""!==n.id&&(i.id=n.id),this.model.set("selectors",i)},buildShortcodeIconAttr:function(e){var t={class:"",style:"","aria-hidden":"true"},i=e.values,o=e.parentValues;return i.image?(t.class="image","icon-boxed"===o.layout&&i.image_width&&i.image_height&&(t.style="margin-left:-"+parseFloat(i.image_width)/2+"px;",t.style+="top:-"+(parseFloat(i.image_height)/2+50)+"px;")):i.icon&&(t.class="fontawesome-icon "+_.fusionFontAwesome(i.icon),i.circle||(i.circle=o.circle),"yes"===o.icon_circle?(t.class+=" circle-yes",i.circlebordercolor&&(t.style+="border-color:"+i.circlebordercolor+";"),i.circlebordersize&&(t.style+="border-width:"+i.circlebordersize+";"),i.circlecolor&&(t.style+="background-color:"+i.circlecolor+";"),t.style+="height:"+2*parseFloat(o.icon_size)+"px;width:"+2*parseFloat(o.icon_size)+"px;line-height:"+2*parseFloat(o.icon_size)+"px;","icon-boxed"!==o.layout||""!==i.outercirclebordercolor&&""!==i.outercirclebordersize&&""===parseFloat(i.outercirclebordersize)||(t.style+="top:-"+(50+parseFloat(o.icon_size))+"px;margin-left:-"+parseFloat(o.icon_size)+"px;"),"round"===o.icon_circle_radius&&(o.icon_circle_radius="100%"),t.style+="border-radius:"+o.icon_circle_radius+";",i.outercirclebordercolor&&i.outercirclebordersize&&0!==parseFloat(i.outercirclebordersize)&&(t.style+="position:relative;",t.style+="top:auto;",t.style+="left:auto;",t.style+="margin:0;",t.style+="box-sizing: content-box;")):(t.class+=" circle-no",t.style+="background-color:transparent;border-color:transparent;height:auto;width: "+_.fusionGetValueWithUnit(o.icon_size)+";line-height:normal;","icon-boxed"===o.layout&&(t.style+="position:relative;left:auto;right:auto;top:auto;margin-left:auto;margin-right:auto;")),i.iconcolor&&(t.style+="color:"+i.iconcolor+";"),i.iconflip&&(t.class+=" fa-flip-"+i.iconflip),i.iconrotate&&(t.class+=" fa-rotate-"+i.iconrotate),"yes"===i.iconspin&&(t.class+=" fa-spin"),t.style+="font-size:"+o.icon_size+";"),t},buildShortcodeIconParentAttr:function(e){var t={class:"icon",style:""},i=e.values,o=e.parentValues,n="";return"yes"!==o.icon_circle&&"icon-boxed"===o.layout&&(t.style+="position:absolute;width: 100%;top:-"+(50+parseFloat(o.icon_size)/2)+"px;"),"timeline-vertical"!==o.layout||"right"!==o.icon_align||i.outercirclebordercolor&&i.circlebordersize||(t.style+="padding-left:20px;"),o.animation_delay&&(n=o.animation_delay,t.style+="-webkit-animation-duration: "+n+"ms;",t.style+="animation-duration: "+n+"ms;"),t},buildShortcodeIconWrapperAttr:function(e){var t={class:"icon",style:""},i=e.values,o=e.parentValues,n="",s="",a="transparent"===i.circlecolor||0===jQuery.Color(i.circlecolor).alpha();return i.icon&&(t.class="","yes"===o.icon_circle&&(t.style+="height:"+2*(parseFloat(o.icon_size)+parseFloat(i.circlebordersize))+"px;",t.style+="width:"+2*(parseFloat(o.icon_size)+parseFloat(i.circlebordersize))+"px;",t.style+="line-height:"+(parseFloat(o.icon_size)+2*parseFloat(i.circlebordersize))+"px;",i.outercirclebordercolor&&(t.style+="border-color:"+i.outercirclebordercolor+";"),i.outercirclebordersize&&0!==parseFloat(i.outercirclebordersize)&&(t.style+="border-width:"+parseFloat(i.outercirclebordersize)+"px;"),t.style+="border-style:solid;",i.circlebordercolor&&0!==parseFloat(i.circlebordersize)?t.style+="background-color:"+i.circlebordercolor+";":i.outercirclebordersize&&0!==parseFloat(i.outercirclebordersize)&&!a&&(t.style+="background-color:"+i.outercirclebordercolor+";"),"icon-boxed"===o.layout&&(t.style+="position:absolute;",t.style+="top:-"+(50+parseFloat(o.icon_size)+parseFloat(i.circlebordersize))+"px;",t.style+="margin-left:-"+(parseFloat(o.icon_size)+parseFloat(i.circlebordersize))+"px;"),"round"===o.icon_circle_radius&&(o.icon_circle_radius="100%"),-1!==jQuery.inArray(o.layout,["icon-on-side","timeline-vertical","clean-horizontal"])&&(n="margin-right","right"===o.icon_align&&(n="margin-left"),s="20px","timeline-vertical"===o.layout&&"right"===o.icon_align&&(s="10px"),t.style+=n+":"+s+";"),t.style+="box-sizing:content-box;",t.style+="border-radius:"+o.icon_circle_radius+";")),t},buildContentBoxHeadingAttr:function(e){var t={class:"content-box-heading"},i=e.values,o=e.parentValues,n="",s="";return o.title_size&&(n=parseFloat(o.title_size),t.style="font-size:"+n+"px;line-height:"+(n+5)+"px;",t["data-fontsize"]=n,t["data-lineheight"]=n+5,t["data-inline-fontsize"]=n+"px",t["data-inline-lineheight"]=n+5+"px"),"right"===o.icon_align&&""!==t.style&&-1!==jQuery.inArray(o.layout,["icon-on-side","icon-with-title","timeline-vertical","clean-horizontal"])?t.style+=" text-align:"+o.icon_align+";":"left"===o.icon_align&&jQuery("body").hasClass("rtl")&&""===t.style&&-1!==jQuery.inArray(o.layout,["icon-on-side","icon-with-title","timeline-vertical","clean-horizontal"])&&(t.style+=" text-align:"+o.icon_align+";"),"icon-on-side"!==o.layout&&"clean-horizontal"!==o.layout||(""!==i.image&&""!==i.image_width&&""!==i.image_height?"right"===o.icon_align?t.style+="padding-right:"+(parseFloat(i.image_width)+20)+"px;":t.style+="padding-left:"+(parseFloat(i.image_width)+20)+"px;":""!==i.icon&&(s="yes"===o.icon_circle?2*(parseFloat(o.icon_size)+parseFloat(i.circlebordersize)+parseFloat(i.outercirclebordersize)):o.icon_size,"right"===o.icon_align?t.style+="padding-right:"+(parseFloat(s)+20)+"px;":t.style+="padding-left:"+(parseFloat(s)+20)+"px;")),t=_.fusionInlineEditor({cid:this.model.get("cid"),param:"title","disable-return":!0,"disable-extra-spaces":!0,toolbar:!1},t)},buildContentBoxHeadingWrapperAttr:function(e){var t={class:"heading"},i=e.values,o=e.parentValues;return""===i.icon&&""===i.image||(t.class+=" heading-with-icon"),""!==o.icon_align&&(t.class+=" icon-"+o.icon_align),t},buildContentContainerAttr:function(e){var t={class:"content-container",style:""},i=e.values,o=e.parentValues,n="",s="";return-1!==jQuery.inArray(o.layout,["icon-on-side","timeline-vertical","clean-horizontal"])&&i.image&&i.image_width&&i.image_height?("right"===o.icon_align?t.style+="padding-right:"+(parseFloat(i.image_width)+20)+"px;":t.style+="padding-left:"+(parseFloat(i.image_width)+20)+"px;","timeline-vertical"===o.layout&&(n=i.image_height)>parseFloat(o.title_size)&&0<n-parseFloat(o.title_size)-15&&(t.style+="margin-top:-"+(n-parseFloat(o.title_size))+"px;")):-1!==jQuery.inArray(o.layout,["icon-on-side","timeline-vertical","clean-horizontal"])&&i.icon&&(s="yes"===o.icon_circle?2*(parseFloat(o.icon_size)+parseFloat(i.circlebordersize)+parseFloat(i.outercirclebordersize)):o.icon_size,"right"===o.icon_align?t.style+="padding-right:"+(parseFloat(s)+20)+"px;":t.style+="padding-left:"+(parseFloat(s)+20)+"px;","timeline-vertical"===o.layout&&s>parseFloat(o.title_size)&&0<s-parseFloat(o.title_size)-15&&("timeline-vertical"===o.layout?t.style+="margin-top:-"+(parseFloat(s)-parseFloat(o.title_size))/2+"px;":t.style+="margin-top:-"+(parseFloat(s)-parseFloat(o.title_size))+"px;")),"right"===o.icon_align&&""!==t.style&&-1!==jQuery.inArray(o.layout,["icon-on-side","icon-with-title","timeline-vertical","clean-horizontal"])?t.style+=" text-align:"+o.icon_align+";":"right"===o.icon_align&&""===t.style&&-1!==jQuery.inArray(o.layout,["icon-on-side","icon-with-title","timeline-vertical","clean-horizontal"])&&(t.style+=" text-align:"+o.icon_align+";"),o.body_color&&(t.style+="color:"+o.body_color+";"),t=_.fusionInlineEditor({cid:this.model.get("cid")},t)},buildShortcodeTimelineAttr:function(e){var t={class:""},i=e.values,o=e.parentValues,n="",s="",a="",r="",l="";return"timeline-horizontal"===o.layout?(t.class="content-box-shortcode-timeline",t.style="",a=(s="yes"===o.icon_circle?0!==parseFloat(i.outercirclebordersize)?2*(parseFloat(o.icon_size)+parseFloat(i.circlebordersize)+parseFloat(i.outercirclebordersize)):2*parseFloat(o.icon_size):parseFloat(o.icon_size))/2,i.backgroundcolor&&"transparent"!==i.backgroundcolor&&0!==jQuery.Color(i.backgroundcolor).alpha()&&(a+=35),i.circlebordercolor&&(n=i.circlebordercolor),i.outercirclebordercolor&&i.outercirclebordersize&&(n=i.outercirclebordercolor),i.circlebordercolor||i.outercirclebordercolor||(n="#f6f6f6"),n&&(t.style+="border-color:"+n+";"),a&&(t.style+="top:"+parseFloat(a)+"px;")):"timeline-vertical"===o.layout&&(t.class="content-box-shortcode-timeline-vertical",t.style="",a=s="yes"===o.icon_circle?parseFloat(i.outercirclebordersize)?2*(parseFloat(o.icon_size)+parseFloat(i.circlebordersize)+parseFloat(i.outercirclebordersize)):2*parseFloat(o.icon_size):parseFloat(o.icon_size),r=s/2,i.backgroundcolor&&"transparent"!==i.backgroundcolor&&0!==jQuery.Color(i.backgroundcolor).alpha()&&(a+=35,r+=35),i.circlebordercolor&&(n=i.circlebordercolor),i.outercirclebordercolor&&i.outercirclebordersize&&(n=i.outercirclebordercolor),i.circlebordercolor||i.outercirclebordercolor||(n="#f6f6f6"),n&&(t.style+="border-color:"+n+";"),r&&("right"===o.icon_align?t.style+="right:"+parseFloat(r)+"px;":t.style+="left:"+parseFloat(r)+"px;"),a&&(t.style+="top:"+a+"px;")),o.animationDelay&&(l=o.animation_delay,t.style+="-webkit-transition-duration: "+l+"ms;",t.style+="animation-duration: "+l+"ms;"),t},buildContentWrapperAttr:function(e){var t={class:"col content-box-wrapper content-wrapper"},i=e.values,o=e.parentValues;return i.backgroundcolor||(i.backgroundcolor=o.backgroundcolor),i.backgroundcolor&&(t.style="background-color:"+i.backgroundcolor+";","transparent"!==i.backgroundcolor&&0!==jQuery.Color(i.backgroundcolor).alpha()&&(t.class+="-background")),"icon-boxed"===o.layout&&(t.class+=" content-wrapper-boxed"),i.link&&"box"===o.link_area&&(t["data-link"]=i.link,t["data-link-target"]=i.link_target),t.class+=" link-area-"+o.link_area,i.link&&o.link_type&&(t.class+=" link-type-"+o.link_type),i.outercirclebordercolor&&i.outercirclebordersize&&parseFloat(i.outercirclebordersize)&&(t.class+=" content-icon-wrapper-yes"),i.outercirclebordercolor&&i.outercirclebordersize&&0!==parseFloat(i.outercirclebordersize)&&"pulsate"===o.icon_hover_type?t.class+=" icon-wrapper-hover-animation-"+o.icon_hover_type:t.class+=" icon-hover-animation-"+o.icon_hover_type,i.textcolor&&(t.style+="color:"+i.textcolor+";"),"none"!==i.animation_type&&void 0!==i.animation_class&&(t.class+=" "+i.animation_class),t=""===i.animation_type?_.fusionAnimations(o,t):_.fusionAnimations(i,t)},buildStyles:function(e){var t="",i=(this.model.get("cid"),e.values),o=e.parentValues,n=e.parentCid,s="",a="";return"transparent"!==i.circlecolor&&0!==jQuery.Color(i.backgroundcolor).alpha()&&"no"!==o.icon_circle||(s=!0),!0===s?(a=o.hover_accent_color,t+=".fusion-content-boxes-cid"+n+" .fusion-content-box-hover .heading-link:hover .icon i.circle-yes,.fusion-content-boxes-cid"+n+" .fusion-content-box-hover .link-area-box:hover .heading-link .icon i.circle-yes,.fusion-content-boxes-cid"+n+" .fusion-content-box-hover .link-area-link-icon-hover .heading .icon i.circle-yes,.fusion-content-boxes-cid"+n+" .fusion-content-box-hover .link-area-box-hover .heading .icon i.circle-yes { background-color: transparent !important; border-color: "+a+" !important;}"):!1===s&&(t+=".fusion-content-boxes-cid"+n+" .fusion-content-box-hover .heading-link:hover .icon i.circle-yes,.fusion-content-boxes-cid"+n+" .fusion-content-box-hover .link-area-box:hover .heading-link .icon i.circle-yes,.fusion-content-boxes-cid"+n+" .fusion-content-box-hover .link-area-link-icon-hover .heading .icon i.circle-yes,.fusion-content-boxes-cid"+n+" .fusion-content-box-hover .link-area-box-hover .heading .icon i.circle-yes {background-color: "+(a=o.hover_accent_color)+" !important;border-color: "+a+" !important;}"),t},contentBoxShortcodeAttrs:function(e,t,i){var o={class:"",style:""},n="",s="",a=i.values,r=i.parentValues,l=i.extras;return a.link&&(o.href=a.link),a.link_target&&(o.target=a.link_target),"_blank"===a.link_target&&(o.rel="noopener noreferrer"),e&&("text"===r.link_type||"button-bar"===r.link_type?(o.class+=" fusion-read-more","button-bar"===r.link_type&&(o.class+=" fusion-button-bar")):"button"===r.link_type&&(o.class+="fusion-read-more-button fusion-content-box-button fusion-button button-default button-"+l.button_size.toLowerCase()+" button-"+l.button_type.toLowerCase())),"button-bar"===r.link_type&&"timeline-vertical"===r.layout&&e?(n=35,a.backgroundcolor&&"transparent"!==a.backgroundcolor&&0!==jQuery.Color(a.backgroundcolor).alpha()&&(n+=35),a.image&&a.image_width&&a.image_height?s=a.image_width:a.icon&&(s="yes"===r.icon_circle?2*(r.icon_size+parseFloat(a.circlebordersize)+parseFloat(a.outercirclebordersize)):r.icon_size),"right"===r.icon_align?o.style+="margin-right:"+(parseFloat(s)+parseFloat(n))+"px;":o.style+="margin-left:"+(parseFloat(s)+parseFloat(n))+"px;",o.style+="width:calc(100% - "+(s+n+15)+"px);"):-1!==jQuery.inArray(r.layout,["icon-on-side","clean-horizontal","timeline-vertical"])&&-1!==jQuery.inArray(r.link_type,["text","button"])&&e?(n=20,a.image&&a.image_width&&a.mage_height?s=a.image_width:a.icon&&(s="yes"===r.icon_circle?2*(parseFloat(r.icon_size)+parseFloat(a.circlebordersize)+parseFloat(a.outercirclebordersize)):r.icon_size),"text"===r.link_type||"button"===r.link_type?("right"===r.icon_align?(o.style+="float:"+r.icon_align+";",o.style+="margin-right:"+(parseFloat(s)+parseFloat(n))+"px;"):o.style+="margin-left:"+(parseFloat(s)+n)+"px;","yes"===r.button_span&&(o.style+="width:calc( 100% - "+(parseFloat(s)+parseFloat(n))+"px );")):"right"===r.icon_align?o.style+="margin-right:"+(parseFloat(s)+parseFloat(n))+"px;":o.style+="margin-left:"+(parseFloat(s)+parseFloat(n))+"px;"):"icon-with-title"===r.layout&&(o.style+="float:"+r.icon_align+";"),-1===jQuery.inArray(r.layout,["icon-on-side","clean-horizontal","timeline-vertical"])&&"button"===r.link_type&&"yes"===r.button_span&&(o.style+="width: 100%;"),t&&(o.class+=" "+t),o}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_social_links=FusionPageBuilder.ElementView.extend({beforePatch:function(){jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-tooltip")).tooltip("destroy")},afterPatch:function(){this._refreshJs()},filterTemplateAtts:function(e){var t,i,o,n=e.values;return this.validateValuesExtras(e.values,e.extras),t=this.buildShortcodeAttr(e.values),i=this.buildSocialNetworksAttr(e.values),o=this.buildIcons(e.values),(e={}).socialLinksShortcode=t,e.socialLinksShortcodeSocialNetworks=i,e.icons=o,e.alignment=n.alignment,e},validateValuesExtras:function(e,t){e.linktarget=e.linktarget?"_blank":"_self",e.social_media_icons=t.social_media_icons,e.social_media_icons_icon=t.social_media_icons.icon,e.social_media_icons_url=t.social_media_icons.url,e.icons_boxed_radius=_.fusionValidateAttrValue(e.icons_boxed_radius,"px"),e.font_size=_.fusionValidateAttrValue(e.font_size,"px"),e.boxed_padding=_.fusionValidateAttrValue(t.boxed_padding,"px"),""==e.color_type&&(e.box_colors=e.social_links_box_color,e.icon_colors=e.social_links_icon_color)},buildShortcodeAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-social-links"});return t.class+=_.fusionGetStickyClass(e.sticky_display),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildSocialNetworksAttr:function(e){var t={class:"fusion-social-networks"};return"yes"===e.icons_boxed&&(t.class+=" boxed-icons"),t},buildIcons:function(e){var t=_.fusionGetSocialNetworks(e);return t=_.fusionSortSocialNetworks(t,e),_.fusionBuildSocialLinks(t,this.socialLinksIconAttr,e)},socialLinksIconAttr:function(e,t){var i,o,n={class:"",style:""};return i=_.fusionUcFirst(e.social_network),"custom_"===e.social_network.substr(0,7)&&(n.class+="custom ",i=e.social_network.replace("custom_",""),e.social_network=i.toLowerCase()),n.class+="fusion-social-network-icon fusion-tooltip fusion-"+e.social_network+" fusion-icon-"+e.social_network,n["aria-label"]="fusion-"+e.social_network,o=e.social_link,n.target=t.linktarget,"_blank"===t.linktarget&&(n.rel="noopener noreferrer"),"mail"===e.social_network&&(o="http"===e.social_link.substr(0,4)?e.social_link:"mailto:"+e.social_link.replace("mailto:",""),n.target="_self"),"phone"===e.social_network&&(o="tel:"+e.social_link.replace("tel:",""),n.target="_self"),n.href=o,void 0!==e.icon_color&&""!==e.icon_color&&(n.style="color:"+e.icon_color+";"),"yes"===t.icons_boxed&&void 0!==e.box_color&&(n.style+="background-color:"+e.box_color+";border-color:"+e.box_color+";"),("yes"===t.icons_boxed&&t.icons_boxed_radius||"0"===t.icons_boxed_radius)&&(t.icons_boxed_radius="round"===t.icons_boxed_radius?"50%":t.icons_boxed_radius,n.style+="border-radius:"+t.icons_boxed_radius+";"),t.font_size&&(n.style+="font-size:"+t.font_size+";","yes"===t.icons_boxed&&(n.style+="width:calc("+t.font_size+" + (2 * ("+t.boxed_padding+")) + 2px);")),"none"!==t.tooltip_placement.toLowerCase()&&(n["data-placement"]=t.tooltip_placement.toLowerCase(),i="youtube"===i.toLowerCase()?"YouTube":i,n["data-title"]=i,n["data-toggle"]="tooltip"),n.title=i,n}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_modal_text_link=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return t.modalTextShortcode=this.buildShortcodeAttr(e.values),t.output=e.values.element_content,t.name=e.values.name,t.inline=void 0!==e.inlineElement,t.label=window.fusionAllElements[this.model.get("element_type")].name,t.icon=window.fusionAllElements[this.model.get("element_type")].icon,t.cid=this.model.get("cid"),t},buildShortcodeAttr:function(e){var t={class:"fusion-modal-text-link"};return""!==e.name&&(t["data-toggle"]="modal",t["data-target"]=".fusion-modal."+e.name),void 0!==e.class&&""!==e.class&&(t.class+=" "+e.class),void 0!==e.id&&""!==e.id&&(t.id=e.id),t.href="#",t=_.fusionInlineEditor({cid:this.model.get("cid"),"disable-return":!0,"disable-extra-spaces":!0,toolbar:!0},t)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_popover=FusionPageBuilder.ElementView.extend({beforePatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find('[data-toggle~="popover"]'));e.removeData(),e.remove()},afterPatch:function(){this._refreshJs()},filterTemplateAtts:function(e){var t={};return t.attr=this.computeAttr(e.values),t.styles=this.computeStyles(e.values),t.cid=this.model.get("cid"),t.parent=this.model.get("parent"),t.inline=void 0!==e.inlineElement,t.content=e.values.element_content,t.label=window.fusionAllElements[this.model.get("element_type")].name,t.icon=window.fusionAllElements[this.model.get("element_type")].icon,t.popover=e.values.popover,t},computeAttr:function(e){var t=this.model.get("cid"),i={class:"fusion-popover popover-"+t},o=e.content;"default"===e.placement&&(e.placement=fusionAllElements.fusion_popover.defaults.placement),""!==e.class&&(i.class+=" "+e.class),""!==e.id&&(i.id=e.id);try{o&&""!==o&&FusionPageBuilderApp.base64Encode(FusionPageBuilderApp.base64Decode(o))===o&&(o=FusionPageBuilderApp.base64Decode(o))}catch(e){}return i["data-animation"]=e.animation,i["data-class"]="fusion-popover-"+t,i["data-delay"]=e.delay,i["data-placement"]=e.placement.toLowerCase(),i["data-title"]=e.title,i["data-toggle"]="popover",i["data-trigger"]=e.trigger,e.popover=o,i},computeStyles:function(e){var t,i,o=this.model.get("cid");return"default"===e.placement&&(e.placement=fusionAllElements.fusion_popover.defaults.placement),i=e.content_bg_color,"bottom"===e.placement&&(i=e.title_bg_color),t='<style type="text/css">',""!==e.bordercolor&&(t+=".fusion-popover-"+o+"."+e.placement+" .arrow{border-"+e.placement+"-color:"+e.bordercolor+";}",t+=".fusion-popover-"+o+"{border-color:"+e.bordercolor+";}"),t+=".fusion-popover-"+o+" .popover-title{",""!==e.title_bg_color&&(t+="background-color:"+e.title_bg_color+";"),""!==e.textcolor&&(t+="color:"+e.textcolor+";"),""!==e.bordercolor&&(t+="border-color:"+e.bordercolor+";"),t+="}",t+=".fusion-popover-"+o+" .popover-content{",""!==e.content_bg_color&&(t+="background-color:"+e.content_bg_color+";"),""!==e.textcolor&&(t+="color:"+e.textcolor+";"),t+="}",""!==i&&(t+=".fusion-popover-"+o+"."+e.placement+" .arrow:after{border-"+e.placement+"-color:"+i+";}"),t+="</style>"}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_events=FusionPageBuilder.ElementView.extend({afterPatch:function(){this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.attrEventsColumn=this.buildattrEventsColumn(e.values),t.eventsList={},void 0!==e.query_data&&void 0!==e.query_data.posts&&(t.eventsList=this.buildEventsList(e)),void 0!==e.query_data&&void 0!==e.query_data.max_num_pages&&void 0!==e.query_data.paged&&(t.paginationCode=this.buildPagination(e)),t.query_data=e.query_data,t.load_more_text=e.extras.load_more_text,t.load_more=e.values.load_more&&-1!=e.values.posts_per_page,t},validateValues:function(e){e=_.fusionGetPadding(e)},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-events-shortcode",style:""});return"no"!==e.pagination&&(t.class+=" fusion-events-pagination-"+e.pagination.replace("_","-")),"-1"!==e.column_spacing&&(t.style+="margin-left: -"+e.column_spacing/2+"px;",t.style+="margin-right: -"+e.column_spacing/2+"px;"),e.content_alignment&&(t.class+=" fusion-events-layout-"+e.content_alignment),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildPagination:function(e){var t=e.extras.pagination_global,i=e.extras.pagination_start_end_range_global,o=e.extras.pagination_range_global,n="",s="",a="",r=e.query_data,l=e.values;return-1==l.number_posts&&(l.pagination="no"),l.load_more=!1,"no"!==l.pagination&&"load_more_button"===l.pagination&&(l.load_more=!0,l.pagination="infinite"),"no"!==l.pagination&&(n=r.paged,s=r.max_num_pages,a=_.fusionPagination(s,n,o,l.pagination,t,i)),a},buildattrEventsColumn:function(e){var t="",i=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-layout-column",style:""});switch(e.columns){case"1":t="full-one";break;case"2":t="one-half";break;case"3":t="one-third";break;case"4":t="one-fourth";break;case"5":t="one-fifth";break;case"6":t="one-sixth"}return t+="-1"!==e.column_spacing?" fusion-spacing-no":" fusion-spacing-yes","-1"===e.column_spacing&&-1===e.column_spacing||(i.style+="padding: "+e.column_spacing/2+"px;"),i.class+=" fusion-"+t,i},buildEventsList:function(e){var t="",i=e.query_data,o=e.values,n=!1,s="",a="yes"===o.strip_html,r=parseInt(o.columns,10),l=1,u={},d=this;return _.each(i.posts,function(c){u=d.buildattrEventsColumn(e.values),l===r&&(n=!0),l>r&&(l=1,n=!1),1===r&&(n=!0),""!=(s=n?" fusion-column-last":"")&&(u.class+=s),t+="<div "+_.fusionGetAttributes(u)+">",t+='<div class="fusion-column-wrapper">',t+='<div class="fusion-events-thumbnail hover-type-'+i.ec_hover_type+'">',t+='<a href="'+c.permalink+'" class="url" rel="bookmark" aria-label="'+c.title+'">',t+=c.thumbnail,t+="</a>",t+="</div>",t+='<div class="fusion-events-content-wrapper" style="padding:'+o.padding+';">',t+='<div class="fusion-events-meta">',t+='<h2><a href="'+c.permalink+'" class="url" rel="bookmark">'+c.title+"</a></h2>",t+="<h4>"+c.tribe_events_event_schedule_details+"</h4>",t+="</div>","no_text"!==o.content_length&&(t+='<div class="fusion-events-content">',"excerpt"===o.content_length?t+=_.fusionGetFixedContent(c.content,"yes",o.excerpt_length,a):t+=_.fusionGetFixedContent(c.content,"no"),t+="</div>"),t+="</div>",t+="</div>",t+="</div>",n&&(t+='<div class="fusion-clearfix"></div>',n=!1),l++}),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_countdown=FusionPageBuilder.ElementView.extend({onInit:function(){this.deprecatedParams()},onRender:function(){var e=this;jQuery(window).on("load",function(){e.afterPatch()})},beforeRemove:function(){this.beforePatch()},beforePatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-countdown-counter-wrapper"));e.stopCountDown(),e.removeData()},afterPatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-countdown-counter-wrapper"));setTimeout(function(){e.stopCountDown(),e.fusion_countdown()},300)},filterTemplateAtts:function(e){var t,i,o,n,s,a,r,l,u,d,c;return this.validateValues(e.values),t=this.buildWrapperAtts(e.values),i=this.buildCounterAtts(e.values,e.extras),o=this.buildLinkAtts(e.values,e.extras),a=this.buildDashHtml(e.values,e.extras),r=this.buildStyles(e.values),n=this.buildHeadingAttr(e.values),s=this.buildSubHeadingAttr(e.values),l=e.values.heading_text,u=e.values.subheading_text,d=e.values.link_text,c=e.values.element_content,(e={}).wrapperAttributes=t,e.counterAttributes=i,e.countdownShortcodeLink=o,e.dashhtml=a,e.styles=r,e.headingAttr=n,e.subHeadingAttr=s,e.heading_text=l,e.subheading_text=u,e.link_text=d,e.element_content=c,e.cid=this.model.get("cid"),e},validateValues:function(e){e.border_radius=_.fusionValidateAttrValue(e.border_radius,"px"),e.counter_border_size=_.fusionValidateAttrValue(e.counter_border_size,"px"),e.counter_border_radius=_.fusionValidateAttrValue(e.counter_border_radius,"px"),"default"===e.link_target&&(e.link_target=fusionAllElements.fusion_countdown.link_target)},buildWrapperAtts:function(e){var t,i={class:"countdown-shortcode fusion-countdown fusion-countdown-cid"+this.model.get("cid")+" fusion-countdown-"+e.layout+" fusion-countdown-label-"+e.label_position};return e.heading_text&&e.subheading_text&&(i.class+=" fusion-countdown-has-heading"),e.link_text&&(i.class+=" fusion-countdown-has-link"),i=_.fusionVisibilityAtts(e.hide_on_mobile,i),t=jQuery.Color(e.background_color),e.background_image||e.background_color&&0!==t.alpha()&&"transparent"!==e.background_color||(i.class+=" fusion-no-bg"),e.class&&(i.class+=" "+e.class),e.id&&(i.id=e.id),i},buildCounterAtts:function(e,t){var i,o,n,s,a,r={class:"fusion-countdown-counter-wrapper countdown-shortcode-counter-wrapper",id:"fusion-countdown-cid"+this.model.get("cid")};return"site_time"===e.timezone&&(r["data-gmt-offset"]=t.gmt_offset),e.countdown_end&&(o=new Date(e.countdown_end),s=o.getMonth()+1,a=2,n=(i="000000000"+s).substr(i.length-a),r["data-timer"]=o.getFullYear()+"-"+n+"-"+o.getDate()+"-"+o.getHours()+"-"+o.getMinutes()+"-"+o.getSeconds()),r["data-omit-weeks"]="yes"===e.show_weeks?"0":"1",r},buildLinkAtts:function(e){var t={class:"fusion-countdown-link",target:e.link_target,href:e.link_url};return"_blank"===e.link_target&&(t.rel="noopener noreferrer"),t},buildDashHtml:function(e,t){var i,o="",n="",s=[{show:e.show_weeks,class:"weeks",shortname:t.weeks_text,longname:t.weeks_text},{show:"yes",class:"days",shortname:t.days_text,longname:t.days_text},{show:"yes",class:"hours",shortname:t.hrs_text,longname:t.hours_text},{show:"yes",class:"minutes",shortname:t.min_text,longname:t.minutes_text},{show:"yes",class:"seconds",shortname:t.sec_text,longname:t.seconds_text}];return"text_flow"!==e.label_position&&(e.dash_titles="long"),i=jQuery.Color(e.counter_box_color),e.counter_box_color&&0!==i.alpha()&&"transparent"!==e.counter_box_color||(o=" fusion-no-bg"),jQuery.each(s,function(t,i){"yes"===i.show&&(n+='<div class="fusion-dash-wrapper '+o+'">',n+='<div class="fusion-dash fusion-dash-'+i.class+'">',n+='<div class="fusion-digit-wrapper">',"days"===i.class&&(n+='<div class="fusion-thousand-digit fusion-digit">0</div>'),"weeks"!==i.class&&"days"!==i.class||(n+='<div class="fusion-hundred-digit fusion-digit">0</div>'),n+='<div class="fusion-digit">0</div><div class="fusion-digit">0</div>',n+='<div class="fusion-dash-title">'+i[e.dash_titles+"name"]+"</div>",n+="</div>",n+="</div></div>")}),n},buildStyles:function(e){var t,i="",o=this.model.get("cid");return e.background_image?(i+=".fusion-countdown-cid"+o+" {",i+="background:url("+e.background_image+") "+e.background_position+" "+e.background_repeat+" "+e.background_color+";","no-repeat"===e.background_repeat&&(i+="-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover;"),i+="}"):e.background_color&&(i+=".fusion-countdown-cid"+o+" {background-color:"+e.background_color+";}"),e.border_radius&&(i+=".fusion-countdown-cid"+o+", .fusion-countdown-cid"+o+" .fusion-dash {border-radius:"+e.border_radius+";}"),e.counter_box_spacing&&(i+=".fusion-countdown-cid"+o+" .fusion-dash-wrapper  {padding:"+(t=parseFloat(e.counter_box_spacing))/2+e.counter_box_spacing.replace(t,"")+";}"),e.counter_box_color&&(i+=".fusion-countdown-cid"+o+" .fusion-dash {background-color:"+e.counter_box_color+";}"),i+=".fusion-countdown-cid"+o+" .fusion-dash {padding:"+e.counter_padding_top+" "+e.counter_padding_right+" "+e.counter_padding_bottom+" "+e.counter_padding_left+";}",0!==parseInt(e.counter_border_size)&&(i+=".fusion-countdown-cid"+o+" .fusion-dash {border:"+e.counter_border_size+" solid "+e.counter_border_color+";}"),e.counter_border_radius&&(i+=".fusion-countdown-cid"+o+" .fusion-dash {border-radius:"+e.counter_border_radius+";}"),e.counter_font_size&&(i+=".fusion-countdown-cid"+o+" .fusion-countdown-counter-wrapper {font-size:"+e.counter_font_size+";}"),e.counter_text_color&&(i+=".fusion-countdown-cid"+o+" .fusion-countdown-counter-wrapper {color:"+e.counter_text_color+";}"),e.label_font_size&&(i+=".fusion-countdown-cid"+o+" .fusion-dash-title {font-size:"+e.label_font_size+";}"),e.label_color&&(i+=".fusion-countdown-cid"+o+" .fusion-dash-title {color:"+e.label_color+";}"),e.heading_font_size&&(i+=".fusion-countdown-cid"+o+" .fusion-countdown-heading {font-size:"+e.heading_font_size+";}"),e.heading_text_color&&(i+=".fusion-countdown-cid"+o+" .fusion-countdown-heading {color:"+e.heading_text_color+";}"),e.subheading_font_size&&(i+=".fusion-countdown-cid"+o+" .fusion-countdown-subheading {font-size:"+e.subheading_font_size+";}"),e.subheading_text_color&&(i+=".fusion-countdown-cid"+o+" .fusion-countdown-subheading {color:"+e.subheading_text_color+";}"),e.link_text_color&&(i+=".fusion-countdown-cid"+o+" .fusion-countdown-link {color:"+e.link_text_color+";}"),i},buildHeadingAttr:function(){return _.fusionInlineEditor({cid:this.model.get("cid"),param:"heading_text","disable-return":!0,"disable-extra-spaces":!0,toolbar:!1},{class:"fusion-countdown-heading"})},buildSubHeadingAttr:function(){return _.fusionInlineEditor({cid:this.model.get("cid"),param:"subheading_text","disable-return":!0,"disable-extra-spaces":!0,toolbar:!1},{class:"fusion-countdown-subheading"})},deprecatedParams:function(){var e=this.model.get("params");void 0===e.counter_border_radius&&"string"==typeof e.border_radius&&(e.counter_border_radius=e.border_radius),void 0===e.label_color&&"string"==typeof e.counter_text_color&&(e.label_color=e.counter_text_color),this.model.set("params",e)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_menu_anchor=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return t.attr=this.buildAttr(e.values),t.name=e.values.name,t.label=window.fusionAllElements[this.model.get("element_type")].name,t.icon=window.fusionAllElements[this.model.get("element_type")].icon,t},buildAttr:function(e){var t={class:"fusion-menu-anchor",id:e.name};return""!==e.class&&(t.class+=" "+e.class),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_checklist=FusionPageBuilder.ParentElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.checklistShortcode=this.buildChecklistAttr(e.values),this.buildExtraVars(e.values),t.values=e.values,t.cid=this.model.get("cid"),t},validateValues:function(e){e.size=_.fusionValidateAttrValue(e.size,"px"),"small"===e.size?e.size="13px":"medium"===e.size?e.size="18px":"large"===e.size?e.size="40px":-1===e.size.indexOf("px")&&(e.size=e.size+"px"),e.circle=1==e.circle?"yes":e.circle},buildChecklistAttr:function(e){var t={};return t.class="fusion-checklist fusion-checklist-"+this.model.get("cid"),t=_.fusionVisibilityAtts(e.hide_on_mobile,t),this.font_size=parseFloat(e.size),this.line_height=1.7*this.font_size,t.style="font-size:"+this.font_size+"px;line-height:"+this.line_height+"px;","yes"===e.divider&&(t.class+=" fusion-checklist-divider"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t.class+=" fusion-child-element",t["data-empty"]=this.emptyPlaceholderText,t},buildExtraVars:function(){var e={};e.font_size=this.font_size,e.line_height=this.line_height,e.circle_yes_font_size=.88*e.font_size,e.icon_margin=.7*e.font_size,e.icon_margin_position=jQuery("body").hasClass("rtl")?"left":"right",e.content_margin=e.line_height+e.icon_margin,e.content_margin_position=jQuery("body").hasClass("rtl")?"right":"left",this.model.set("extras",e)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_li_item=FusionPageBuilder.ChildElementView.extend({filterTemplateAtts:function(e){var t={},i=this.model.get("parent"),o=FusionPageBuilderElements.find(function(e){return e.get("cid")==i});return this.parentValues=jQuery.extend(!0,{},fusionAllElements.fusion_checklist.defaults,_.fusionCleanParameters(o.get("params"))),this.parentExtras=o.get("extras"),t.checklistShortcodeSpan=this.buildChecklistShortcodeSpanAttr(e.values),t.checklistShortcodeIcon=this.buildChecklistShortcodeIconAttr(e.values),t.checklistShortcodeItemContent=this.buildChecklistShortcodeItemContentAttr(e.values),t.cid=this.model.get("cid"),t.parent=i,t.output=e.values.element_content,t},buildChecklistShortcodeSpanAttr:function(e){var t,i={style:""},o="circle-no";return this.parentValues.circle=1==this.parentValues.circle?"yes":this.parentValues.circle,("yes"===e.circle||"yes"===this.parentValues.circle&&"no"!==e.circle)&&(o="circle-yes",t=e.circlecolor&&""!==e.circlecolor?e.circlecolor:this.parentValues.circlecolor,i.style="background-color:"+t+";",i.style+="font-size:"+this.parentExtras.circle_yes_font_size+"px;"),i.class="icon-wrapper "+o,i.style+="height:"+this.parentExtras.line_height+"px;",i.style+="width:"+this.parentExtras.line_height+"px;",i.style+="margin-"+this.parentExtras.icon_margin_position+":"+this.parentExtras.icon_margin+"px;",i},buildChecklistShortcodeIconAttr:function(e){return{class:"fusion-li-icon "+(e.icon&&""!==e.icon?_.fusionFontAwesome(e.icon):_.fusionFontAwesome(this.parentValues.icon)),style:"color:"+(e.iconcolor&&""!==e.iconcolor?e.iconcolor:this.parentValues.iconcolor)+";","aria-hidden":"true"}},buildChecklistShortcodeItemContentAttr:function(){var e={class:"fusion-li-item-content",style:"margin-"+this.parentExtras.content_margin_position+":"+this.parentExtras.content_margin+"px;"};return e=_.fusionInlineEditor({cid:this.model.get("cid"),"data-disable-return":!0,"data-disable-extra-spaces":!0},e)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_youtube=FusionPageBuilder.ElementView.extend({afterPatch:function(){this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values,e.params),t.attr=this.buildAttr(e.values),t.attrSrc=this.buildAttrSrc(e.values),t.id=e.values.id,t.api_params=e.values.api_params,t.width=e.values.width,t.height=e.values.height,t},validateValues:function(e,t){var i;void 0===t.width||""===t.width||void 0!==t.height&&""!==t.height||(e.height=Math.round(9*t.width/16)),void 0===t.height||""===t.height||void 0!==t.width&&""!==t.width||(e.width=Math.round(16*t.height/9)),e.height=_.fusionValidateAttrValue(e.height,""),e.width=_.fusionValidateAttrValue(e.width,""),(i=e.id.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/))&&11===i[2].length&&(e.id=i[2])},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-video fusion-youtube",style:""});return"yes"===e.center?t.class+=" center-video":t.style+="max-width:"+e.width+"px;max-height:"+e.height+"px;",""!==e.alignment&&(t.class+=" fusion-align"+e.alignment,t.style+=" width:100%"),"true"!=e.autoplay&&"yes"!==e.autoplay||(t["data-autoplay"]="1"),e.class&&""!==e.class&&(t.class+=" "+e.class),""!==e.css_id&&(t.id=e.css_id),t},buildAttrSrc:function(e){var t={class:"video-shortcode"};return"yes"===e.center&&(t.style="max-width:"+e.width+"px;max-height:"+e.height+"px;"),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_soundcloud=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.values=e.values,t},validateValues:function(e){e.width=_.fusionValidateAttrValue(e.width,"px"),e.height=_.fusionValidateAttrValue(e.height,"px"),e.autoplay="yes"===e.auto_play?"true":"false",e.comments="yes"===e.comments?"true":"false","visual"===e.layout?(e.visual="true",e.height&&""!==e.height||(e.height="450")):(e.visual="false",e.height&&""!==e.height||(e.height="166")),e.height=parseInt(e.height,10),e.show_related="yes"===e.show_related?"false":"true",e.show_reposts="yes"===e.show_reposts?"true":"false",e.show_user="yes"===e.show_user?"true":"false",e.color&&(e.color=jQuery.Color(e.color).toHexString(),e.color=e.color.replace("#",""))},buildAttr:function(e){var t={class:"fusion-soundcloud"};return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionVisibilityAtts(e.hide_on_mobile,t)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_text=FusionPageBuilder.ElementView.extend({beforePatch:function(){void 0!==this.model.attributes.params.element_content&&""!==this.model.attributes.params.element_content||(this.model.attributes.params.element_content=fusionBuilderText.text_placeholder)},afterPatch:function(){this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.cid=this.model.get("cid"),t.output=_.autop(e.values.element_content),t},validateValues:function(e){void 0!==e.font_size&&""!==e.font_size&&(e.font_size=_.fusionGetValueWithUnit(e.font_size)),void 0!==e.letter_spacing&&""!==e.letter_spacing&&(e.letter_spacing=_.fusionGetValueWithUnit(e.letter_spacing))},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-text fusion-text-"+this.model.get("cid"),style:""});return t.class+=_.fusionGetStickyClass(e.sticky_display),"default"===e.rule_style&&(e.rule_style=fusionAllElements.fusion_text.defaults.rule_style),t.style+=_.fusionGetFontStyle("text_font",e),e.content_alignment&&(t.style+="text-align:"+e.content_alignment+";"),this.flexDisplay()&&(e.content_alignment_medium&&e.content_alignment!==e.content_alignment_medium&&(t.class+=" md-text-align-"+e.content_alignment_medium),e.content_alignment_small&&e.content_alignment!==e.content_alignment_small&&(t.class+=" sm-text-align-"+e.content_alignment_small)),1<e.columns&&(t.class+=" fusion-text-split-columns fusion-text-columns-"+e.columns,_.each(["-webkit-","-moz-",""],function(i){t.style+=" "+i+"column-count:"+e.columns+";","none"!==e.column_spacing&&e.column_spacing&&(t.style+=" "+i+"column-gap:"+_.fusionValidateAttrValue(e.column_spacing,"px")+";"),"none"!==e.column_min_width&&e.column_min_width&&(t.style+=" "+i+"column-width:"+_.fusionValidateAttrValue(e.column_min_width,"px")+";"),"none"!==e.rule_style&&(t.style+=" "+i+"column-rule:"+e.rule_size+"px "+e.rule_style+" "+e.rule_color+";")})),void 0!==e.font_size&&""!==e.font_size&&(t.style+="font-size:"+e.font_size+";"),void 0!==e.line_height&&""!==e.line_height&&(t.style+="line-height:"+e.line_height+";"),void 0!==e.letter_spacing&&""!==e.letter_spacing&&(t.style+="letter-spacing:"+e.letter_spacing+";"),void 0!==e.text_color&&""!==e.text_color&&(t.style+="color:"+e.text_color+";"),void 0!==e.class&&""!==e.class&&(t.class+=" "+e.class),void 0!==e.id&&""!==e.id&&(t.id=e.id),t=_.fusionInlineEditor({cid:this.model.get("cid")},t),t=_.fusionAnimations(e,t)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tagline_box=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),this.extras=e.extras,this.attrButton=this.buildButtonAttr(e.values),t.attr=this.buildAttr(e.values),t.attrReadingBox=this.buildReadingBoxAttr(e.values),t.desktopAttrButton=this.buildDesktopButtonAttr(e.values),t.mobileAttrButton=this.buildMobileButtonAttr(e.values),t.titleAttr=this.buildTitleAttr(e.values),t.buttonSpanAttr=this.buildButtonSpanAttr(e.values),t.descriptionAttr=this.buildDescriptionAttr(e.values),t.contentAttr=this.buildContentAttr(e.values),t.cid=this.model.get("cid"),t.values=e.values,t},validateValues:function(e){e.border=_.fusionValidateAttrValue(e.border,"px"),e.modal&&(e.link="#"),e.button_type&&(e.button_type=e.button_type.toLowerCase()),void 0!==e.button_shape&&void 0===e.button_border_radius&&("square"===e.button_shape?e.button_border_radius="0":"round"===e.button_shape?(e.button_border_radius="2","3d"===e.button_type&&(e.button_border_radius="4")):"pill"===e.button_shape?e.button_border_radius="25":""===e.button_shape&&(e.button_border_radius=""));try{FusionPageBuilderApp.base64Encode(FusionPageBuilderApp.base64Decode(e.description))===e.description&&(e.description=FusionPageBuilderApp.base64Decode(e.description),e.description=_.unescape(e.description)),FusionPageBuilderApp.base64Encode(FusionPageBuilderApp.base64Decode(e.title))===e.title&&(e.title=FusionPageBuilderApp.base64Decode(e.title),e.title=_.unescape(e.title))}catch(e){}},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-reading-box-container reading-box-container-"+this.model.get("cid"),style:""});return t=_.fusionAnimations(e,t),(e.margin_top||"0"===e.margin_top)&&(t.style+="margin-top:"+_.fusionGetValueWithUnit(e.margin_top)+";"),(e.margin_bottom||"0"===e.margin_bottom)&&(t.style+="margin-bottom:"+_.fusionGetValueWithUnit(e.margin_bottom)+";"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildReadingBoxAttr:function(e){var t={class:"reading-box"};return"right"===e.content_alignment?t.class+=" reading-box-right":"center"===e.content_alignment&&(t.class+=" reading-box-center"),"yes"===e.shadow&&(t.class+=" element-bottomshadow"),t.style="background-color:"+e.backgroundcolor+";",t.style+="border-width:"+e.border+";",t.style+="border-color:"+e.bordercolor+";","none"!==e.highlightposition&&(3<parseInt(e.border,10)?t.style+="border-"+e.highlightposition+"-width:"+e.border+";":t.style+="border-"+e.highlightposition+"-width:3px;",t.style+="border-"+e.highlightposition+"-color:"+this.extras.primary_color+";"),t.style+="border-style:solid;",t},buildButtonAttr:function(e){var t={class:"button fusion-button button-"+e.buttoncolor+" fusion-button-"+e.button_size+" button-"+e.button_size+" button-"+e.button_type,style:""};return t.class=t.class.toLowerCase(),"right"===e.content_alignment?t.class+=" continue-left":"center"===e.content_alignment?t.class+=" continue-center":t.class+=" continue-right","flat"===e.button_type&&(t.style+="-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;"),t.href=e.link,t.target=e.linktarget,"_blank"===t.target&&(t.rel="noopener noreferrer"),""!==e.modal&&(t["data-toggle"]="modal",t["data-target"]="."+e.modal),""!==e.button_border_radius&&(t.style+="border-radius:"+parseInt(e.button_border_radius)+"px;"),t},buildTitleAttr:function(){return _.fusionInlineEditor({cid:this.model.get("cid"),param:"title","disable-return":!0,"disable-extra-spaces":!0,encoding:!0,toolbar:!1},{})},buildButtonSpanAttr:function(){return _.fusionInlineEditor({cid:this.model.get("cid"),param:"button","disable-return":!0,"disable-extra-spaces":!0,toolbar:!1},{})},buildDescriptionAttr:function(e){var t={class:"reading-box-description"};return""!==e.title&&(t.class+=" fusion-reading-box-additional"),t=_.fusionInlineEditor({cid:this.model.get("cid"),param:"description","disable-return":!0,"disable-extra-spaces":!0,encoding:!0,toolbar:"simple"},t)},buildContentAttr:function(e){var t={class:"reading-box-additional"};return""===e.description&&""!==e.title&&(t.class+=" fusion-reading-box-additional"),t=_.fusionInlineEditor({cid:this.model.get("cid")},t)},buildDesktopButtonAttr:function(e){var t=jQuery.extend(!0,{},this.attrButton),i="";return""!==e.description&&void 0!==e.element_content&&""!==e.element_content&&(i=" fusion-desktop-button-margin"),t.class+=" fusion-desktop-button fusion-tagline-button continue"+i,t},buildMobileButtonAttr:function(){var e=jQuery.extend(!0,{},this.attrButton);return e.class+=" fusion-mobile-button",e}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_pricing_table=FusionPageBuilder.ParentElementView.extend({onInit:function(){var e=this.model.get("params");void 0===e.background_color_hover&&void 0!==e.bordercolor&&""!==e.bordercolor&&(e.background_color_hover=e.bordercolor)},beforeGenerateShortcode:function(){this.updateElementContent()},onRender:function(){var e=6,t=this.model.get("params");void 0===t.columns&&void 0!==this.model.children&&this.model.children.length&&(6>this.model.children.length&&(e=this.model.children.length),t.columns=e,this.model.set("params",t),this.updateColumnWidths())},childViewAdded:function(){this.updateColumnWidths()},childViewRemoved:function(){this.updateColumnWidths()},childViewCloned:function(){this.updateColumnWidths()},updateColumnWidths:function(){var e,t,i=this.model.get("params"),o=void 0!==this.model.children?this.model.children.length:0;6<o&&(o=6),i.columns=o,this.model.set("params",i),e=jQuery.extend(!0,{},window.fusionAllElements[this.model.get("element_type")].defaults,_.fusionCleanParameters(i)),t=this.computeTableData(e),this.$el.find(".fusion-child-element").attr("class",t.class),this.model.children.each(function(e){var t=e.attributes.cid,i=window.FusionPageBuilderViewManager.getView(t),n=jQuery.extend(!0,{},window.fusionAllElements[i.model.get("element_type")].defaults,_.fusionCleanParameters(i.model.get("params")));i.buildColumnWrapperAttr(n,o),i.onRender()})},filterTemplateAtts:function(e){return{styles:this.computeStyles(e.values),tableData:this.computeTableData(e.values)}},computeTableData:function(e){var t="sep",i=this.model.get("cid"),o={};return"1"==e.type&&(t="full"),6<e.columns&&(e.columns=6),o.class="fusion-child-element fusion-pricing-table pricing-table-cid"+i+" "+t+"-boxed-pricing row fusion-columns-"+e.columns+" columns-"+e.columns+" fusion-clearfix",o["data-empty"]=this.emptyPlaceholderText,o=_.fusionVisibilityAtts(e.hide_on_mobile,o),void 0!==e.class&&""!==e.class&&(o.class+=" "+e.class),void 0!==e.id&&""!==e.id&&(o.id=e.id),o},computeStyles:function(e){var t=this.model.get("cid");return'<style type="text/css">.pricing-table-cid'+t+" .panel-container, .pricing-table-cid"+t+" .standout .panel-container,.pricing-table-cid"+t+".full-boxed-pricing { background-color: "+e.bordercolor+";}.pricing-table-cid"+t+" .list-group .list-group-item,.pricing-table-cid"+t+" .list-group .list-group-item:last-child{ background-color:"+e.backgroundcolor+"; border-color:"+e.dividercolor+";}.pricing-table-cid"+t+".full-boxed-pricing .panel-wrapper:hover .panel-heading,.full-boxed-pricing .panel-wrapper.hover .panel-heading,.pricing-table-cid"+t+" .panel-wrapper:hover .list-group-item,.pricing-table-cid"+t+" .panel-wrapper.hover .list-group-item { background-color:"+e.background_color_hover+";}.pricing-table-cid"+t+".full-boxed-pricing .panel-heading{ background-color:"+e.backgroundcolor+";}.pricing-table-cid"+t+" .fusion-panel, .pricing-table-cid"+t+" .panel-wrapper:last-child .fusion-panel,.pricing-table-cid"+t+" .standout .fusion-panel, .pricing-table-cid"+t+"  .panel-heading,.pricing-table-cid"+t+" .panel-body, .pricing-table-cid"+t+" .panel-footer{ border-color:"+e.dividercolor+";}.pricing-table-cid"+t+" .panel-body,.pricing-table-cid"+t+" .panel-footer{ background-color:"+e.bordercolor+";}.pricing-table-cid"+t+".sep-boxed-pricing .panel-heading h3{color:"+e.heading_color_style_2+";}.pricing-table-cid"+t+".full-boxed-pricing.fusion-pricing-table .panel-heading h3{color:"+e.heading_color_style_1+";}.pricing-table-cid"+t+".fusion-pricing-table .panel-body .price .decimal-part{color:"+e.pricing_color+";}.pricing-table-cid"+t+".fusion-pricing-table .panel-body .price .integer-part{color:"+e.pricing_color+";}.pricing-table-cid"+t+" ul.list-group li{color:"+e.body_text_color+";}</style>"}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_pricing_column=FusionPageBuilder.ChildElementView.extend({onInit:function(){this.setPriceParams(),this.setFooterContent(),this.setFeatureRows(),this.clearInvalidParams(),this._priceUpdateHistory=_.debounce(_.bind(this.priceUpdateHistory,this),500),this.initialPriceValue=!1,this._footerUpdateHistory=_.debounce(_.bind(this.footerUpdateHistory,this),500),this.initialFooterValue=!1,this._featuresUpdateHistory=_.debounce(_.bind(this.featuresUpdateHistory,this),500),this.initialFeaturesValue=!1},beforeGenerateShortcode:function(){var e=this.model.get("params"),t=this.model.get("priceParams"),i="[fusion_pricing_price",o=this.getFeaturedRows(),n=this.model.get("footerContent");_.each(t,function(e,t){i+=" "+t+'="'+e+'"'}),i+="][/fusion_pricing_price]",_.each(o,function(e){i+="[fusion_pricing_row]"+e+"[/fusion_pricing_row]"}),void 0!==n&&""!==n&&(i+="[fusion_pricing_footer]"+n+"[/fusion_pricing_footer]"),e.element_content=i,this.model.set("params",e)},setPriceParams:function(){var e,t,i=this.model.get("params"),o=void 0!==i.element_content?i.element_content:"",n=FusionPageBuilderApp.regExpShortcode("fusion_pricing_price"),s=o.match(n);s&&s.length?(o=s[0],t="object"==typeof(e=""!==s[3]?window.wp.shortcode.attrs(s[3]):"").named?e.named:{},this.model.set("priceParams",jQuery.extend(!0,{},t))):this.model.set("priceParams",{})},setFooterContent:function(){var e=this.model.get("params"),t=void 0!==e.element_content?e.element_content:"",i=FusionPageBuilderApp.regExpShortcode("fusion_pricing_footer"),o=t.match(i);o?(o[0],this.model.set("footerContent",o[5])):this.model.set("footerContent","")},setFeatureRows:function(){var e=this.model.get("params"),t=void 0!==e.element_content?e.element_content:"",i=FusionPageBuilderApp.findShortcodeMatches(t,"fusion_pricing_row"),o=[];"object"==typeof i&&i&&i.length&&(_.each(i,function(e){var t="";void 0!==e.match(FusionPageBuilderApp.regExpShortcode("fusion_pricing_row"))[5]&&(t=e.match(FusionPageBuilderApp.regExpShortcode("fusion_pricing_row"))[5]),o.push(t)}),o=o.join("|"),this.model.set("featureRows",o))},clearInvalidParams:function(){var e=this.model.get("params");delete e.currency,delete e.currency_position,delete e.price,delete e.time,e.footer_content=!1,e.feature_rows=!1,this.model.set("params",e)},onRender:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors))},afterPatch:function(){void 0!==this.model.attributes.selectors&&(this.model.attributes.selectors.class+=" "+this.className,this.setElementAttributes(this.$el,this.model.attributes.selectors))},filterTemplateAtts:function(e){var t={},i=this.getPriceValues();return t.title=e.values.title,t.cid=this.model.get("cid"),t.titleAttr=this.buildTitleAttr(),this.buildColumnWrapperAttr(e.values,e.parentValues.columns),t.price=i.price.split("."),t.currencyPosition=i.currency_position,t.currency=i.currency,t.time=i.time,t.currencyClasses=this.getCurrencyClasses(i),t.timeClasses=this.getTimeClasses(i),t.featureRows=this.getFeaturedRows(),t.footerContent=this.model.get("footerContent"),t},getFeaturedRows:function(){var e=this.model.get("featureRows");return void 0===e?[]:-1===e.indexOf("|")?[e]:e.split("|")},getPriceValues:function(){var e=this.model.get("priceParams");return jQuery.extend(!0,{},{currency:"",currency_position:"left",price:"",time:""},_.fusionCleanParameters(e))},getCurrencyClasses:function(e){var t={class:"currency"};return"right"===e.currency_position&&(t.class+=" pos-right",-1!==e.price.indexOf(".")&&(t.class+=" price-without-decimal")),t},getTimeClasses:function(e){var t={class:"time"};return""!==e.time&&(-1===e.price.indexOf(".")&&(t.class+=" price-without-decimal"),"right"===e.currency_position&&(t.class+=" pos-right")),t},buildTitleAttr:function(){var e=this.model.get("cid"),t={class:"title-row"};return _.fusionInlineEditor({cid:e,param:"title","disable-return":!0,"disable-extra-spaces":!0,toolbar:!1},t),t},updatePricingTablePrice:function(e,t){var i=this.model.get("priceParams");i[e]=t,this.model.set("priceParams",i),this.reRender()},updatePricingTableFooter:function(e){this.model.set("footerContent",e),this.reRender()},updatePricingTableFeatures:function(e){this.model.set("featureRows",e),this.reRender()},priceUpdateHistory:function(e,t){this.model.get("priceParams");var i=this.initialPriceValue,o={type:"price-param",param:e,newValue:t,cid:this.model.get("cid")},n=fusionAllElements[this.model.get("element_type")],s=n.params[e],a="object"==typeof s?s.heading:e;o.oldValue=i,FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.edited+" "+n.name+" - "+a,o),this.initialPriceValue=!1},footerUpdateHistory:function(e){var t=this.initialFooterValue,i={type:"pricefooter-param",newValue:e,cid:this.model.get("cid")},o=fusionAllElements[this.model.get("element_type")],n=o.params.footer_content,s="object"==typeof n?n.heading:name;i.oldValue=t,FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.edited+" "+o.name+" - "+s,i),this.initialFooterValue=!1},featuresUpdateHistory:function(e){var t=this.initialFeaturesValue,i={type:"pricefeatures-param",newValue:e,cid:this.model.get("cid")},o=fusionAllElements[this.model.get("element_type")],n=o.params.feature_rows,s="object"==typeof n?n.heading:name;i.oldValue=t,FusionEvents.trigger("fusion-history-save-step",fusionBuilderText.edited+" "+o.name+" - "+s,i),this.initialFeaturesValue=!1},buildColumnWrapperAttr:function(e,t){var i={class:"panel-wrapper fusion-column column"};t="5"==t?2:12/parseInt(t,10),i.class+=" col-lg-"+t+" col-md-"+t+" col-sm-"+t,i.class+=" fusion-pricingtable-column","yes"===e.standout&&(i.class+=" standout"),void 0!==e.class&&""!==e.class&&(i.class+=" "+e.class),void 0!==e.id&&""!==e.id&&(i.id=e.id),this.model.set("selectors",i)}}),_.extend(FusionPageBuilder.Callback.prototype,{fusionPricingTablePrice:function(e,t,i,o){var n=o.model.get("priceParams"),s=n[e];if(s!==t)return o.initialPriceValue||(o.initialPriceValue=s),o._priceUpdateHistory(e,t),n[e]=t,o.model.set("priceParams",n),{render:!0}}}),_.extend(FusionPageBuilder.Callback.prototype,{fusionPricingTableFooter:function(e,t,i,o){var n=o.model.get("footerContent");if(n!==t)return o.initialFooterValue||(o.initialFooterValue=n),o._footerUpdateHistory(t),o.model.set("footerContent",t),{render:!0}}}),_.extend(FusionPageBuilder.Callback.prototype,{fusionPricingTableRows:function(e,t,i,o){var n=o.model.get("featureRows");if(n!==t)return o.initialFeaturesValue||(o.initialFeaturesValue=n),o._featuresUpdateHistory(t),o.model.set("featureRows",t),{render:!0}}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_blog=FusionPageBuilder.ElementView.extend({regularImagesFound:!1,afterPatch:function(){this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),this.extras=e.extras,t.attr=this.buildAttr(e.values),t.styles=this.buildStyles(e.values),t.blogPosts="",this.regularImagesFound=!1,void 0!==e.query_data&&void 0!==e.query_data.posts&&(t.blogPosts=this.buildBlogPosts(e),!0===this.regularImagesFound&&(t.attr.class+=" fusion-masonry-has-vertical")),void 0!==e.query_data&&void 0!==e.query_data.max_num_pages&&(t.attrPostsContainer=this.buildPostsContainerAttr(e),void 0!==e.query_data.paged&&(t.paginationCode=this.buildPagination(e))),t.load_more_text=e.extras.load_more_text,t.load_more=e.values.load_more&&-1!==e.values.number_posts,t.cid=this.model.get("cid"),t.values=e.values,t.query_data=e.query_data,t},validateValues:function(e){e.blog_grid_column_spacing=_.fusionValidateAttrValue(e.blog_grid_column_spacing,""),e.scrolling="undefined"!==e.paging&&"no"==e.paging&&"pagination"===e.scrolling?"no":e.scrolling,-1==e.number_posts&&(e.scrolling="no"),"large alternate"===e.layout?e.layout="large-alternate":"medium alternate"===e.layout&&(e.layout="medium-alternate"),e.load_more=!1,"no"!==e.scrolling&&"load_more_button"===e.scrolling&&(e.load_more=!0,e.scrolling="infinite"),void 0!==e.excerpt_length&&(e.excerpt_words=e.excerpt_length),"0"===e.blog_grid_column_spacing&&(e.blog_grid_column_spacing="0.0"),"object"!=typeof e.blog_grid_padding&&(e.blog_grid_padding={top:"",right:"",bottom:"",left:""}),void 0!==e.padding_top&&""!==e.padding_top&&(e.blog_grid_padding.top=e.padding_top),void 0!==e.padding_right&&""!==e.padding_right&&(e.blog_grid_padding.right=e.padding_right),void 0!==e.padding_bottom&&""!==e.padding_bottom&&(e.blog_grid_padding.bottom=e.padding_bottom),void 0!==e.padding_left&&""!==e.padding_left&&(e.blog_grid_padding.left=e.padding_left),e.blog_grid_padding=[_.fusionGetValueWithUnit(e.blog_grid_padding.top),_.fusionGetValueWithUnit(e.blog_grid_padding.right),_.fusionGetValueWithUnit(e.blog_grid_padding.bottom),_.fusionGetValueWithUnit(e.blog_grid_padding.left)],e.padding="object"==typeof e.blog_grid_padding?e.blog_grid_padding.join(" "):e.blog_grid_padding},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-blog-shortcode fusion-blog-archive",style:""}),i="",o=this.model.get("cid");return i="fusion-blog-layout-"+e.layout,"timeline"===e.layout?i="fusion-blog-layout-timeline-wrapper":"grid"!==e.layout&&"masonry"!==e.layout||(i="fusion-blog-layout-grid-wrapper"),!e.content_alignment||"grid"!==e.layout&&"masonry"!==e.layout&&"timeline"!==e.layout||(t.class+=" fusion-blog-layout-"+e.content_alignment),t.class+=" fusion-blog-shortcode-cid"+o,t.class+=" "+i,t.class+=" fusion-blog-"+e.scrolling,"yes"!==e.thumbnail&&(t.class+=" fusion-blog-no-images"),"0"!=e.blog_grid_column_spacing&&"0px"!==e.blog_grid_column_spacing||(t.class+=" fusion-no-col-space"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildPostsContainerAttr:function(e){var t={class:"fusion-posts-container",style:""},i=e.values,o=e.extras,n=e.query_data,s="";return t.class+=" fusion-posts-container-"+i.scrolling,this.metaInfoCombined||(t.class+=" fusion-no-meta-info"),i.load_more&&(t.class+=" fusion-posts-container-load-more"),o.image_rollover&&(t.class+=" fusion-blog-rollover"),t["data-pages"]=n.max_num_pages,"grid"!==i.layout&&"masonry"!==i.layout||(t.class+=" fusion-blog-layout-grid fusion-blog-layout-grid-"+i.blog_grid_columns+" isotope","masonry"===i.layout&&(t.class+=" fusion-blog-layout-masonry",n.regular_images_found&&(t.class+=" fusion-blog-layout-masonry-has-vertical")),"grid"===i.layout&&"yes"===i.equal_heights&&(t.class+=" fusion-blog-equal-heights"),void 0===i.blog_grid_column_spacing&&0!==parseInt(i.blog_grid_column_spacing,10)||(t["data-grid-col-space"]=i.blog_grid_column_spacing),s=-1*parseFloat(i.blog_grid_column_spacing)/2,t.style="margin: "+s+"px "+s+"px 0;height:500px;"),t},buildPagination:function(e){var t=e.extras.pagination_global,i=e.extras.pagination_start_end_range_global,o=e.extras.pagination_range_global,n="",s="",a="",r=e.query_data,l=e.values;return-1==l.number_posts&&(l.scrolling="no"),"timeline"===l.layout&&(l.post_count=1),"no"!==l.scrolling&&(n=r.paged,s=r.max_num_pages,a=_.fusionPagination(s,n,o,l.scrolling,t,i)),a},buildBlogPosts:function(e){var t,i,o,n,s,a="",r=e.query_data,l=e.values,u=e.extras,d="",c={},h=1,m=null,p=null,f="",g={},b="",v="",y={},w="",x="",P="yes"===l.meta_all,F="yes"===l.meta_author,C="yes"===l.meta_categories,k="yes"===l.meta_comments,A="yes"===l.meta_date,S="yes"===l.meta_link,B="yes"===l.meta_tags,j="yes"===l.strip_html,V="yes"===l.thumbnail,Q="yes"===e.params.show_title||"yes"===e.params.title,E="yes"===l.title_link,z={},D="",T="",$="",M="",W="",I={},G="",R="",O="",U="",L={},H="",q="",N="",J="fusion-alignright",Y="",K={},X={},Z="";return"timeline"===l.layout&&(h=1,m=null,p=null),this.metaInfoCombined=P*(F+A+C+B+k+S),t=this.metaInfoCombined,i="yes"===l.excerpt&&1>l.excerpt_words?1:0,z.post_meta=P,z.post_meta_author=F,z.post_meta_date=A,z.post_meta_cats=C,z.post_meta_tags=B,z.post_meta_comments=k,z.disable_date_rich_snippet_pages=u.disable_date_rich_snippet_pages,o=t*(F+A+C+B),n=t*(k||S),s="no"===l.excerpt||"yes"===l.excerpt&&!i,_.each(r.posts,function(e){var r,F="";if(N="",H="",D="",d="blog-large",d=FusionPageBuilderApp.$el.hasClass("has-sidebar")?"blog-large":"full",d="medium"===l.layout||"medium-alternate"===l.layout?"blog-medium":d,d=void 0!==e.slideshow.featured_image_height&&void 0!==e.slideshow.featured_image_width&&""!==e.slideshow.featured_image_height&&""!==e.slideshow.featured_image_width&&"auto"!==e.slideshow.featured_image_height&&"auto"!==e.slideshow.featured_image_width?"full":d,d="auto"===e.slideshow.featured_image_height||"auto"===e.slideshow.featured_image_width?"full":d,d="grid"===l.layout||"timeline"===l.layout?"full":d,e.slideshow.image_size=d,"timeline"===l.layout&&((c={}).prev_post_month=m,c.post_month=e.post_month,c.prev_post_year=p,c.post_year=e.post_year,f="",c.prev_post_month==c.post_month&&c.prev_post_year==c.post_year||(1<h&&(f="</div>"),f+='<h3 class="fusion-timeline-date" style="background-color:'+l.grid_element_color+';">'+e.timeline_date_format+"</h3>",f+='<div class="fusion-collapse-month">'),a+=f),(g={}).id="post-"+e.id,g.class="post fusion-post-"+l.layout,"masonry"===l.layout&&(!0!==e.slideshow.image_data.masonry_data.specific_element_orientation_class&&(e.slideshow.image_data.masonry_data.element_orientation_class=_.fusionGetElementOrientationClass({imageWidth:e.slideshow.image_data.masonry_data.image_width,imageHeight:e.slideshow.image_data.masonry_data.image_height},l.blog_masonry_grid_ratio,l.blog_masonry_width_double)),e.slideshow.image_data.masonry_data.element_base_padding=_.fusionGetElementBasePadding(e.slideshow.image_data.masonry_data.element_orientation_class),"fusion-element-landscape"!==e.slideshow.image_data.masonry_data.element_orientation_class&&(this.regularImagesFound=!0),g.class+=" fusion-post-grid",g.class+=" "+e.slideshow.image_data.masonry_data.element_orientation_class),"timeline"===l.layout&&(b=" fusion-right-column",0<h%2&&(b=" fusion-left-column"),g.class+=" fusion-clearfix"+b,g.style="border-color:"+l.grid_element_color+";"),!1!==e.post_video&&(g.class+=" has-post-thumbnail"),!1!==e.post_class&&(g.class+=e.post_class),v="<article "+_.fusionGetAttributes(g)+">\n",a+=v,y={class:"fusion-post-wrapper",style:""},"masonry"===l.layout?(w=jQuery.Color(l.grid_box_color),x=w.toRgbaString(),0===w.alpha()&&(x=w.toHexString()),0===w.alpha()||"transparent"===l.grid_element_color?(y.class+=" fusion-masonary-is-transparent ",y.style+="border:none;"):y.style+="border:1px solid "+l.grid_element_color+";border-bottom-width:3px;",y.style+="background-color:"+x+";",y.style+="border-color:"+l.grid_element_color+";"):"grid"===l.layout?(w=jQuery.Color(l.grid_box_color),x=w.toRgbaString(),0===jQuery.Color(l.grid_element_color).alpha()||"transparent"===l.grid_element_color?y.style+="border:none;":y.style+="border:1px solid "+l.grid_element_color+";border-bottom-width:3px;",y.style+="background-color:"+x+";",y.style+="border-color:"+l.grid_element_color+";"):"timeline"===l.layout&&(w=jQuery.Color(l.grid_box_color),x=w.toRgbaString(),y.style="background-color:"+x+";"),"grid"!==l.layout&&"timeline"!==l.layout&&"masonry"!==l.layout||(a+="<div "+_.fusionGetAttributes(y)+">"),V&&"medium-alternate"!==l.layout&&("masonry"!==l.layout?D=_.fusionGetBlogSlideshow(e.slideshow):(e.slideshow.image_data.layout=l.layout,e.slideshow.image_data.masonry_data.blog_grid_column_spacing=parseFloat(l.blog_grid_column_spacing),D=_.fusionFeaturedImage(e.slideshow.image_data))),"medium-alternate"===l.layout||"large-alternate"===l.layout){switch(D+='<div class="fusion-date-and-formats">',M='<div class="fusion-date-box updated">',M+='<span class="fusion-date">'+e.alternate_date_format_day+"</span>",M+='<span class="fusion-month-year">'+e.alternate_date_format_month_year+"</span>",M+="</div>",e.format){case"gallery":W="images";break;case"link":W="link";break;case"image":W="image";break;case"quote":W="quotes-left";break;case"video":W="film";break;case"audio":W="headphones";break;case"chat":W="bubbles";break;default:W="pen"}M+='<div class="fusion-format-box">',M+='<i class="fusion-icon-'+W+'" aria-hidden="true"></i>',D+=M+="</div>",D+="</div>",V&&"medium-alternate"===l.layout&&(D+=_.fusionGetBlogSlideshow(e.slideshow)),P&&(T=_.fusionRenderPostMetadata("alternate",z,e.meta_data))}"grid"!==l.layout&&"timeline"!==l.layout&&"masonry"!==l.layout||("masonry"!==l.layout&&(Q&&o&&(s||n)||Q&&!o&&n)&&(X={class:"fusion-content-sep"},Z=(Z=l.grid_separator_style_type).split("|"),jQuery.each(Z,function(e,t){X.class+=" sep-"+t}),X.style="border-color:"+l.grid_separator_color,$="<div "+_.fusionGetAttributes(X)+"></div>"),P&&(T=_.fusionRenderPostMetadata("grid_timeline",z,e.meta_data)),I.class="fusion-post-content-wrapper","masonry"===l.layout?(I.style="background-color:inherit;",I.style+="padding: "+l.padding+";",t||!i||Q||(I.style+=" display:none;")):"grid"===l.layout&&(I.style="background-color:inherit;",I.style+="padding: "+l.padding+";",t||Q||!i&&"hide"!==l.excerpt||(I.style+=" display:none;")),D+="<div "+_.fusionGetAttributes(I)+">"),D+='<div class="fusion-post-content post-content">',Q&&(E?(O=e.link_icon_target,U=e.post_links_target,"yes"!==O&&"yes"!==U||(R=' target="_blank" rel="noopener noreferrer"'),G='<a href="'+e.permalink+'"'+R+">"+e.title+"</a>"):G=e.title),"timeline"===l.layout&&(D+='<div class="fusion-timeline-circle" style="background-color:'+l.grid_element_color+';"></div>',D+='<div class="fusion-timeline-arrow" style="color:'+l.grid_element_color+';"></div>'),L.class="blog-shortcode-post-title",u.disable_date_rich_snippet_pages&&(L.class+=" entry-title"),H=D+"<h2 "+_.fusionGetAttributes(L)+">"+G+"</h2>"+T+$,a+=H,"hide"!==l.excerpt&&(q=e.content.has_custom_excerpt?_.fusionGetFixedContent(e.content,l.excerpt,Number.MAX_SAFE_INTEGER,j):_.fusionGetFixedContent(e.content,l.excerpt,l.excerpt_words,j)),a+='<div class="fusion-post-content-container">'+q+"</div>",S&&l.meta_read&&(J="fusion-alignright","grid"!==l.layout&&"timeline"!==l.layout&&"masonry"!==l.layout||(J="fusion-alignleft"),O=e.link_icon_target,U=e.post_links_target,"yes"!==O&&"yes"!==U||(K.target="_blank",K.rel="noopener noreferrer"),K.href=e.permalink,N+='<div class="'+J+'">',N+="<a "+_.fusionGetAttributes(K)+">",N+='<span class="fusion-read-more">'+u.read_more_text+"</span>",N+="</a>",N+="</div>","large-alternate"!==l.layout&&"medium-alternate"!==l.layout||(N='<div class="fusion-meta-info">'+N+"</div>")),k&&(Y='<div class="fusion-alignright">'+e.timeline_comments+"</div>"),"grid"!==l.layout&&"timeline"!==l.layout&&"masonry"!==l.layout||(F+="</div>",0<t&&(r=N,F+='<div class="fusion-meta-info">'+(r+=Y)+"</div>")),F+="</div>",F+='<div class="fusion-clearfix"></div>',0<t&&-1!==jQuery.inArray(l.layout,["large","medium"])&&(F+='<div class="fusion-meta-info">'+_.fusionRenderPostMetadata("standard",z,e.meta_data)+N+"</div>"),P&&-1!==jQuery.inArray(l.layout,["large-alternate","medium-alternate"])&&(F+=N),a+=F,"grid"===l.layout||"timeline"===l.layout||"masonry"===l.layout?(a+="</div>\n",a+="</article>\n"):a+="</article>\n","timeline"===l.layout&&(m=e.post_month,p=e.post_year,h++,l.post_count++)}),a},buildStyles:function(e){var t="",i=this.model.get("cid");return t+=".fusion-blog-shortcode-cid"+i+" .fusion-blog-layout-grid .fusion-post-grid{padding:"+parseFloat(e.blog_grid_column_spacing)/2+"px;}",t+=".fusion-blog-shortcode-cid"+i+" .fusion-posts-container{margin-left: -"+parseFloat(e.blog_grid_column_spacing)/2+"px !important; margin-right:-"+parseFloat(e.blog_grid_column_spacing)/2+"px !important;}"}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_lightbox=FusionPageBuilder.ElementView.extend({onRender:function(){this.afterPatch()},afterPatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find('[data-rel="iLightbox"]'));"object"==typeof jQuery("#fb-preview")[0].contentWindow.avadaLightBox&&(void 0!==this.iLightbox&&this.iLightbox.destroy(),e.length&&(this.iLightbox=e.iLightBox(jQuery("#fb-preview")[0].contentWindow.avadaLightBox.prepare_options("single"))))},filterTemplateAtts:function(e){return e.name=e.params.alt_text,e.label=window.fusionAllElements[this.model.get("element_type")].name,e.icon=window.fusionAllElements[this.model.get("element_type")].icon,e}})}),_.extend(FusionPageBuilder.Callback.prototype,{lightboxShortcodeFilter:function(e,t){var i=t.$el,o=e.params.id,n=e.params.class,s=e.params.title,a=e.params.description,r=i.find("#type").val(),l=""===r||void 0===r?i.find("#full_image").val():i.find("#video_url").val(),u=i.find("#thumbnail_image").val(),d=e.params.alt_text,c="";return""!==u&&(c='<a id="'+o+'" class="'+n+'" title="'+s+'" data-title="'+s+'" data-caption="'+a+'"  href="'+l+'"'+(l?' data-rel="iLightbox"':"")+'><img src="'+u+'" alt="'+d+'" /></a>'),e.params.element_content=c,e}});FusionPageBuilder=FusionPageBuilder||{};jQuery(document).ready(function(){FusionPageBuilder.fusion_widget=FusionPageBuilder.ElementView.extend({onInit:function(){this.contentView=!1,this.listenTo(FusionEvents,"fusion-widget-rendered",this.removeLoadingOverlay),this.deprecatedParams()},sanitizeValue:function(e,t){return"wp_widget_custom_html__content"===e||"wp_widget_text__text"===e?_.escape(t):t},onRender:function(){this.renderWidgetContent()},removeLoadingOverlay:function(){var e,t="element";_.isObject(this.model.attributes)&&("fusion_builder_container"===this.model.attributes.element_type?t="container":"fusion_builder_column"===this.model.attributes.element_type&&(t="columns")),(e=this.$el.find(".fusion-builder-"+t+"-content")).removeClass("fusion-loader"),e.find(".fusion-builder-loader").remove()},beforeRemove:function(){this.contentView&&this.contentView.removeElement()},renderWidgetContent:function(){var e,t={model:this.model},i=this.model.attributes.params.type;this.model.get("params").type&&(this.contentView?this.$el.find(".fusion-widget-content").html(this.contentView.render().el):(e=void 0!==FusionPageBuilder[i]?new FusionPageBuilder[i](t):new FusionPageBuilder.fusion_widget_content(t),this.contentView=e,this.$el.find(".fusion-widget-content").html(e.render().el)))},filterTemplateAtts:function(e){var t={};return t.attr=this.buildAttr(e.values),t.styles=this.buildStyles(e.values),t.cid=this.model.get("cid"),t.values=e.values,t.placeholder=this.getWidgetPlaceholder(),t},getWidgetPlaceholder:function(){return jQuery(this.getPlaceholder()).append('<span class="fusion-tb-source-separator"> - </span><br/><span>'+fusionBuilderText.select_widget+"</span>")[0].outerHTML},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-widget fusion-widget-element fusion-widget-area fusion-content-widget-area widget fusion-live-widget fusion-widget-cid"+this.model.get("cid"),style:""});return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),e.fusion_align&&(t.class+=" fusion-widget-align-"+e.fusion_align),e.fusion_align_mobile&&(t.class+=" fusion-widget-mobile-align-"+e.fusion_align_mobile),t},buildStyles:function(e){var t="",i=this.model.get("cid");return t='<style type="text/css">',t+=".fusion-widget.fusion-widget-cid"+i+"{",t+="background-color:"+e.fusion_bg_color+";",void 0!==e.fusion_padding_color&&(t+="padding:"+_.fusionCheckValue(e.fusion_padding_color)+";"),void 0!==e.fusion_bg_radius_size&&(t+="border-radius:"+_.fusionCheckValue(e.fusion_bg_radius_size)+";"),void 0!==e.fusion_margin&&(t+="margin:"+_.fusionCheckValue(e.fusion_margin)+";"),t+="border-color:"+e.fusion_border_color+";",t+="border-width:"+_.fusionValidateAttrValue(e.fusion_border_size,"px")+";",""!==e.fusion_border_size&&(t+="border-style:"+e.fusion_border_style+";"),t+="}","no"===e.fusion_display_title&&(t+=".fusion-widget.fusion-widget-cid"+i+" .widget-title{display:none;}"),void 0!==e.fusion_divider_color&&""!==e.fusion_divider_color&&(t+="#wrapper .fusion-widget.fusion-widget-cid"+i+" li { border-color:"+e.fusion_divider_color+";}","WP_Widget_Tag_Cloud"===e.type?t+="#wrapper .fusion-widget.fusion-widget-cid"+i+" .tagcloud a { border-color:"+e.fusion_divider_color+";}":"Fusion_Widget_Menu"===e.type&&(t+="#wrapper .fusion-widget.fusion-widget-cid"+i+" .fusion-widget-menu ul li a:after { color:"+e.fusion_divider_color+";}")),"Fusion_Widget_Vertical_Menu"===e.type&&(void 0!==e.border_color&&void 0===e.fusion_divider_color&&(e.fusion_divider_color=e.border_color),""!==e.fusion_divider_color?(t+="#wrapper .fusion-widget.fusion-widget-cid"+i+" .menu { border-right-color:"+e.fusion_divider_color+" !important; border-top-color:"+e.fusion_divider_color+" !important;}",t+="#wrapper .fusion-widget.fusion-widget-cid"+i+" .menu li a { border-bottom-color:"+e.fusion_divider_color+" !important; }",t+="#wrapper .fusion-widget.fusion-widget-cid"+i+" .right .menu { border-left-color:"+e.fusion_divider_color+" !important; }"):t+="#wrapper .fusion-widget.fusion-widget-cid"+i+" > ul.menu { margin-top: -8px; }"),t+="</style>"},patcherFilter:function(e){var t=[];return _.each(e,function(e){"replaceElement"===e.action?void 0!==e.oldValue.attributes&&-1!==e.oldValue.attributes.class.indexOf("fusion-widget-content-view")||t.push(e):"addElement"===e.action?-1!==e.element.attributes.class.indexOf("fusion-widget-content-view")||-1!==e.element.attributes.class.indexOf("fusion-widget")||t.push(e):"removeElement"===e.action&&(-1!==e.element.attributes.class.indexOf("fusion-widget-content")||-1!==e.element.attributes.class.indexOf("fusion-widget"))||t.push(e)}),t},deprecatedParams:function(){var e=this.model.get("params");"Fusion_Widget_Vertical_Menu"===e.type&&void 0===e.fusion_divider_color&&(e.fusion_divider_color=e.fusion_widget_vertical_menu__border_color,delete e.fusion_widget_vertical_menu__border_color),this.model.set("params",e)}}),_.extend(FusionPageBuilder.Callback.prototype,{fusion_get_widget_markup:function(e,t,i,o,n,s,a,r){r.changeParam(e,t),r.contentView.getHTML(r)},fusion_widget_changed:function(e,t,i,o){return o.changeParam(e,t),o.model.attributes.markup="",FusionEvents.trigger("fusion-widget-changed"),o.render(),o.addLoadingOverlay(),{render:!1}}})});FusionPageBuilder=FusionPageBuilder||{};jQuery(document).ready(function(){FusionPageBuilder.fusion_widget_content=window.wp.Backbone.View.extend({template:FusionPageBuilder.template(jQuery("#tmpl-fusion_widget_content").html()),className:"fusion-widget-content-view",events:{},filterRenderContent:function(e){return e},beforeRemove:function(){},removeElement:function(){FusionApp.deleteScripts(this.cid),this.beforeRemove(),this.remove()},initialize:function(){this.model.attributes.markup&&this.model.attributes.markup.output&&(this.model.attributes.markup=FusionApp.removeScripts(this.filterRenderContent(this.model.attributes.markup.output),this.cid),this.injectScripts()),this.onInit()},render:function(){return this.isAjax||void 0!==this.model.attributes.markup&&""!==this.model.attributes.markup||(FusionApp.deleteScripts(this.cid),this.getHTML(this)),this.$el.html(this.template(this.model.attributes)),this.onRender(),this},onInit:function(){this.isAjax=!1},onRender:function(){},getMarkup:function(e){this.getHTML(e)},injectScripts:function(){var e,t;return e=this,t=jQuery.Deferred(),setTimeout(function(){FusionApp.injectScripts(e.cid),t.resolve()},100),t.promise()},getHTML:function(e){var t,i=this;t=e.model.get("params"),i.isAjax=!0,this.beforeGetHTML(),jQuery.ajax({type:"POST",url:fusionAppConfig.ajaxurl,dataType:"JSON",data:{action:"fusion_get_widget_markup",fusion_load_nonce:fusionAppConfig.fusion_load_nonce,type:e.model.attributes.params.type,params:t,widget_id:e.model.cid}}).done(function(t){i.isAjax=!1,FusionApp.deleteScripts(i.cid),e.model.attributes.markup=FusionApp.removeScripts(i.filterRenderContent(t),i.cid),e.render(),i.injectScripts().then(function(){i.afterGetHTML(),FusionEvents.trigger("fusion-widget-rendered")})})},beforeGetHTML:function(){},afterGetHTML:function(){}})});FusionPageBuilder=FusionPageBuilder||{};jQuery(document).ready(function(){FusionPageBuilder.RevSliderWidget=FusionPageBuilder.fusion_widget_content.extend({beforeGetHTML:function(){var e=this.$el.find("rs-module").attr("id");this.sliderInitiated=Boolean(e),FusionApp.previewWindow.jQuery("#"+e).revkill()},beforeRemove:function(){var e=this.$el.find("rs-module").attr("id");FusionApp.previewWindow.jQuery("#"+e).revkill()},filterRenderContent:function(e){return this.filterDuplicates(this.disableInlineScripts(e,this.sliderInitiated))},filterDuplicates:function(e){var t=e.match(/(data-alias="(.*?)")/g);return t=t&&0>t.length?t[0].split("=")[1]:'""',jQuery("#fb-preview").contents().find("rs-module-wrap[data-alias="+t+"]").length?'<div class="fusion-builder-placeholder">'+window.fusionBuilderText.duplicate_slider_revolution+"</div>":e},disableInlineScripts:function(e,t){return(-1!==e.indexOf("rev_slider_error")&&-1!==e.indexOf("<script")&&-1!==e.indexOf("<\/script>")||t)&&(e=e.replace("<script","\x3c!--<script").replace("<\/script>","<\/script>--\x3e")),e}})});FusionPageBuilder=FusionPageBuilder||{};jQuery(document).ready(function(){FusionPageBuilder.Fusion_Widget_Facebook_Page=FusionPageBuilder.fusion_widget_content.extend({afterGetHTML:function(){void 0!==FusionApp.previewWindow.FB&&FusionApp.previewWindow.FB.XFBML.parse()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery(document).ready(function(){FusionPageBuilder.WP_Widget_Media_Video=FusionPageBuilder.fusion_widget_content.extend({onInit:function(){this.model.attributes.markup=""},afterGetHTML:function(){this.$el.find("video").attr("id","video-"+this.model.get("cid")),FusionApp.previewWindow.wp.mediaelement.initialize()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_author=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t.cid=this.model.get("cid"),t},buildOutput:function(e){var t,i="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?i=void 0===(i=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-author-tb").html())?e.markup.output:i:void 0!==e.query_data&&void 0!==e.query_data.author&&(i=e.query_data.author),t=_.buildTitleElement(e.values,e.extras,jQuery(jQuery.parseHTML(i)).find("h1, h2, h3, h4, h5, h6").html()),i=i.replace(jQuery(jQuery.parseHTML(i)).find("h1, h2, h3, h4, h5, h6").parent().prop("outerHTML"),t)},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"about-author fusion-live-author-tb fusion-author-tb fusion-author-tb-"+this.model.get("cid"),style:""});return""!==e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),""!==e.class&&(t.class+=" "+e.class),"hide"!==e.avatar&&(t.class+=" "+e.avatar),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildStyleBlock:function(e){var t='<style type="text/css">';return"circle"===e.avatar&&(t+=".fusion-author-tb-"+this.model.get("cid")+".circle .about-author-container .avatar{border-radius: 50%;}"),"square"===e.avatar&&(t+=".fusion-author-tb-"+this.model.get("cid")+".square .about-author-container .avatar{border-radius: 0;}"),"hide"===e.avatar&&(t+=".fusion-author-tb-"+this.model.get("cid")+" .about-author-container .avatar{display:none;}"),"hide"===e.headings&&(t+=".fusion-author-tb-"+this.model.get("cid")+" .fusion-title{display:none;}"),"hide"===e.biography&&(t+=".fusion-author-tb-"+this.model.get("cid")+" .about-author-container .description{display:none;}"),t+="</style>"}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_comments=FusionPageBuilder.ElementView.extend({onInit:function(){this.model.attributes.markup&&""===this.model.attributes.markup.output&&(this.model.attributes.markup.output=this.getComponentPlaceholder())},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t.placeholder=this.getComponentPlaceholder(),t.cid=this.model.get("cid"),t},validateValues:function(e){e.border_size=_.fusionValidateAttrValue(e.border_size,"px"),e.padding=_.fusionValidateAttrValue(e.padding,"px")},buildOutput:function(e){var t="",i="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-comments-tb").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.comments&&(t=e.query_data.comments),_.each(jQuery(jQuery.parseHTML(t)).find("h1, h2, h3, h4, h5, h6"),function(o){i=_.buildTitleElement(e.values,e.extras,jQuery(o).html()),t=t.replace(jQuery(o).parent().prop("outerHTML"),i)}),t},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-comments-tb fusion-live-comments-tb fusion-comments-tb-"+this.model.get("cid")+" fusion-order-"+e.template_order.split(",")[0].replace("_","-"),style:""});return""!==e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),""!==e.class&&(t.class+=" "+e.class),"hide"!==e.avatar&&(t.class+=" "+e.avatar),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildStyleBlock:function(e){var t='<style type="text/css">';return""!==e.border_size&&(t+=".fusion-comments-tb-"+this.model.get("cid")+" .commentlist .the-comment{border-bottom-width:"+e.border_size+";}"),""!==e.border_color&&(t+=".fusion-comments-tb-"+this.model.get("cid")+" .commentlist .the-comment{border-color:"+e.border_color+";}"),"hide"===e.avatar&&(t+=".fusion-comments-tb-"+this.model.get("cid")+" .commentlist .the-comment .comment-text{margin-left:0px;}"),"circle"===e.avatar&&(t+=".fusion-comments-tb-"+this.model.get("cid")+".circle .the-comment .avatar{border-radius: 50%;}"),"square"===e.avatar&&(t+=".fusion-comments-tb-"+this.model.get("cid")+".square .the-comment .avatar{border-radius: 0;}"),""!==e.padding&&(t+=".fusion-comments-tb-"+this.model.get("cid")+" .commentlist .children{padding-left:"+e.padding+";}"),"hide"===e.avatar&&(t+=".fusion-comments-tb-"+this.model.get("cid")+" .avatar{display:none;}"),"hide"===e.headings&&(t+=".fusion-comments-tb-"+this.model.get("cid")+" .fusion-title{display:none;}"),t+="</style>"}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_content=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.output="object"==typeof FusionApp.initialData.examplePostDetails&&"string"==typeof FusionApp.initialData.examplePostDetails.post_content?FusionApp.initialData.examplePostDetails.post_content:_.autop("This is some example content."),t},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-content-tb fusion-content-tb-"+this.model.get("cid"),style:""});return""!==e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_meta=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),this.values=e.values,t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(),t.output=this.buildOutput(e),t},validateValues:function(e){e.border_size=_.fusionValidateAttrValue(e.border_size,"px"),e.height=_.fusionValidateAttrValue(e.height,"px")},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-meta-tb fusion-meta-tb-"+this.model.get("cid"),style:""});return""!==e.padding_top&&(t.style+="padding-top:"+e.padding_top+";"),""!==e.padding_right&&(t.style+="padding-right:"+e.padding_right+";"),""!==e.padding_bottom&&(t.style+="padding-bottom:"+e.padding_bottom+";"),""!==e.padding_left&&(t.style+="padding-left:"+e.padding_left+";"),""!==e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),""!==e.alignment&&"stacked"!==e.layout&&(t.style+="justify-content:"+e.alignment+";"),""!==e.stacked_vertical_align&&"floated"!==e.layout&&(t.style+="justify-content:"+e.stacked_vertical_align+";"),""!==e.stacked_horizontal_align&&"floated"!==e.layout&&(t.style+="align-items:"+e.stacked_horizontal_align+";"),""!==e.height&&(t.style+="min-height:"+e.height+";"),""!==e.font_size&&(t.style+="font-size:"+e.font_size+";"),""!==e.background_color&&(t.style+="background-color:"+e.background_color+";"),""!==e.layout&&(t.class+=" "+e.layout),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-meta-tb").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.meta&&(t=e.query_data.meta),t},buildStyleBlock:function(){var e,t;return this.baseSelector=".fusion-meta-tb.fusion-meta-tb-"+this.model.get("cid"),this.dynamic_css={},e=[this.baseSelector,this.baseSelector+" a"],this.isDefault("text_color")||this.addCssProperty(e,"color",this.values.text_color),this.isDefault("link_color")||this.addCssProperty([this.baseSelector+" span a"],"color",this.values.link_color),e=[this.baseSelector+" a:hover",this.baseSelector+" span a:hover"],this.isDefault("text_hover_color")||this.addCssProperty(e,"color",this.values.text_hover_color),this.isDefault("border_color")||this.addCssProperty([this.baseSelector],"border-color",this.values.border_color),this.isDefault("border_bottom")||this.addCssProperty([this.baseSelector],"border-bottom-width",this.values.border_bottom),this.isDefault("border_top")||this.addCssProperty([this.baseSelector],"border-top-width",this.values.border_top),this.isDefault("border_left")||this.addCssProperty([this.baseSelector],"border-left-width",this.values.border_left),this.isDefault("border_right")||this.addCssProperty([this.baseSelector],"border-right-width",this.values.border_right),e=[this.baseSelector+"  > span:not(.fusion-meta-tb-sep)"],this.isDefault("item_border_color")||this.addCssProperty(e,"border-color",this.values.item_border_color),this.isDefault("item_border_bottom")||this.addCssProperty(e,"border-bottom-width",this.values.item_border_bottom),this.isDefault("item_border_top")||this.addCssProperty(e,"border-top-width",this.values.item_border_top),this.isDefault("item_border_left")||this.addCssProperty(e,"border-left-width",this.values.item_border_left),this.isDefault("item_border_right")||this.addCssProperty(e,"border-right-width",this.values.item_border_right),this.isDefault("item_background_color")||this.addCssProperty(e,"background-color",this.values.item_background_color),this.isDefault("item_padding_top")||this.addCssProperty(e,"padding-top",this.values.item_padding_top),this.isDefault("item_padding_bottom")||this.addCssProperty(e,"padding-bottom",this.values.item_padding_bottom),this.isDefault("item_padding_left")||this.addCssProperty(e,"padding-left",this.values.item_padding_left),this.isDefault("item_padding_right")||this.addCssProperty(e,"padding-right",this.values.item_padding_right),this.isDefault("item_margin_top")||this.addCssProperty(e,"margin-top",this.values.item_margin_top),this.isDefault("item_margin_bottom")||this.addCssProperty(e,"margin-bottom",this.values.item_margin_bottom),this.isDefault("item_margin_left")||this.addCssProperty(e,"margin-left",this.values.item_margin_left),this.isDefault("item_margin_right")||this.addCssProperty(e,"margin-right",this.values.item_margin_right),(t=this.parseCSS())?'<style type="text/css">'+t+"</style>":""}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_pagination=FusionPageBuilder.ElementView.extend({afterPatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-live-pagination-tb.layout-sticky"));jQuery('.fusion-builder-module-settings[data-element-cid="'+this.model.get("cid")+'"]').length&&e.addClass("show-live")},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.label=window.fusionAllElements[this.model.get("element_type")].name,t.icon=window.fusionAllElements[this.model.get("element_type")].icon,t.values=e.values,t},validateValues:function(e){e.border_size=_.fusionValidateAttrValue(e.border_size,"px"),e.height=_.fusionValidateAttrValue(e.height,"px"),e.preview_height=_.fusionValidateAttrValue(e.preview_height,"px"),e.preview_wrapper_width=_.fusionValidateAttrValue(e.preview_wrapper_width,"px"),e.preview_width=_.fusionValidateAttrValue(e.preview_width,"px")},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-live-pagination-tb fusion-pagination-tb fusion-pagination-tb-"+this.model.get("cid"),style:""});return""!==e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),""!==e.height&&"sticky"!==e.layout&&(t.style+="min-height:"+e.height+";"),""!==e.font_size&&(t.style+="font-size:"+e.font_size+";"),"sticky"!==e.layout&&(t.class+=" single-navigation clearfix "),e.layout&&(t.class+=" layout-"+e.layout),e.preview_position&&"preview"===e.layout&&(t.class+=" position-"+e.preview_position),"yes"===e.box_shadow&&(t.class+=" has-box-shadow"),""!==e.class&&(t.class+=" "+e.class),""!==e.alignment&&"sticky"!==e.layout&&(t.class+=" align-"+e.alignment),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildStyleBlock:function(e){var t='<style type="text/css">';return""!==e.border_size&&(t+=".fusion-pagination-tb-"+this.model.get("cid")+".single-navigation:not(.layout-sticky){border-width:"+e.border_size+";}","preview"===e.layout&&(t+=".fusion-pagination-tb-"+this.model.get("cid")+".single-navigation.layout-preview .fusion-pagination-preview-wrapper{","top"===e.preview_position?t+="margin-bottom: calc("+e.border_size+" + 1px);":t+="margin-top: calc("+e.border_size+" + 1px);",t+="}")),""!==e.border_color&&(t+=".fusion-pagination-tb-"+this.model.get("cid")+".single-navigation:not(.layout-sticky){border-color:"+e.border_color+";}"),""!==e.text_color&&(t+=".fusion-fullwidth .fusion-builder-row.fusion-row .fusion-pagination-tb-"+this.model.get("cid")+".single-navigation:not(.layout-sticky) a,",t+=".fusion-fullwidth .fusion-builder-row.fusion-row .fusion-pagination-tb-"+this.model.get("cid")+".single-navigation:not(.layout-sticky) a::before,",t+=".fusion-fullwidth .fusion-builder-row.fusion-row .fusion-pagination-tb-"+this.model.get("cid")+".single-navigation:not(.layout-sticky) a::after {",t+="color:"+e.text_color+";",t+="}"),""!==e.text_hover_color&&(t+=".fusion-fullwidth .fusion-builder-row.fusion-row .fusion-pagination-tb-"+this.model.get("cid")+".single-navigation:not(.layout-sticky) a:hover,",t+=".fusion-fullwidth .fusion-builder-row.fusion-row .fusion-pagination-tb-"+this.model.get("cid")+".single-navigation:not(.layout-sticky) a:hover::before,",t+=".fusion-fullwidth .fusion-builder-row.fusion-row .fusion-pagination-tb-"+this.model.get("cid")+".single-navigation:not(.layout-sticky) a:hover::after {",t+="color:"+e.text_hover_color+";",t+="}"),""!==e.bg_color&&"text"!==e.layout&&(t+=".fusion-body .fusion-pagination-tb-"+this.model.get("cid")+".layout-sticky .fusion-control-navigation,",t+=".fusion-body .fusion-pagination-tb-"+this.model.get("cid")+":not(.layout-sticky).layout-preview .fusion-pagination-preview-wrapper{",t+="background:"+e.bg_color+";}"),"yes"===e.box_shadow&&"text"!==e.layout&&(t+=".fusion-body .fusion-pagination-tb-"+this.model.get("cid")+".layout-sticky.has-box-shadow .fusion-control-navigation:before,",t+=".fusion-body .fusion-pagination-tb-"+this.model.get("cid")+":not(.layout-sticky).layout-preview.has-box-shadow .fusion-pagination-preview-wrapper{",t+="box-shadow:"+_.fusionGetBoxShadowStyle(e)+" !important;}"),t+=".fusion-fullwidth .fusion-builder-row.fusion-row .fusion-pagination-tb-"+this.model.get("cid")+".layout-sticky .fusion-control-navigation a,",t+=".fusion-fullwidth .fusion-builder-row.fusion-row .fusion-pagination-tb-"+this.model.get("cid")+":not(.layout-sticky).layout-preview .fusion-pagination-preview-wrapper .fusion-item-title {",""!==e.preview_text_color&&"text"!==e.layout&&(t+="color:"+e.preview_text_color+";"),""!==e.preview_font_size&&"text"!==e.layout&&(t+="font-size:"+e.preview_font_size+";"),t+="}",""!==e.preview_height&&"sticky"===e.layout&&(t+=".fusion-body .fusion-pagination-tb-"+this.model.get("cid")+".layout-sticky .fusion-control-navigation{",t+="height:"+e.preview_height+";",t+="}"),""!==e.preview_wrapper_width&&"sticky"===e.layout&&(t+=".fusion-body .fusion-pagination-tb-"+this.model.get("cid")+".layout-sticky .fusion-control-navigation{",t+="min-width:"+e.preview_wrapper_width+";",t+="}"),""!==e.preview_width&&"sticky"===e.layout&&(t+=".fusion-body .fusion-pagination-tb-"+this.model.get("cid")+".layout-sticky .fusion-control-navigation.next{",jQuery("body").hasClass("rtl")?t+="transform:translate( calc( max( -"+e.preview_wrapper_width+", -50vw ) + "+e.preview_width+"), -50% ) !important;":t+="transform:translate( calc( min( "+e.preview_wrapper_width+", 50vw ) - "+e.preview_width+"), -50% );",t+="}",t+=".fusion-body .fusion-pagination-tb-"+this.model.get("cid")+".layout-sticky .fusion-control-navigation.prev{",jQuery("body").hasClass("rtl")?t+="transform:translate( calc( min( "+e.preview_wrapper_width+", 50vw ) - "+e.preview_width+"), -50% ) !important;":t+="transform:translate( calc( max( -"+e.preview_wrapper_width+", -50vw ) + "+e.preview_width+"), -50% );",t+="}"),""!==e.z_index&&"sticky"===e.layout&&(t+=".fusion-body .fusion-pagination-tb-"+this.model.get("cid")+".layout-sticky{",t+="z-index:"+parseInt(e.z_index)+";",t+="}"),t+="</style>"},onSettingsOpen:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-live-pagination-tb"));e.hasClass("layout-sticky")&&e.addClass("show-live")},onSettingsClose:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".fusion-live-pagination-tb"));e.hasClass("layout-sticky")&&e.removeClass("show-live")}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_related=FusionPageBuilder.ElementView.extend({onInit:function(){this.model.attributes.markup&&""===this.model.attributes.markup.output&&(this.model.attributes.markup.output=this.getComponentPlaceholder())},afterPatch:function(){this._refreshJs()},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.attr=this.buildAttr(e.values),t.titleElement="yes"===e.values.heading_enable?_.buildTitleElement(e.values,e.extras,this.getSectionTitle()):"",t.query_data=e.query_data,t.query_data.placeholder=this.getComponentPlaceholder(),void 0!==e.query_data&&void 0!==e.query_data.related_items&&(t.relatedCarousel=this.buildRelatedCarousel(e),t.carouselAttrs=this.buildCarouselAttrs(e.values),t.carouselNav=!0===e.values.related_posts_navigation?this.buildCarouselNav():""),t},validateValues:function(e){void 0!==e.margin_top&&""!==e.margin_top&&(e.margin_top=_.fusionGetValueWithUnit(e.margin_top)),void 0!==e.margin_right&&""!==e.margin_right&&(e.margin_right=_.fusionGetValueWithUnit(e.margin_right)),void 0!==e.margin_bottom&&""!==e.margin_bottom&&(e.margin_bottom=_.fusionGetValueWithUnit(e.margin_bottom)),void 0!==e.margin_left&&""!==e.margin_left&&(e.margin_left=_.fusionGetValueWithUnit(e.margin_left)),e.related_posts_navigation="yes"===e.related_posts_navigation||"1"===e.related_posts_navigation,e.related_posts_autoplay="yes"===e.related_posts_autoplay||"1"===e.related_posts_autoplay,e.related_posts_swipe="yes"===e.related_posts_swipe||"1"===e.related_posts_swipe},buildRelatedCarousel:function(e){var t=e.query_data,i=e.values,o="";return _.each(t.related_items,function(e){var n=t.related_items.length<i.related_posts_columns?' style="max-width: 300px;"':"";o+='<li class="fusion-carousel-item"'+n+">",o+='<div class="fusion-carousel-item-wrapper">',o+=e.featured_image,"title_below_image"===i.related_posts_layout&&(o+='<h4 class="fusion-carousel-title">',o+='<a class="fusion-related-posts-title-link" href="'+e.link+'" target="_self" title="'+e.title_attr+'">'+e.title+"</a>",o+="</h4>",o+='<div class="fusion-carousel-meta">',o+='<span class="fusion-date">'+e.date+"</span>",!0===e.comments_open&&(o+='<span class="fusion-inline-sep">|</span>',o+="<span>",o+=e.comments,o+="</span>"),o+="</div>"),o+="</div>",o+="</li>"}),o},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"related-posts single-related-posts fusion-related-tb",style:""}),i=this.model.get("cid");return t=_.fusionAnimations(e,t),e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),t.class+=" fusion-related-tb-"+i,""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t},buildCarouselNav:function(){var e="";return e+='<div class="fusion-carousel-nav">',e+='<span class="fusion-nav-prev"></span>',e+='<span class="fusion-nav-next"></span>',e+="</div>"},buildCarouselAttrs:function(e){var t={class:"fusion-carousel"};return"title_below_image"===e.related_posts_layout&&(t.class+=" fusion-carousel-title-below-image"),t["data-imagesize"]="cropped"===e.related_posts_image_size?"fixed":"auto",t["data-metacontent"]="title_on_rollover"===e.related_posts_layout?"no":"yes",t["data-autoplay"]=e.related_posts_autoplay?"yes":"no",t["data-touchscroll"]=e.related_posts_swipe?"yes":"no",t["data-columns"]=e.related_posts_columns,t["data-itemmargin"]=parseInt(e.related_posts_column_spacing)+"px",t["data-itemwidth"]=180,t["data-touchscroll"]="yes",t["data-scrollitems"]=0==e.related_posts_swipe_items?"":e.related_posts_swipe_items,t},getSectionTitle:function(){var e=fusionBuilderText.related_posts;return void 0!==FusionApp.data.examplePostDetails&&("avada_portfolio"===FusionApp.data.examplePostDetails.post_type?e=fusionBuilderText.related_projects:"avada_faq"===FusionApp.data.examplePostDetails.post_type&&(e=fusionBuilderText.related_faqs)),e}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_archives=FusionPageBuilder.fusion_blog.extend({onInit:function(){var e,t,i;this.filterTemplateAtts=this._filterTemplateAtts(this.filterTemplateAtts),t=""===(e=this.model.attributes.markup&&this.model.attributes.markup.output),i=e&&e.includes("fusion-builder-placeholder"),(t||i)&&(this.model.attributes.markup.output=this.getComponentPlaceholder())},_filterTemplateAtts:function(e){var t=this;return function(i){return i.params.show_title="yes",(i=e.call(t,i)).placeholder=t.getComponentPlaceholder(),i}},afterPatch:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").trigger("fusion-element-render-fusion_blog",this.model.attributes.cid)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_price=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),this.values=e.values,t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t},validateValues:function(e){var t=void 0!==e.border_radius_top_left&&""!==e.border_radius_top_left?_.fusionGetValueWithUnit(e.border_radius_top_left):"0px",i=void 0!==e.border_radius_top_right&&""!==e.border_radius_top_right?_.fusionGetValueWithUnit(e.border_radius_top_right):"0px",o=void 0!==e.border_radius_bottom_right&&""!==e.border_radius_bottom_right?_.fusionGetValueWithUnit(e.border_radius_bottom_right):"0px",n=void 0!==e.border_radius_bottom_left&&""!==e.border_radius_bottom_left?_.fusionGetValueWithUnit(e.border_radius_bottom_left):"0px";e.border_radius=t+" "+i+" "+o+" "+n,e.border_radius="0px 0px 0px 0px"===e.border_radius?"":e.border_radius,e.badge_border_size=_.fusionValidateAttrValue(e.badge_border_size,"px")},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-woo-price-tb fusion-woo-price-tb-"+this.model.get("cid"),style:""});return""!==e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),""!==e.alignment&&(t.style+="justify-content:"+e.alignment+";"),"yes"!==e.show_sale&&(t.class+=" hide-sale"),""!==e.sale_position&&(t.class+=" sale-position-"+e.sale_position),""!==e.layout&&(t.class+=" "+e.layout),""!==e.badge_position&&"no"!==e.show_badge&&(t.class+=" badge-position-"+e.badge_position),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},addCssProperty:function(e,t,i,o){"object"==typeof e&&(e=Object.values(e)),"object"==typeof e&&(e=e.join(",")),"object"!=typeof this.dynamic_css[e]&&(this.dynamic_css[e]={}),void 0!==o&&o&&(i+=" !important"),(void 0===this.dynamic_css[e][t]||void 0!==o&&o||!this.dynamic_css[e][t].includes("important"))&&(this.dynamic_css[e][t]=i)},isDefault:function(e){return this.values[e]===fusionAllElements.fusion_tb_woo_price.defaults[e]},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-woo-price-tb").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.woo_price&&(t=e.query_data.woo_price),t},buildStyleBlock:function(e){var t,i,o={},n=this;return this.baseSelector=".fusion-woo-price-tb.fusion-woo-price-tb-"+this.model.get("cid"),this.dynamic_css={},i=[this.baseSelector+" .price",this.baseSelector+" .price ins .amount",this.baseSelector+" .price del .amount",this.baseSelector+" .price > .amount"],this.isDefault("price_font_size")||this.addCssProperty(i,"font-size",e.price_font_size),this.isDefault("price_color")||this.addCssProperty(i,"color",e.price_color),o=_.fusionGetFontStyle("price_typography",e,"object"),jQuery.each(o,function(e,t){n.addCssProperty(i,e,t)}),this.isDefault("sale_font_size")||this.addCssProperty(this.baseSelector+" .price del .amount","font-size",e.sale_font_size),this.isDefault("sale_color")||this.addCssProperty(this.baseSelector+" .price del .amount","color",e.sale_color),o=_.fusionGetFontStyle("sale_typography",e,"object"),jQuery.each(o,function(e,t){n.addCssProperty(n.baseSelector+" .price del .amount",e,t)}),this.isDefault("stock_font_size")||this.addCssProperty(this.baseSelector+" p.stock","font-size",e.stock_font_size),this.isDefault("stock_color")||this.addCssProperty(this.baseSelector+" p.stock","color",e.stock_color),o=_.fusionGetFontStyle("stock_typography",e,"object"),jQuery.each(o,function(e,t){n.addCssProperty(n.baseSelector+" p.stock",e,t)}),this.isDefault("badge_font_size")||this.addCssProperty(this.baseSelector+" .fusion-onsale","font-size",e.badge_font_size),this.isDefault("badge_text_color")||this.addCssProperty(this.baseSelector+" .fusion-onsale","color",e.badge_text_color),o=_.fusionGetFontStyle("badge_typography",e,"object"),jQuery.each(o,function(e,t){n.addCssProperty(n.baseSelector+" .fusion-onsale",e,t)}),this.isDefault("badge_bg_color")||this.addCssProperty(this.baseSelector+" .fusion-onsale","background",e.badge_bg_color),this.isDefault("badge_border_size")||this.addCssProperty(this.baseSelector+" .fusion-onsale","border-width",e.badge_border_size),this.isDefault("badge_border_color")||this.addCssProperty(this.baseSelector+" .fusion-onsale","border-color",e.badge_border_color),this.isDefault("badge_font_size")||this.addCssProperty(this.baseSelector+" .fusion-onsale","font-size",e.badge_font_size),e.border_radius&&""!==e.border_radius&&this.addCssProperty(this.baseSelector+" .fusion-onsale","border-radius",e.border_radius),(t=this.parseCSS())?"<style>"+t+"</style>":""},parseCSS:function(){var e="";return"object"!=typeof this.dynamic_css?"":(_.each(this.dynamic_css,function(t,i){"object"==typeof t&&(e+=i+"{",_.each(t,function(t,i){e+=i+":"+t+";"}),e+="}")}),e)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_cart=FusionPageBuilder.ElementView.extend({onInit:function(){this.variationMarkup=this.$el.length&&this.$el.find(".single_variation_wrap").length?this.$el.find(".single_variation_wrap").html():""},beforePatch:function(){this.variationMarkup=this.$el.length&&this.$el.find(".single_variation_wrap").length?this.$el.find(".single_variation_wrap").html():""},afterPatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".variations_form")),t=this;this._refreshJs(),e.length&&"function"==typeof e.wc_variation_form&&e.wc_variation_form(),"string"==typeof this.variationMarkup&&""!==this.variationMarkup&&setTimeout(function(){t.$el.find(".single_variation_wrap").html(t.variationMarkup),t.$el.find(".single_variation").css("display","flex")},300)},filterTemplateAtts:function(e){var t={};return this.values=e.values,this.params=this.model.get("params"),this.extras=e.extras,t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t},buildAttr:function(e){var t={class:"fusion-woo-cart fusion-woo-cart-"+this.model.get("cid")};return this.$el.closest("body").hasClass("woocommerce")||(t.class+=" woocommerce"),t=_.fusionVisibilityAtts(e.hide_on_mobile,t),t=_.fusionAnimations(e,t),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),"no"===e.show_price&&(t.class+=" hide-price"),"no"===e.show_stock&&(t.class+=" hide-stock"),t},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-woo-cart").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.markup&&(t=e.query_data.markup),t},buildStyleBlock:function(e){var t,i,o,n,s,a,r,l,u,d,c,h,m,p,f,g,b,v,y,w,x,P,F,C,k,A,S,B,j,V,Q,E,z,D,T,$,M,W,I,G,R,O,U=this,L={};return this.baseSelector=".fusion-woo-cart-"+this.model.get("cid"),this.dynamic_css={},t=this.baseSelector+" table.variations",this.isDefault("margin_top")||this.addCssProperty(t,"margin-top",_.fusionGetValueWithUnit(this.values.margin_top)),this.isDefault("margin_right")||this.addCssProperty(t,"margin-right",_.fusionGetValueWithUnit(this.values.margin_right)),this.isDefault("margin_bottom")||this.addCssProperty(t,"margin-bottom",_.fusionGetValueWithUnit(this.values.margin_bottom)),this.isDefault("margin_left")||this.addCssProperty(t,"margin-left",_.fusionGetValueWithUnit(this.values.margin_left)),i=this.baseSelector+" table td",this.isDefault("border_sizes_top")||this.addCssProperty(i,"border-top-width",_.fusionGetValueWithUnit(this.values.border_sizes_top)),this.isDefault("border_sizes_right")||this.addCssProperty(i,"border-right-width",_.fusionGetValueWithUnit(this.values.border_sizes_right)),this.isDefault("border_sizes_bottom")||this.addCssProperty(i,"border-bottom-width",_.fusionGetValueWithUnit(this.values.border_sizes_bottom)),this.isDefault("border_sizes_left")||this.addCssProperty(i,"border-left-width",_.fusionGetValueWithUnit(this.values.border_sizes_left)),this.isDefault("border_color")||this.addCssProperty(i,"border-color",this.values.border_color),this.isDefault("cell_padding_top")||this.addCssProperty(i,"padding-top",_.fusionGetValueWithUnit(this.values.cell_padding_top)),this.isDefault("cell_padding_right")||this.addCssProperty(i,"padding-right",_.fusionGetValueWithUnit(this.values.cell_padding_right)),this.isDefault("cell_padding_bottom")||this.addCssProperty(i,"padding-bottom",_.fusionGetValueWithUnit(this.values.cell_padding_bottom)),this.isDefault("cell_padding_left")||this.addCssProperty(i,"padding-left",_.fusionGetValueWithUnit(this.values.cell_padding_left)),this.isDefault("cell_background")||this.addCssProperty(i,"background-color",this.values.cell_background),n=this.baseSelector+" td.label","floated"!==this.values.variation_layout?(s=this.baseSelector+" table tr",this.addCssProperty(s,"display","flex"),this.addCssProperty(s,"flex-direction","column"),this.addCssProperty(s,"width","100%")):this.isDefault("label_area_width")||this.addCssProperty(n,"width",_.fusionGetValueWithUnit(this.values.label_area_width)),this.isDefault("text_align")||(this.addCssProperty(n,"text-align",this.values.text_align),I={center:"center",left:jQuery("body").hasClass("rtl")?"flex-end":"flex-start",right:jQuery("body").hasClass("rtl")?"flex-start":"flex-end"},this.addCssProperty(t+" .avada-select-wrapper","justify-content",I[this.values.text_align])),n=[this.baseSelector+" td.label",this.baseSelector+" .woocommerce-grouped-product-list label",this.baseSelector+" .woocommerce-grouped-product-list label a",this.baseSelector+" .woocommerce-grouped-product-list .amount"],this.isDefault("label_color")||this.addCssProperty(n,"color",this.values.label_color),this.isDefault("label_font_size")||this.addCssProperty(n,"font-size",_.fusionGetValueWithUnit(this.values.label_font_size)),L=_.fusionGetFontStyle("label_typography",e,"object"),jQuery.each(L,function(e,t){U.addCssProperty(n,e,t)}),this.isDefault("select_style")||(l=[a=t+" select",r=t+" .select-arrow"],this.isDefault("select_height")||this.addCssProperty(a,"height",_.fusionGetValueWithUnit(this.values.select_height)),this.isDefault("select_font_size")||(this.addCssProperty(a,"font-size",_.fusionGetValueWithUnit(this.values.select_font_size)),this.addCssProperty(r,"font-size","calc( ( "+_.fusionGetValueWithUnit(this.values.select_font_size)+" ) * .75 )",!0)),this.isDefault("select_color")||this.addCssProperty(l,"color",this.values.select_color),this.isDefault("select_background")||this.addCssProperty(a,"background-color",this.values.select_background),this.isDefault("select_border_color")||(u=[a,a+":focus"],this.addCssProperty(u,"border-color",this.values.select_border_color)),this.isDefault("select_border_sizes_top")||""===this.values.select_border_sizes_top||(this.addCssProperty(a,"border-top-width",_.fusionGetValueWithUnit(this.values.select_border_sizes_top)),this.addCssProperty(r,"top",_.fusionGetValueWithUnit(this.values.select_border_sizes_top))),this.isDefault("select_border_sizes_right")||""===this.values.select_border_sizes_right||this.addCssProperty(a,"border-right-width",_.fusionGetValueWithUnit(this.values.select_border_sizes_right)),this.isDefault("select_border_sizes_bottom")||""===this.values.select_border_sizes_bottom||(this.addCssProperty(a,"border-bottom-width",_.fusionGetValueWithUnit(this.values.select_border_sizes_bottom)),this.addCssProperty(r,"bottom",_.fusionGetValueWithUnit(this.values.select_border_sizes_bottom))),this.isDefault("select_border_sizes_left")||""===this.values.select_border_sizes_left||this.addCssProperty(a,"border-left-width",_.fusionGetValueWithUnit(this.values.select_border_sizes_left)),this.isDefault("select_border_color")||this.isDefault("select_border_sizes_right")||this.isDefault("select_border_sizes_left")||this.addCssProperty(r,"border-left",_.fusionGetValueWithUnit(this.values.select_border_sizes_left)+" solid "+this.values.select_border_color),this.isDefault("border_radius_top_left")||this.addCssProperty(a,"border-top-left-radius",_.fusionGetValueWithUnit(this.values.border_radius_top_left)),this.isDefault("border_radius_top_right")||this.addCssProperty(a,"border-top-right-radius",_.fusionGetValueWithUnit(this.values.border_radius_top_right)),this.isDefault("border_radius_bottom_right")||this.addCssProperty(a,"border-bottom-right-radius",_.fusionGetValueWithUnit(this.values.border_radius_bottom_right)),this.isDefault("border_radius_bottom_left")||this.addCssProperty(a,"border-bottom-left-radius",_.fusionGetValueWithUnit(this.values.border_radius_bottom_left))),!this.isDefault("swatch_style")&&this.extras.woocommerce_variations&&(m=[d=t+" .avada-color-select",c=t+" .avada-image-select",h=t+" .avada-button-select"],p=[d+"[data-checked]",c+"[data-checked]",h+"[data-checked]"],f=[d+":hover",c+":hover",h+":hover",d+":focus:not( [data-checked] )",c+":focus:not( [data-checked] )",h+":focus:not( [data-checked] )"],this.isDefault("swatch_margin_top")||this.addCssProperty(m,"margin-top",_.fusionGetValueWithUnit(this.values.swatch_margin_top)),this.isDefault("swatch_margin_right")||this.addCssProperty(m,"margin-right",_.fusionGetValueWithUnit(this.values.swatch_margin_right)),this.isDefault("swatch_margin_bottom")||this.addCssProperty(m,"margin-bottom",_.fusionGetValueWithUnit(this.values.swatch_margin_bottom)),this.isDefault("swatch_margin_left")||this.addCssProperty(m,"margin-left",_.fusionGetValueWithUnit(this.values.swatch_margin_left)),this.isDefault("swatch_background_color")||this.addCssProperty(m,"background-color",this.values.swatch_background_color),this.isDefault("swatch_background_color_active")||this.addCssProperty(p,"background-color",this.values.swatch_background_color_active),this.isDefault("swatch_border_sizes_top")||""===this.values.swatch_border_sizes_top||this.addCssProperty(m,"border-top-width",_.fusionGetValueWithUnit(this.values.swatch_border_sizes_top)),this.isDefault("swatch_border_sizes_right")||""===this.values.swatch_border_sizes_right||this.addCssProperty(m,"border-right-width",_.fusionGetValueWithUnit(this.values.swatch_border_sizes_right)),this.isDefault("swatch_border_sizes_bottom")||""===this.values.swatch_border_sizes_bottom||this.addCssProperty(m,"border-bottom-width",_.fusionGetValueWithUnit(this.values.swatch_border_sizes_bottom)),this.isDefault("swatch_border_sizes_left")||""===this.values.swatch_border_sizes_left||this.addCssProperty(m,"border-left-width",_.fusionGetValueWithUnit(this.values.swatch_border_sizes_left)),this.isDefault("swatch_border_color")||this.addCssProperty(m,"border-color",this.values.swatch_border_color),this.isDefault("swatch_border_color_active")||(this.addCssProperty(p,"border-color",this.values.swatch_border_color_active),b=jQuery.Color(this.values.swatch_border_color_active).alpha(.5).toRgbaString(),this.addCssProperty(f,"border-color",b)),this.isDefault("color_swatch_height")||this.addCssProperty(d,"height",_.fusionGetValueWithUnit(this.values.color_swatch_height)),this.isDefault("color_swatch_width")||(v="auto"===this.values.color_swatch_width?"auto":_.fusionGetValueWithUnit(this.values.color_swatch_width),this.addCssProperty(d,"width",v)),this.isDefault("color_swatch_padding_top")||""===this.values.color_swatch_padding_top||this.addCssProperty(d,"padding-top",_.fusionGetValueWithUnit(this.values.color_swatch_padding_top)),this.isDefault("color_swatch_padding_right")||""===this.values.color_swatch_padding_right||this.addCssProperty(d,"padding-right",_.fusionGetValueWithUnit(this.values.color_swatch_padding_right)),this.isDefault("color_swatch_padding_bottom")||""===this.values.color_swatch_padding_bottom||this.addCssProperty(d,"padding-bottom",_.fusionGetValueWithUnit(this.values.color_swatch_padding_bottom)),this.isDefault("color_swatch_padding_left")||""===this.values.color_swatch_padding_left||this.addCssProperty(d,"padding-left",_.fusionGetValueWithUnit(this.values.color_swatch_padding_left)),W=[d,d+" span"],this.isDefault("color_swatch_border_radius_top_left")||this.addCssProperty(W,"border-top-left-radius",_.fusionGetValueWithUnit(this.values.color_swatch_border_radius_top_left)),this.isDefault("color_swatch_border_radius_top_right")||this.addCssProperty(W,"border-top-right-radius",_.fusionGetValueWithUnit(this.values.color_swatch_border_radius_top_right)),this.isDefault("color_swatch_border_radius_bottom_right")||this.addCssProperty(W,"border-bottom-right-radius",_.fusionGetValueWithUnit(this.values.color_swatch_border_radius_bottom_right)),this.isDefault("color_swatch_border_radius_bottom_left")||this.addCssProperty(W,"border-bottom-left-radius",_.fusionGetValueWithUnit(this.values.color_swatch_border_radius_bottom_left)),this.isDefault("image_swatch_height")||this.addCssProperty(c,"height",_.fusionGetValueWithUnit(this.values.image_swatch_height)),this.isDefault("image_swatch_width")||(v="auto"===this.values.image_swatch_width?"auto":_.fusionGetValueWithUnit(this.values.image_swatch_width),this.addCssProperty(c,"width",v),"auto"!==this.values.image_swatch_width&&this.addCssProperty(c+" img","width","100%")),this.isDefault("image_swatch_padding_top")||""===this.values.image_swatch_padding_top||this.addCssProperty(c,"padding-top",_.fusionGetValueWithUnit(this.values.image_swatch_padding_top)),this.isDefault("image_swatch_padding_right")||""===this.values.image_swatch_padding_right||this.addCssProperty(c,"padding-right",_.fusionGetValueWithUnit(this.values.image_swatch_padding_right)),this.isDefault("image_swatch_padding_bottom")||""===this.values.image_swatch_padding_bottom||this.addCssProperty(c,"padding-bottom",_.fusionGetValueWithUnit(this.values.image_swatch_padding_bottom)),this.isDefault("image_swatch_padding_left")||""===this.values.image_swatch_padding_left||this.addCssProperty(c,"padding-left",_.fusionGetValueWithUnit(this.values.image_swatch_padding_left)),M=[c,c+" img"],this.isDefault("image_swatch_border_radius_top_left")||this.addCssProperty(M,"border-top-left-radius",_.fusionGetValueWithUnit(this.values.image_swatch_border_radius_top_left)),this.isDefault("image_swatch_border_radius_top_right")||this.addCssProperty(M,"border-top-right-radius",_.fusionGetValueWithUnit(this.values.image_swatch_border_radius_top_right)),this.isDefault("image_swatch_border_radius_bottom_right")||this.addCssProperty(M,"border-bottom-right-radius",_.fusionGetValueWithUnit(this.values.image_swatch_border_radius_bottom_right)),this.isDefault("image_swatch_border_radius_bottom_left")||this.addCssProperty(M,"border-bottom-left-radius",_.fusionGetValueWithUnit(this.values.image_swatch_border_radius_bottom_left)),this.isDefault("button_swatch_height")||this.addCssProperty(h,"height",_.fusionGetValueWithUnit(this.values.button_swatch_height)),this.isDefault("button_swatch_width")||(v="auto"===this.values.button_swatch_width?"auto":_.fusionGetValueWithUnit(this.values.button_swatch_width),this.addCssProperty(h,"width",v)),this.isDefault("button_swatch_padding_top")||""===this.values.button_swatch_padding_top||this.addCssProperty(h,"padding-top",_.fusionGetValueWithUnit(this.values.button_swatch_padding_top)),this.isDefault("button_swatch_padding_right")||""===this.values.button_swatch_padding_right||this.addCssProperty(h,"padding-right",_.fusionGetValueWithUnit(this.values.button_swatch_padding_right)),this.isDefault("button_swatch_padding_bottom")||""===this.values.button_swatch_padding_bottom||this.addCssProperty(h,"padding-bottom",_.fusionGetValueWithUnit(this.values.button_swatch_padding_bottom)),this.isDefault("button_swatch_padding_left")||""===this.values.button_swatch_padding_left||this.addCssProperty(h,"padding-left",_.fusionGetValueWithUnit(this.values.button_swatch_padding_left)),this.isDefault("button_swatch_border_radius_top_left")||this.addCssProperty(h,"border-top-left-radius",_.fusionGetValueWithUnit(this.values.button_swatch_border_radius_top_left)),this.isDefault("button_swatch_border_radius_top_right")||this.addCssProperty(h,"border-top-right-radius",_.fusionGetValueWithUnit(this.values.button_swatch_border_radius_top_right)),this.isDefault("button_swatch_border_radius_bottom_right")||this.addCssProperty(h,"border-bottom-right-radius",_.fusionGetValueWithUnit(this.values.button_swatch_border_radius_bottom_right)),this.isDefault("button_swatch_border_radius_bottom_left")||this.addCssProperty(h,"border-bottom-left-radius",_.fusionGetValueWithUnit(this.values.button_swatch_border_radius_bottom_left)),this.isDefault("button_swatch_font_size")||this.addCssProperty(h,"font-size",_.fusionGetValueWithUnit(this.values.button_swatch_font_size)),this.isDefault("button_swatch_color")||this.addCssProperty(h,"color",this.values.button_swatch_color),this.isDefault("button_swatch_color_active")||(y=[d+"[data-checked]",c+"[data-checked]",h+"[data-checked]",d+":hover",c+":hover",h+":hover",d+":focus",c+":focus",h+":focus"],this.addCssProperty(y,"color",this.values.button_swatch_color_active))),w=this.baseSelector+" .woocommerce-variation",this.isDefault("info_padding_top")||this.addCssProperty(w,"padding-top",_.fusionGetValueWithUnit(this.values.info_padding_top)),this.isDefault("info_padding_right")||this.addCssProperty(w,"padding-right",_.fusionGetValueWithUnit(this.values.info_padding_right)),this.isDefault("info_padding_bottom")||this.addCssProperty(w,"padding-bottom",_.fusionGetValueWithUnit(this.values.info_padding_bottom)),this.isDefault("info_padding_left")||this.addCssProperty(w,"padding-left",_.fusionGetValueWithUnit(this.values.info_padding_left)),this.isDefault("info_background")||this.addCssProperty(w,"background-color",this.values.info_background),this.isDefault("info_border_sizes_top")||this.addCssProperty(w,"border-top-width",_.fusionGetValueWithUnit(this.values.info_border_sizes_top)),this.isDefault("info_border_sizes_right")||this.addCssProperty(w,"border-right-width",_.fusionGetValueWithUnit(this.values.info_border_sizes_right)),this.isDefault("info_border_sizes_bottom")||this.addCssProperty(w,"border-bottom-width",_.fusionGetValueWithUnit(this.values.info_border_sizes_bottom)),this.isDefault("info_border_sizes_left")||this.addCssProperty(w,"border-left-width",_.fusionGetValueWithUnit(this.values.info_border_sizes_left)),this.isDefault("info_border_color")||this.addCssProperty(w,"border-color",this.values.info_border_color),this.isDefault("info_border_radius_top_left")||this.addCssProperty(w,"border-top-left-radius",_.fusionGetValueWithUnit(this.values.info_border_radius_top_left)),this.isDefault("info_border_radius_top_right")||this.addCssProperty(w,"border-top-right-radius",_.fusionGetValueWithUnit(this.values.info_border_radius_top_right)),this.isDefault("info_border_radius_bottom_right")||this.addCssProperty(w,"border-bottom-right-radius",_.fusionGetValueWithUnit(this.values.info_border_radius_bottom_right)),this.isDefault("info_border_radius_bottom_left")||this.addCssProperty(w,"border-bottom-left-radius",_.fusionGetValueWithUnit(this.values.info_border_radius_bottom_left)),x=w+" .woocommerce-variation-description",this.isDefault("info_align")||(this.addCssProperty(w,"justify-content",this.values.info_align),g=jQuery("body").hasClass("rtl")?"right":"left","flex-end"===this.values.info_align?g=jQuery("body").hasClass("rtl")?"left":"right":"center"===this.values.info_align&&(g="center"),this.addCssProperty(x,"text-align",g)),this.isDefault("description_color")||this.addCssProperty(x,"color",this.values.description_color),this.isDefault("description_font_size")||this.addCssProperty(x,"font-size",_.fusionGetValueWithUnit(this.values.description_font_size)),L=_.fusionGetFontStyle("description_typography",e,"object"),jQuery.each(L,function(e,t){U.addCssProperty(x,e,t)}),"after"===this.values.description_order&&this.addCssProperty(x,"order","2"),"no"===this.values.show_sale&&this.addCssProperty(w+" .price del","display","none"),"before"===this.values.sale_order?this.addCssProperty(w+" .price del","margin-"+(jQuery("body").hasClass("rtl")?"left":"right"),"0.5em"):(this.addCssProperty(w+" .price","flex-direction","row-reverse"),this.addCssProperty(w+" .price del","margin-"+(jQuery("body").hasClass("rtl")?"right":"left"),"0.5em")),P=[w+" .price",w+" .price > .amount",w+" .price ins > .amount"],this.isDefault("price_font_size")||this.addCssProperty(P,"font-size",this.values.price_font_size),this.isDefault("price_color")||this.addCssProperty(P,"color",this.values.price_color),L=_.fusionGetFontStyle("price_typography",e,"object"),jQuery.each(L,function(e,t){U.addCssProperty(P,e,t)}),F=[w+" .price del .amount",w+" .price del"],this.isDefault("sale_font_size")||this.addCssProperty(F,"font-size",this.values.sale_font_size),this.isDefault("sale_color")||this.addCssProperty(F,"color",this.values.sale_color),L=_.fusionGetFontStyle("sale_typography",e,"object"),jQuery.each(L,function(e,t){U.addCssProperty(F,e,t)}),o=[this.baseSelector+" .stock",w+" .woocommerce-variation-availability"],this.isDefault("stock_font_size")||this.addCssProperty(o,"font-size",this.values.stock_font_size),this.isDefault("stock_color")||this.addCssProperty(o,"color",this.values.stock_color),L=_.fusionGetFontStyle("stock_typography",e,"object"),jQuery.each(L,function(e,t){U.addCssProperty(o,e,t)}),C=this.baseSelector+" .reset_variations","hide"!==this.values.variation_clear?("absolute"!==this.values.variation_clear&&(this.addCssProperty(C,"position","static"),this.addCssProperty(C,"display","inline-block"),this.addCssProperty(C,"right","initial"),this.addCssProperty(C,"top","initial"),"floated"===this.values.variation_layout&&(G=""===this.values.clear_margin_top?"0px":_.fusionGetValueWithUnit(this.values.clear_margin_top),R=""===this.values.clear_margin_bottom?"0px":_.fusionGetValueWithUnit(this.values.clear_margin_bottom),this.addCssProperty(this.baseSelector+" .variations tr:last-of-type td.label","padding-bottom",fusionSanitize.add_css_values([this.extras.body_font_size,G,R])))),this.isDefault("clear_margin_top")||this.addCssProperty(C,"margin-top",_.fusionGetValueWithUnit(this.values.clear_margin_top)),this.isDefault("clear_margin_right")||this.addCssProperty(C,"margin-right",_.fusionGetValueWithUnit(this.values.clear_margin_right)),this.isDefault("clear_margin_bottom")||this.addCssProperty(C,"margin-bottom",_.fusionGetValueWithUnit(this.values.clear_margin_bottom)),this.isDefault("clear_margin_left")||this.addCssProperty(C,"margin-left",_.fusionGetValueWithUnit(this.values.clear_margin_left)),this.isDefault("clear_color")||this.addCssProperty(C,"color",this.values.clear_color),this.isDefault("clear_color_hover")||this.addCssProperty(C+":hover","color",this.values.clear_color_hover)):this.addCssProperty(C,"display","none",!0),k=this.baseSelector+" .fusion-button-wrapper","stacked"===this.values.button_layout?(this.addCssProperty(k,"display","flex"),this.addCssProperty(k,"flex-direction","column"),this.addCssProperty(k,"align-items",this.values.button_align),O=k+" .quantity",this.addCssProperty(O,"margin-bottom","1.2em"),this.addCssProperty(O,"margin-right","0")):this.isDefault("button_justify")||(this.addCssProperty(k,"display","flex"),this.addCssProperty(k,"justify-content",this.values.button_justify),g=jQuery("body").hasClass("rtl")?"left":"right",this.addCssProperty(k+" .quantity","margin-"+g,"1.2em")),this.isDefault("button_margin_top")||this.addCssProperty(k,"margin-top",_.fusionGetValueWithUnit(this.values.button_margin_top)),this.isDefault("button_margin_right")||this.addCssProperty(k,"margin-right",_.fusionGetValueWithUnit(this.values.button_margin_right)),this.isDefault("button_margin_bottom")||this.addCssProperty(k,"margin-bottom",_.fusionGetValueWithUnit(this.values.button_margin_bottom)),this.isDefault("button_margin_left")||this.addCssProperty(k,"margin-left",_.fusionGetValueWithUnit(this.values.button_margin_left)),this.isDefault("quantity_style")||(B=[A=".fusion-body #main "+this.baseSelector+' .quantity input[type="number"].qty',S=".fusion-body #main "+this.baseSelector+' .quantity input[type="button"]'],v="36px",this.isDefault("quantity_width")||(v=_.fusionGetValueWithUnit(this.values.quantity_width),this.addCssProperty(A,"width",v)),j="36px",this.isDefault("quantity_height")||(j=_.fusionGetValueWithUnit(this.values.quantity_height),this.addCssProperty(B,"height",j),this.addCssProperty(S,"width",j)),this.isDefault("quantity_width")&&this.isDefault("quantity_height")||this.addCssProperty(this.baseSelector+" .quantity","width","calc( "+v+" + "+j+" + "+j+" )"),this.isDefault("quantity_radius_top_left")||this.addCssProperty(this.baseSelector+" .quantity .minus","border-top-left-radius",_.fusionGetValueWithUnit(this.values.quantity_radius_top_left)),this.isDefault("quantity_radius_bottom_left")||this.addCssProperty(this.baseSelector+" .quantity .minus","border-bottom-left-radius",_.fusionGetValueWithUnit(this.values.quantity_radius_bottom_left)),this.isDefault("quantity_radius_top_right")||this.addCssProperty(this.baseSelector+" .quantity .plus","border-top-right-radius",_.fusionGetValueWithUnit(this.values.quantity_radius_top_right)),this.isDefault("quantity_radius_bottom_left")||this.addCssProperty(this.baseSelector+" .quantity .plus","border-bottom-right-radius",_.fusionGetValueWithUnit(this.values.quantity_radius_bottom_right)),this.isDefault("quantity_font_size")||(V=[A,S,this.baseSelector+" .quantity"],this.addCssProperty(V,"font-size",_.fusionGetValueWithUnit(this.values.quantity_font_size))),this.isDefault("quantity_color")||this.addCssProperty(A,"color",this.values.quantity_color),this.isDefault("quantity_background")||this.addCssProperty(A,"background-color",this.values.quantity_background),this.isDefault("quantity_border_sizes_top")||this.addCssProperty(A,"border-top-width",_.fusionGetValueWithUnit(this.values.quantity_border_sizes_top)),this.isDefault("quantity_border_sizes_right")||this.addCssProperty(A,"border-right-width",_.fusionGetValueWithUnit(this.values.quantity_border_sizes_right)),this.isDefault("quantity_border_sizes_bottom")||this.addCssProperty(A,"border-bottom-width",_.fusionGetValueWithUnit(this.values.quantity_border_sizes_bottom)),this.isDefault("quantity_border_sizes_left")||this.addCssProperty(A,"border-left-width",_.fusionGetValueWithUnit(this.values.quantity_border_sizes_left)),this.isDefault("quantity_border_color")||this.addCssProperty(A,"border-color",this.values.quantity_border_color),this.isDefault("qbutton_border_sizes_top")||this.addCssProperty(S,"border-top-width",_.fusionGetValueWithUnit(this.values.qbutton_border_sizes_top)),this.isDefault("qbutton_border_sizes_right")||this.addCssProperty(S,"border-right-width",_.fusionGetValueWithUnit(this.values.qbutton_border_sizes_right)),this.isDefault("qbutton_border_sizes_bottom")||this.addCssProperty(S,"border-bottom-width",_.fusionGetValueWithUnit(this.values.qbutton_border_sizes_bottom)),this.isDefault("qbutton_border_sizes_left")||this.addCssProperty(S,"border-left-width",_.fusionGetValueWithUnit(this.values.qbutton_border_sizes_left)),this.isDefault("qbutton_color")||this.addCssProperty(S,"color",this.values.qbutton_color),this.isDefault("qbutton_background")||this.addCssProperty(S,"background-color",this.values.qbutton_background),this.isDefault("qbutton_border_color")||this.addCssProperty(S,"border-color",this.values.qbutton_border_color),Q=S+":hover",this.isDefault("qbutton_color_hover")||this.addCssProperty(Q,"color",this.values.qbutton_color_hover),this.isDefault("qbutton_background_hover")||this.addCssProperty(Q,"background-color",this.values.qbutton_background_hover),this.isDefault("qbutton_border_color_hover")||this.addCssProperty(Q,"border-color",this.values.qbutton_border_color_hover)),this.isDefault("button_style")||(E=".fusion-body "+this.baseSelector+" .fusion-button-wrapper .button",this.isDefault("button_size")||"object"==typeof(z={small:{padding:"9px 20px",line_height:"14px",font_size:"12px"},medium:{padding:"11px 23px",line_height:"16px",font_size:"13px"},large:{padding:"13px 29px",line_height:"17px",font_size:"14px"},xlarge:{padding:"17px 40px",line_height:"21px",font_size:"18px"}})[this.values.button_size]&&(D=z[this.values.button_size],this.addCssProperty(E,"padding",D.padding),this.addCssProperty(E,"line-height",D.line_height),this.addCssProperty(E,"font-size",D.font_size)),this.isDefault("button_stretch")||(this.addCssProperty(E,"flex","1"),this.addCssProperty(E,"width","100%")),this.isDefault("button_border_width")||this.addCssProperty(E,"border-width",_.fusionGetValueWithUnit(this.values.button_border_width)),this.isDefault("button_color")||this.addCssProperty(E,"color",this.values.button_color),("string"==typeof this.params.button_gradient_top&&""!==this.params.button_gradient_top||"string"==typeof this.params.button_gradient_bottom&&""!==this.params.button_gradient_bottom)&&(this.addCssProperty(E,"background",this.values.button_gradient_top),this.addCssProperty(E,"background-image","linear-gradient( to top, "+this.values.button_gradient_bottom+", "+this.values.button_gradient_top+" )")),this.isDefault("button_border_color")||this.addCssProperty(E,"border-color",this.values.button_border_color),T=E+":hover",this.isDefault("button_color_hover")||this.addCssProperty(T,"color",this.values.button_color_hover),("string"==typeof this.params.button_gradient_top_hover&&""!==this.params.button_gradient_top_hover||"string"==typeof this.params.button_gradient_bottom_hover&&""!==this.params.button_gradient_bottom_hover)&&(this.addCssProperty(T,"background",this.values.button_gradient_top_hover),this.addCssProperty(T,"background-image","linear-gradient( to top, "+this.values.button_gradient_bottom_hover+", "+this.values.button_gradient_top_hover+" )")),this.isDefault("button_border_color_hover")||this.addCssProperty(T,"border-color",this.values.button_border_color_hover)),($=this.parseCSS())?"<style>"+$+"</style>":""}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_stock=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t},validateValues:function(e){e.stock_font_size=_.fusionValidateAttrValue(e.stock_font_size,"px")},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-woo-stock-tb fusion-woo-stock-tb-"+this.model.get("cid"),style:""});return""!==e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-woo-stock-tb").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.woo_stock&&(t=e.query_data.woo_stock),t},buildStyleBlock:function(e){var t='<style type="text/css">';return""!==e.stock_font_size&&(t+=".fusion-woo-stock-tb.fusion-woo-stock-tb-"+this.model.get("cid")+" p.stock{ font-size: "+e.stock_font_size+"}"),""!==e.stock_color&&(t+=".fusion-woo-stock-tb.fusion-woo-stock-tb-"+this.model.get("cid")+" p.stock{ color: "+e.stock_color+"}"),t+="</style>"}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_rating=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t},validateValues:function(e){e.icon_size=_.fusionValidateAttrValue(e.icon_size,"px"),e.count_font_size=_.fusionValidateAttrValue(e.count_font_size,"px")},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-woo-rating-tb fusion-woo-rating-tb-"+this.model.get("cid"),style:""});return""!==e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),""!==e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),""!==e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),""!==e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),"yes"!==e.show_count&&(t.class+=" hide-count"),""!==e.alignment&&(t.class+=" align-"+e.alignment),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-woo-rating-tb").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.woo_rating&&(t=e.query_data.woo_rating),t},buildStyleBlock:function(e){var t='<style type="text/css">';return""!==e.icon_size&&(t+=".fusion-woo-rating-tb.fusion-woo-rating-tb-"+this.model.get("cid")+" .woocommerce-product-rating .star-rating {",t+="font-size:"+e.icon_size+";}"),""!==e.icon_color&&(t+=".fusion-woo-rating-tb.fusion-woo-rating-tb-"+this.model.get("cid")+" .woocommerce-product-rating .star-rating:before,",t+=".fusion-woo-rating-tb.fusion-woo-rating-tb-"+this.model.get("cid")+" .woocommerce-product-rating .star-rating span:before {",t+="color:"+e.icon_color+";}"),t+=".fusion-woo-rating-tb.fusion-woo-rating-tb-"+this.model.get("cid")+" .woocommerce-product-rating a.woocommerce-review-link {",""!==e.count_font_size&&(t+="font-size:"+e.count_font_size+";"),""!==e.count_color&&(t+="color:"+e.count_color+";"),t+="}",""!==e.count_hover_color&&(t+=".fusion-woo-rating-tb.fusion-woo-rating-tb-"+this.model.get("cid")+" .woocommerce-product-rating a.woocommerce-review-link:hover {",t+="color:"+e.count_hover_color+";}"),t+="</style>"}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_short_description=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.values=e.values,t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-woo-short-description-tb fusion-woo-short-description-tb-"+this.model.get("cid"),style:""});return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-woo-short-description-tb").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.woo_short_description&&(t=e.query_data.woo_short_description),t},buildStyleBlock:function(e){var t,i,o=this;return this.baseSelector=".fusion-woo-short-description-tb.fusion-woo-short-description-tb-"+this.model.get("cid"),this.dynamic_css={},this.isDefault("text_color")||this.addCssProperty(this.baseSelector+" .woocommerce-product-details__short-description","color",e.text_color),this.isDefault("text_font_size")||this.addCssProperty(this.baseSelector+" .woocommerce-product-details__short-description","font-size",_.fusionGetValueWithUnit(e.text_font_size)),i=_.fusionGetFontStyle("text_font",e,"object"),jQuery.each(i,function(e,t){o.addCssProperty(o.baseSelector+" .woocommerce-product-details__short-description",e,t)}),jQuery.each(["top","right","bottom","left"],function(t,i){var n="margin_"+i;""!==e[n]&&o.addCssProperty(o.baseSelector,"margin-"+i,_.fusionGetValueWithUnit(e[n]))}),(t=this.parseCSS())?"<style>"+t+"</style>":""}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_reviews=FusionPageBuilder.ElementView.extend({onRender:function(){var e=this;jQuery(window).on("load",function(){e._refreshJs()})},refreshJs:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").find('.fusion-builder-live-element[data-cid="'+this.model.get("cid")+'"] ').find('.comment-form-rating select[name="rating"]:visible').trigger("init")},filterTemplateAtts:function(e){var t={};return this.values=e.values,this.params=this.model.get("params"),t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-woo-reviews-tb fusion-woo-reviews-tb-"+this.model.get("cid"),style:""});return""!==e.class&&(t.class+=" "+e.class),"no"==e.show_tab_title&&(t.class+=" woo-reviews-hide-heading"),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-woo-reviews-tb").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.woo_reviews&&(t=e.query_data.woo_reviews),this.disableInlineScripts(t)},disableInlineScripts:function(e){return-1!==e.indexOf("<script")&&-1!==e.indexOf("<\/script>")&&(e=e.replace("<script","\x3c!--<script").replace("<\/script>","<\/script>--\x3e")),e},buildStyleBlock:function(e){var t,i,o,n,s,a,r=this;return this.baseSelector=".fusion-woo-reviews-tb.fusion-woo-reviews-tb-"+this.model.get("cid"),this.dynamic_css={},jQuery.each(["top","right","bottom","left"],function(t,i){var o="margin_"+i;""!==e[o]&&r.addCssProperty(r.baseSelector,"margin-"+i,_.fusionGetValueWithUnit(e[o]))}),this.isDefault("text_color")||(this.addCssProperty(this.baseSelector,"color",this.values.text_color),this.addCssProperty("#wrapper "+this.baseSelector+" .meta","color",this.values.text_color),this.addCssProperty([this.baseSelector+" .stars a",this.baseSelector+" .stars a:after"],"color",this.values.text_color)),this.isDefault("text_font_size")||this.addCssProperty(this.baseSelector,"font-size",_.fusionGetValueWithUnit(this.values.text_font_size)),t=_.fusionGetFontStyle("text_font",e,"object"),jQuery.each(t,function(e,t){r.addCssProperty(r.baseSelector,e,t)}),this.isDefault("border_size")||this.addCssProperty(this.baseSelector+" #reviews li .comment-text","border-width",this.values.border_size+"px"),this.isDefault("border_color")||this.addCssProperty(this.baseSelector+" #reviews li .comment-text","border-color",this.values.border_color),this.isDefault("stars_color")||(this.addCssProperty(this.baseSelector+" .comment-text .star-rating:before","color",this.values.stars_color),this.addCssProperty(this.baseSelector+" .comment-text .star-rating span:before","color",this.values.stars_color)),this.isDefault("rating_box_bg_color")||this.addCssProperty(this.baseSelector+" .stars > span > a","background-color",this.values.rating_box_bg_color),this.isDefault("rating_box_active_bg_color")||(this.addCssProperty(this.baseSelector+" .stars > span > a:hover","background-color",this.values.rating_box_active_bg_color),this.addCssProperty(this.baseSelector+" .stars > span > a.active","background-color",this.values.rating_box_active_bg_color)),this.isDefault("button_style")||(o=".fusion-body "+this.baseSelector+" #reviews input#submit.submit",this.isDefault("button_size")||"object"==typeof(s={small:{padding:"9px 20px",line_height:"14px",font_size:"12px"},medium:{padding:"11px 23px",line_height:"16px",font_size:"13px"},large:{padding:"13px 29px",line_height:"17px",font_size:"14px"},xlarge:{padding:"17px 40px",line_height:"21px",font_size:"18px"}})[this.values.button_size]&&(a=s[this.values.button_size],this.addCssProperty(o,"padding",a.padding),this.addCssProperty(o,"line-height",a.line_height),this.addCssProperty(o,"font-size",a.font_size)),this.isDefault("button_stretch")||(this.addCssProperty(o,"flex","1"),this.addCssProperty(o,"width","100%")),this.isDefault("button_border_width")||(this.addCssProperty(o,"border-width",_.fusionGetValueWithUnit(this.values.button_border_width)),this.addCssProperty(o,"border-style","solid")),this.isDefault("button_color")||this.addCssProperty(o,"color",this.values.button_color),("string"==typeof this.params.button_gradient_top&&""!==this.params.button_gradient_top||"string"==typeof this.params.button_gradient_bottom&&""!==this.params.button_gradient_bottom)&&(this.addCssProperty(o,"background",this.values.button_gradient_top),this.addCssProperty(o,"background-image","linear-gradient( to top, "+this.values.button_gradient_bottom+", "+this.values.button_gradient_top+" )")),this.isDefault("button_border_color")||this.addCssProperty(o,"border-color",this.values.button_border_color),n=o+":hover",this.isDefault("button_color_hover")||this.addCssProperty(n,"color",this.values.button_color_hover),("string"==typeof this.params.button_gradient_top_hover&&""!==this.params.button_gradient_top_hover||"string"==typeof this.params.button_gradient_bottom_hover&&""!==this.params.button_gradient_bottom_hover)&&(this.addCssProperty(n,"background",this.values.button_gradient_top_hover),this.addCssProperty(n,"background-image","linear-gradient( to top, "+this.values.button_gradient_bottom_hover+", "+this.values.button_gradient_top_hover+" )")),this.isDefault("button_border_color_hover")||this.addCssProperty(n,"border-color",this.values.button_border_color_hover)),(i=this.parseCSS())?"<style>"+i+"</style>":""}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_additional_info=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.values=e.values,t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-woo-additional-info-tb fusion-woo-additional-info-tb-"+this.model.get("cid"),style:""});return""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-woo-additional-info-tb").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.woo_additional_info&&(t=e.query_data.woo_additional_info),t},buildStyleBlock:function(e){var t,i,o,n,s=this;return this.baseSelector=".fusion-woo-additional-info-tb.fusion-woo-additional-info-tb-"+this.model.get("cid"),this.dynamic_css={},this.isDefault("heading_color")||this.addCssProperty(this.baseSelector+" .shop_attributes tr th","color",e.heading_color),this.isDefault("heading_font_size")||this.addCssProperty(this.baseSelector+" .shop_attributes tr th","font-size",_.fusionGetValueWithUnit(e.heading_font_size)),o=_.fusionGetFontStyle("heading_font",e,"object"),jQuery.each(o,function(e,t){s.addCssProperty(s.baseSelector+" .shop_attributes tr th",e,t)}),this.isDefault("text_color")||this.addCssProperty(this.baseSelector+" .shop_attributes tr td","color",e.text_color),this.isDefault("text_font_size")||this.addCssProperty(this.baseSelector+" .shop_attributes tr td","font-size",_.fusionGetValueWithUnit(e.text_font_size)),n=_.fusionGetFontStyle("text_font",e,"object"),jQuery.each(n,function(e,t){s.addCssProperty(s.baseSelector+" .shop_attributes tr td",e,t)}),this.isDefault("border_color")||this.addCssProperty(this.baseSelector+" .shop_attributes tr","border-color",e.border_color),this.isDefault("table_cell_backgroundcolor")||this.addCssProperty(this.baseSelector+" .shop_attributes td","background-color",e.table_cell_backgroundcolor),this.isDefault("heading_cell_backgroundcolor")||this.addCssProperty(this.baseSelector+" .shop_attributes th","background-color",e.heading_cell_backgroundcolor),i=[this.baseSelector+" .shop_attributes tr th",this.baseSelector+" .shop_attributes tr td"],jQuery.each(["top","right","bottom","left"],function(t,o){var n="cell_padding_"+o,a="margin_"+o;""!==e[n]&&s.addCssProperty(i,"padding-"+o,_.fusionGetValueWithUnit(e[n])),""!==e[a]&&s.addCssProperty(s.baseSelector,"margin-"+o,_.fusionGetValueWithUnit(e[a]))}),(t=this.parseCSS())?"<style>"+t+"</style>":""}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_tabs=FusionPageBuilder.ElementView.extend({onRender:function(){var e=this;jQuery(window).on("load",function(){e._refreshJs()})},refreshJs:function(){jQuery("#fb-preview")[0].contentWindow.jQuery("body").find('.fusion-builder-live-element[data-cid="'+this.model.get("cid")+'"] ').find('.wc-tabs-wrapper, .woocommerce-tabs, .comment-form-rating select[name="rating"]:visible').trigger("init")},filterTemplateAtts:function(e){var t={};return this.values=e.values,t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-woo-tabs-tb fusion-woo-tabs-tb-"+this.model.get("cid"),style:""});return""!==e.class&&(t.class+=" "+e.class),"horizontal"===e.layout&&(t.class+=" woo-tabs-horizontal"),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-woo-tabs-tb").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.woo_tabs&&(t=e.query_data.woo_tabs),this.disableInlineScripts(t)},disableInlineScripts:function(e){return-1!==e.indexOf("<script")&&-1!==e.indexOf("<\/script>")&&(e=e.replace("<script","\x3c!--<script").replace("<\/script>","<\/script>--\x3e")),e},buildStyleBlock:function(e){var t,i,o,n,s=this;return this.baseSelector=".fusion-woo-tabs-tb.fusion-woo-tabs-tb-"+this.model.get("cid"),this.dynamic_css={},jQuery.each(["top","right","bottom","left"],function(t,i){var o="margin_"+i;""!==e[o]&&s.addCssProperty(s.baseSelector,"margin-"+i,_.fusionGetValueWithUnit(e[o]))}),this.isDefault("backgroundcolor")||(this.addCssProperty(this.baseSelector+" .wc-tabs > li.active > a","background-color",this.values.backgroundcolor),this.addCssProperty(this.baseSelector+" .wc-tabs > li > a:hover","background-color",this.values.backgroundcolor),this.addCssProperty(this.baseSelector+" .woocommerce-Tabs-panel","background-color",this.values.backgroundcolor)),this.isDefault("inactivebackgroundcolor")||this.addCssProperty(this.baseSelector+" .wc-tabs > li > a","background-color",this.values.inactivebackgroundcolor),this.isDefault("active_nav_text_color")||(this.addCssProperty(this.baseSelector+" .wc-tabs > li.active > a","color",this.values.active_nav_text_color),this.addCssProperty(this.baseSelector+" .wc-tabs > li > a:hover","color",this.values.active_nav_text_color)),this.isDefault("inactive_nav_text_color")||this.addCssProperty(this.baseSelector+" .wc-tabs > li > a","color",this.values.inactive_nav_text_color),this.isDefault("bordercolor")||("horizontal"===e.layout?(this.addCssProperty(this.baseSelector+".woo-tabs-horizontal .woocommerce-tabs > .tabs .active","border-color",this.values.bordercolor),this.addCssProperty(this.baseSelector+".woo-tabs-horizontal .woocommerce-tabs > .tabs","border-color",this.values.bordercolor)):this.addCssProperty(this.baseSelector+" .woocommerce-tabs .tabs li a","border-color",this.values.bordercolor),this.addCssProperty(this.baseSelector+" .woocommerce-tabs .panel","border-color",this.values.bordercolor),this.addCssProperty(this.baseSelector+" .woocommerce-tabs .panel .shop_attributes tr","border-color",this.values.bordercolor)),this.isDefault("text_color")||(this.addCssProperty(this.baseSelector+" .woocommerce-tabs .panel","color",this.values.text_color),this.addCssProperty(this.baseSelector+" .woocommerce-tabs .panel .shop_attributes th","color",this.values.text_color),this.addCssProperty("#wrapper "+this.baseSelector+" .meta","color",this.values.text_color),this.addCssProperty([this.baseSelector+" .stars a",this.baseSelector+" .stars a:after"],"color",this.values.text_color)),this.isDefault("text_font_size")||this.addCssProperty(this.baseSelector+" .woocommerce-tabs .panel","font-size",_.fusionGetValueWithUnit(this.values.text_font_size)),n=_.fusionGetFontStyle("text_font",e,"object"),jQuery.each(n,function(e,t){s.addCssProperty(s.baseSelector+" .woocommerce-tabs .panel",e,t)}),t=["#wrapper "+this.baseSelector+" #tab-reviews #reviews .woocommerce-Reviews-title","#wrapper "+this.baseSelector+" .woocommerce-Tabs-panel .fusion-woocommerce-tab-title"],this.isDefault("title_color")||this.addCssProperty(t,"color",this.values.title_color),this.isDefault("title_font_size")||this.addCssProperty(t,"font-size",_.fusionGetValueWithUnit(this.values.title_font_size)),o=_.fusionGetFontStyle("title_font",e,"object"),jQuery.each(o,function(e,i){s.addCssProperty(t,e,i)}),"vertical"!==this.values.layout||this.isDefault("nav_content_space")||this.addCssProperty(this.baseSelector+" .woocommerce-tabs .panel","margin-left","calc(220px + "+_.fusionGetValueWithUnit(this.values.nav_content_space)+")"),this.isDefault("stars_color")||(this.addCssProperty(this.baseSelector+" .comment-text .star-rating:before","color",this.values.stars_color),this.addCssProperty(this.baseSelector+" .comment-text .star-rating span:before","color",this.values.stars_color)),jQuery.each(["top","right","bottom","left"],function(e,t){var i="content_padding_"+t,o="nav_padding_"+t;""!==s.values[i]&&s.addCssProperty(s.baseSelector+" .woocommerce-tabs .panel","padding-"+t,_.fusionGetValueWithUnit(s.values[i])),""!==s.values[o]&&s.addCssProperty(s.baseSelector+" .woocommerce-tabs .tabs li a","padding-"+t,_.fusionGetValueWithUnit(s.values[o]))}),(i=this.parseCSS())?"<style>"+i+"</style>":""}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_notices=FusionPageBuilder.ElementView.extend({filterTemplateAtts:function(e){var t={};return this.values=e.values,t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-woo-notices-tb fusion-woo-notices-tb-"+this.model.get("cid"),style:""});return""!==e.alignment&&(t.class+=" alignment-text-"+e.alignment),""!==e.show_button&&(t.class+=" show-button-"+e.show_button),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-woo-notices-tb").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.woo_notices&&(t=e.query_data.woo_notices),t},buildStyleBlock:function(e){var t,i,o,n,s;return this.baseSelector=".fusion-woo-notices-tb.fusion-woo-notices-tb-"+this.model.get("cid"),this.dynamic_css={},o=[this.baseSelector+" .woocommerce-info",this.baseSelector+" .woocommerce-message"],n=[this.baseSelector+" .woocommerce-error li"],s=_.union(o,n),this.isDefault("margin_top")||this.addCssProperty(s,"margin-top",_.fusionGetValueWithUnit(e.margin_top)),this.isDefault("margin_right")||this.addCssProperty(s,"margin-right",_.fusionGetValueWithUnit(e.margin_right)),this.isDefault("margin_bottom")||this.addCssProperty(s,"margin-bottom",_.fusionGetValueWithUnit(e.margin_bottom)),this.isDefault("margin_left")||this.addCssProperty(s,"margin-left",_.fusionGetValueWithUnit(e.margin_left)),this.isDefault("padding_top")||this.addCssProperty(s,"padding-top",_.fusionGetValueWithUnit(e.padding_top)),this.isDefault("padding_right")||this.addCssProperty(s,"padding-right",_.fusionGetValueWithUnit(e.padding_right)),this.isDefault("padding_bottom")||this.addCssProperty(s,"padding-bottom",_.fusionGetValueWithUnit(e.padding_bottom)),this.isDefault("padding_left")||this.addCssProperty(s,"padding-left",_.fusionGetValueWithUnit(e.padding_left)),this.isDefault("font_size")||this.addCssProperty(s,"font-size",e.font_size),this.isDefault("font_color")||this.addCssProperty(s,"color",e.font_color),this.isDefault("border_sizes_top")||this.addCssProperty(s,"border-top-width",_.fusionGetValueWithUnit(e.border_sizes_top)),this.isDefault("border_sizes_right")||this.addCssProperty(s,"border-right-width",_.fusionGetValueWithUnit(e.border_sizes_right)),this.isDefault("border_sizes_bottom")||this.addCssProperty(s,"border-bottom-width",_.fusionGetValueWithUnit(e.border_sizes_bottom)),this.isDefault("border_sizes_left")||this.addCssProperty(s,"border-left-width",_.fusionGetValueWithUnit(e.border_sizes_left)),this.isDefault("border_radius_top_left")||this.addCssProperty(s,"border-top-left-radius",_.fusionGetValueWithUnit(e.border_radius_top_left)),this.isDefault("border_radius_top_right")||this.addCssProperty(s,"border-top-right-radius",_.fusionGetValueWithUnit(e.border_radius_top_right)),this.isDefault("border_radius_bottom_right")||this.addCssProperty(s,"border-bottom-right-radius",_.fusionGetValueWithUnit(e.border_radius_bottom_right)),this.isDefault("border_radius_bottom_left")||this.addCssProperty(s,"border-bottom-left-radius",_.fusionGetValueWithUnit(e.border_radius_bottom_left)),this.isDefault("border_style")||this.addCssProperty(s,"border-style",e.border_style),this.isDefault("border_color")||this.addCssProperty(s,"border-color",e.border_color),this.isDefault("background_color")||this.addCssProperty(s,"background-color",e.background_color),i=[this.baseSelector+" .woocommerce-info .fusion-woo-notices-tb-icon",this.baseSelector+" .woocommerce-message .fusion-woo-notices-tb-icon",this.baseSelector+" .woocommerce-error .fusion-woo-notices-tb-icon"],this.isDefault("icon_size")||this.addCssProperty(i,"font-size",e.icon_size+"px"),this.isDefault("icon_color")||this.addCssProperty(i,"color",e.icon_color),i=[this.baseSelector+" .woocommerce-info .wc-forward",this.baseSelector+" .woocommerce-message .wc-forward",this.baseSelector+" .woocommerce-error .wc-forward"],this.isDefault("link_color")||this.addCssProperty(i,"color",e.link_color),i=[this.baseSelector+" .woocommerce-info .wc-forward:hover",this.baseSelector+" .woocommerce-message .wc-forward:hover",this.baseSelector+" .woocommerce-error .wc-forward:hover"],this.isDefault("link_hover_color")||this.addCssProperty(i,"color",e.link_hover_color),i=[this.baseSelector+" .woocommerce-message"],this.isDefault("success_border_color")||this.addCssProperty(i,"border-color",e.success_border_color),this.isDefault("success_background_color")||this.addCssProperty(i,"background-color",e.success_background_color),this.isDefault("success_text_color")||this.addCssProperty(i,"color",e.success_text_color),i=[this.baseSelector+" .woocommerce-message .fusion-woo-notices-tb-icon"],this.isDefault("success_icon_color")||this.addCssProperty(i,"color",e.success_icon_color),i=[this.baseSelector+" .woocommerce-message .wc-forward"],this.isDefault("success_link_color")||this.addCssProperty(i,"color",e.success_link_color),i=[this.baseSelector+" .woocommerce-message .wc-forward:hover"],this.isDefault("success_link_hover_color")||this.addCssProperty(i,"color",e.success_link_hover_color),this.isDefault("error_border_color")||this.addCssProperty(n,"border-color",e.error_border_color),this.isDefault("error_background_color")||this.addCssProperty(n,"background-color",e.error_background_color),this.isDefault("error_text_color")||this.addCssProperty(n,"color",e.error_text_color),i=[this.baseSelector+" .woocommerce-error .fusion-woo-notices-tb-icon"],this.isDefault("error_icon_color")||this.addCssProperty(i,"color",e.error_icon_color),i=[this.baseSelector+" .woocommerce-error .wc-forward"],this.isDefault("error_link_color")||this.addCssProperty(i,"color",e.error_link_color),i=[this.baseSelector+" .woocommerce-error .wc-forward:hover"],this.isDefault("error_link_hover_color")||this.addCssProperty(i,"color",e.error_link_hover_color),(t=this.parseCSS())?"<style>"+t+"</style>":""}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.WooProductsView=FusionPageBuilder.ElementView.extend({onInit:function(){this.model.attributes.markup&&""===this.model.attributes.markup.output&&(this.model.attributes.markup.output=this.getComponentPlaceholder())},filterTemplateAtts:function(e){var t={};return this.validateValues(e.values),this.values=e.values,t.cid=this.model.get("cid"),t.attr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(e.values),t.output=this.buildOutput(e),t.layout=e.values.products_layout,t.titleElement="yes"===e.values.heading_enable?_.buildTitleElement(e.values,e.extras,this.getSectionTitle()):"",t.carouselAttrs=this.buildCarouselAttrs(e.values),t.carouselNav="yes"===e.values.products_navigation?this.buildCarouselNav():"",t.productsAttrs=this.buildProductsAttrs(e.values),t.query_data=e.query_data,t.query_data.placeholder=this.getComponentPlaceholder(),t},validateValues:function(e){void 0!==e.margin_top&&""!==e.margin_top&&(e.margin_top=_.fusionGetValueWithUnit(e.margin_top)),void 0!==e.margin_right&&""!==e.margin_right&&(e.margin_right=_.fusionGetValueWithUnit(e.margin_right)),void 0!==e.margin_bottom&&""!==e.margin_bottom&&(e.margin_bottom=_.fusionGetValueWithUnit(e.margin_bottom)),void 0!==e.margin_left&&""!==e.margin_left&&(e.margin_left=_.fusionGetValueWithUnit(e.margin_left))},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:this.shortcode_classname+" "+this.shortcode_classname+"-"+this.model.get("cid"),style:""});return e.margin_top&&(t.style+="margin-top:"+e.margin_top+";"),e.margin_right&&(t.style+="margin-right:"+e.margin_right+";"),e.margin_bottom&&(t.style+="margin-bottom:"+e.margin_bottom+";"),e.margin_left&&(t.style+="margin-left:"+e.margin_left+";"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildCarouselNav:function(){var e="";return e+='<div class="fusion-carousel-nav">',e+='<span class="fusion-nav-prev"></span>',e+='<span class="fusion-nav-next"></span>',e+="</div>"},buildCarouselAttrs:function(e){var t={class:"fusion-carousel"};return t["data-autoplay"]=e.products_autoplay,t["data-touchscroll"]=e.products_swipe,t["data-columns"]=e.products_columns,t["data-itemmargin"]=parseInt(e.products_column_spacing)+"px",t["data-itemwidth"]=180,t["data-scrollitems"]=0==e.products_swipe_items?"":e.products_swipe_items,t},buildProductsAttrs:function(e){return{class:"products products-"+e.products_columns}},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data[this.shortcode_handle]&&(t=e.query_data[this.shortcode_handle]),t},getSectionTitle:function(){return""},buildStyleBlock:function(e){var t,i;return this.baseSelector="."+this.shortcode_classname+"."+this.shortcode_classname+"-"+this.model.get("cid"),this.dynamic_css={},i=[this.baseSelector+" .fusion-carousel .products>li"],this.addCssProperty(i,"margin-right","auto"),this.addCssProperty(i,"padding","0"),i=[this.baseSelector+" .fusion-carousel ul.products"],this.addCssProperty(i,"display","inherit"),this.addCssProperty(i,"margin","0"),i=[this.baseSelector+" .fusion-carousel .product-title"],this.addCssProperty(i,"text-align","left"),this.isDefault("products_layout")||(i=["body:not(.fusion-woocommerce-equal-heights):not(.fusion-woo-archive-page-columns-1) "+this.baseSelector+" .fusion-carousel .fusion-carousel-item .fusion-carousel-item-wrapper",".fusion-woocommerce-equal-heights:not(.fusion-woo-archive-page-columns-1) "+this.baseSelector+" .products .product"],this.addCssProperty(i,"display","block"),i=[".fusion-woocommerce-equal-heights:not(.fusion-woo-archive-page-columns-1) "+this.baseSelector+" .fusion-carousel .fusion-carousel-item .fusion-carousel-item-wrapper"],this.addCssProperty(i,"vertical-align","top")),(t=this.parseCSS())?"<style>"+t+"</style>":""}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_related=FusionPageBuilder.WooProductsView.extend({shortcode_handle:"fusion_tb_woo_related",shortcode_classname:"fusion-woo-related-tb",buildAttr:function(e){var t=FusionPageBuilder.WooProductsView.prototype.buildAttr.call(this,e);return t.class+=" related products",t},getSectionTitle:function(){return fusionBuilderText.related_products}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_upsells=FusionPageBuilder.WooProductsView.extend({shortcode_handle:"fusion_tb_woo_upsells",shortcode_classname:"fusion-woo-upsells-tb",buildAttr:function(e){var t=FusionPageBuilder.WooProductsView.prototype.buildAttr.call(this,e);return t.class+=" up-sells upsells products",t},getSectionTitle:function(){return fusionBuilderText.upsells_products}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_tb_woo_product_images=FusionPageBuilder.ElementView.extend({beforePatch:function(){var e=jQuery("#fb-preview")[0].contentWindow.jQuery(this.$el.find(".woocommerce-product-gallery"));void 0!==e.data("flexslider")&&e.flexslider("destroy")},filterTemplateAtts:function(e){var t={};return this.values=e.values,this.params=this.model.get("params"),t.cid=this.model.get("cid"),t.wrapperAttr=this.buildAttr(e.values),t.styles=this.buildStyleBlock(),t.output=this.buildOutput(e),t},buildAttr:function(e){var t=_.fusionVisibilityAtts(e.hide_on_mobile,{class:"fusion-woo-product-images fusion-woo-product-images-"+this.model.get("cid"),style:"","data-zoom_enabled":"yes"===e.product_images_zoom?1:0,"data-photoswipe_enabled":"woocommerce"===e.product_images_layout?1:0});return""!==e.alignment&&(t.style+="justify-content:"+e.alignment+";"),""!==e.class&&(t.class+=" "+e.class),""!==e.id&&(t.id=e.id),t=_.fusionAnimations(e,t)},buildOutput:function(e){var t="";return void 0!==e.markup&&void 0!==e.markup.output&&void 0===e.query_data?t=void 0===(t=jQuery(jQuery.parseHTML(e.markup.output)).filter(".fusion-woo-product-images").html())?e.markup.output:t:void 0!==e.query_data&&void 0!==e.query_data.markup&&(t=e.query_data.markup),t},buildStyleBlock:function(){var e;return this.baseSelector=".fusion-woo-product-images-"+this.model.get("cid"),this.dynamic_css={},this.addCssProperty(this.baseSelector+" .woocommerce-product-gallery","max-width",_.fusionGetValueWithUnit(this.values.product_images_width)),this.isDefault("margin_top")||this.addCssProperty(this.baseSelector,"margin-top",_.fusionGetValueWithUnit(this.values.margin_top)),this.isDefault("margin_right")||this.addCssProperty(this.baseSelector,"margin-right",_.fusionGetValueWithUnit(this.values.margin_right)),this.isDefault("margin_bottom")||this.addCssProperty(this.baseSelector,"margin-bottom",_.fusionGetValueWithUnit(this.values.margin_bottom)),this.isDefault("margin_left")||this.addCssProperty(this.baseSelector,"margin-left",_.fusionGetValueWithUnit(this.values.margin_left)),(e=this.parseCSS())?'<style type="text/css">'+e+"</style>":""}})});FusionPageBuilder=FusionPageBuilder||{};!function(e){e(document).ready(function(){FusionPageBuilder.BlankFormView=window.wp.Backbone.View.extend({className:"fusion-builder-blank-page",template:FusionPageBuilder.template(e("#fusion-builder-blank-form-template").html()),events:{"click .fusion-builder-new-section-add":"addContainer","click .fusion-builder-video-button":"openVideoModal","click #fusion-load-template-dialog":"openLibrary"},initialize:function(){this.$el.attr("data-cid",this.model.get("cid"))},render:function(){var e=this.getColorScheme(FusionApp.settings.content_bg_color);return this.$el.html(this.template(this.model.toJSON())),this.$el.addClass("fusion-builder-scheme-"+e),this.$el.find("#video-dialog").dialog({dialogClass:"fusion-builder-dialog fusion-video-dialog",autoOpen:!1,modal:!0,height:470,width:700}),this},getColorScheme:function(e){return e="string"!=typeof e?"#ffffff":e.replace("#",""),parseInt(e,16)>8388607.5?"light":"dark"},openVideoModal:function(e){e&&e.preventDefault(),jQuery("#video-dialog").dialog("open"),jQuery("#video-dialog iframe").focus(),jQuery("#video-dialog iframe")[0].contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")},addContainer:function(e){var t,i,o,n;e&&(e.preventDefault(),FusionPageBuilderApp.newContainerAdded=!0),t=FusionPageBuilderViewManager.generateCid(),i=fusionAllElements.fusion_builder_container.params,o={},_.each(i,function(e){n=_.isObject(e.value)?e.default:e.value,o[e.param_name]=n,"dimension"===e.type&&_.isObject(e.value)&&_.each(e.value,function(e,t){o[t]=e})}),this.collection.add([{type:"fusion_builder_container",added:"manually",element_type:"fusion_builder_container",cid:t,params:o,view:this,created:"auto"}]),FusionPageBuilderViewManager.getView(t).addRow(),this.removeBlankPageHelper()},openLibrary:function(e){var t={model:{target:jQuery(e.currentTarget).data("target"),focus:jQuery(e.currentTarget).data("focus")}};e&&(e.preventDefault(),e.stopPropagation(),FusionPageBuilderApp.sizesHide(e)),new FusionPageBuilder.LibraryView(t).render()},removeBlankPageHelper:function(e){e&&e.preventDefault(),FusionPageBuilderViewManager.removeView(this.model.get("cid")),this.model.destroy(),jQuery("#video-dialog").length&&jQuery("#video-dialog").dialog("destroy"),this.remove()}}),jQuery("body").on("click",".ui-dialog-titlebar-close",function(){var e=jQuery(this).closest(".ui-dialog");e.find("#video-dialog").length&&(e.find("#video-dialog iframe")[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"),e.hide())})})}(jQuery);FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.FormComponentView=FusionPageBuilder.ElementView.extend({onInit:function(){this.formData=FusionApp.data.postMeta,this.listenTo(window.FusionEvents,"fusion-rerender-form-inputs",this.reRender)},buildStyles:function(){return""},elementData:function(e){var t={checked:"",required:"",required_label:"",required_placeholder:"",class:"",id:"",placeholder:"",label:"",label_class:"",holds_private_data:"no",upload_size:"",pattern:""};return void 0===e?t:("fusion_form_phone_number"===this.model.get("element_type")&&(t.pattern=' pattern="[0-9()#&+*-=.]+" title="'+fusionBuilderText.phone_pattern_text+'"'),"fusion_form_checkbox"===this.model.get("element_type")&&void 0!==e.checked&&e.checked&&(t.checked=' checked="checked"'),"fusion_form_upload"===this.model.get("element_type")&&void 0!==e.upload_size&&e.upload_size&&(t.upload_size=' data-size="'+e.upload_size+'"'),void 0!==e.required&&"yes"===e.required&&(t.required=' required="true" aria-required="true"',t.required_label=' <abbr class="fusion-form-element-required" title="'+fusionBuilderText.required+'">*</abbr>',t.required_placeholder="*"),t.class=' class="fusion-form-input"',void 0!==e.placeholder&&""!==e.placeholder&&("fusion_form_dropdown"===this.model.get("element_type")?t.placeholder=e.placeholder+t.required_placeholder:t.placeholder=' placeholder="'+e.placeholder+t.required_placeholder+'"'),"fusion_form_checkbox"===this.model.get("element_type")&&(t.label_class=' class="fusion-form-checkbox-label"'),void 0!==e.label&&""!==e.label&&(t.label='<label for="'+e.name+'"'+t.label_class+">"+e.label+t.required_label+"</label>"),t.holds_private_data=' data-holds-private-data="false"',void 0!==e.holds_private_data&&""!==e.holds_private_data&&(t.holds_private_data=' data-holds-private-data="true"'),t)},checkbox:function(e,t){var i,o,n,s,a="",r="";return void 0!==e.options&&e.options?(e.options=JSON.parse(FusionPageBuilderApp.base64Decode(e.options)),i=this.elementData(e),_.each(e.options,function(n,r){var l,u=n[0]?" checked ":"",d=void 0!==n[1]?n[1].trim():"";_.isEmpty(n[2])||n[2].trim(),o="checkbox"===t?e.name+"[]":e.name,s="floated"===e.form_field_layout?"fusion-form-"+t+" option-inline":"fusion-form-"+t,l=t+"-"+d.replace(" ","-").toLowerCase()+"-"+r,a+='<div class="'+s+'">',a+='<input id="'+l+'" type="'+t+'" value="'+d+'" name="'+o+'"'+i.class+i.id+i.required+u+i.holds_private_data+"/>",a+='<label for="'+l+'">',a+=d+"</label>",a+="</div>"}),n="<fieldset>",n+=a,n+="</fieldset>",""!==e.tooltip&&(i.label+=this.getFieldTooltip(e)),r=this.generateLabelHtml(r,n,i.label)):r},generateInputField:function(e,t){var i,o,n="";return i=this.elementData(e),""!==e.tooltip&&(i.label+=this.getFieldTooltip(e)),e.value=void 0!==e.value&&""!==e.value?e.value:"",o='<input type="'+t+'" name="'+e.name+'" value="'+e.value+'" '+i.class+i.id+i.required+i.placeholder+i.holds_private_data+i.pattern+"/>",o=this.generateIconHtml(e,o),n=this.generateLabelHtml(n,o,i.label)},getFieldTooltip:function(e){var t="";return""!==e.tooltip&&(t='<div class="fusion-form-tooltip">',t+='<i class="fusion-icon-question-circle"></i>',t+='<span class="fusion-form-tooltip-content">'+e.tooltip+"</span>",t+="</div>"),t},addFieldWrapperHtml:function(){var e,t="above",i=this.model.get("params");return void 0!==this.formData._fusion.label_position&&(t=this.formData._fusion.label_position),e="<div ",void 0!==i.id&&""!==i.id&&(e+='id="'+i.id+'" '),e+='class="fusion-form-field '+this.model.get("element_type").replace(/_/g,"-")+"-field "+this.model.get("cid")+" "+this.model.get("element_type").replace(/_/g,"-")+"-field fusion-form-label-"+t,void 0!==i.class&&""!==i.class&&(e+=" "+i.class),e+='"',e+=' data-form-id="'+FusionApp.data.postDetails.post_id+'">'},generateFormFieldHtml:function(e){var t=this.addFieldWrapperHtml();return t+=e,t+="</div>"},generateIconHtml:function(e,t){var i;return void 0!==e.input_field_icon&&""!==e.input_field_icon&&(i='<div class="fusion-form-input-with-icon">',t=(i+='<i class="'+_.fusionFontAwesome(e.input_field_icon)+'"></i>')+t,t+="</div>"),t},generateLabelHtml:function(e,t,i){return""!==i&&(i='<div class="fusion-form-label-wrapper">'+i+"</div>"),void 0===this.formData._fusion.label_position||"above"===this.formData._fusion.label_position?e+=i+t:e+=t+i,e},generateTooltipHtml:function(e,t){return""!==e.tooltip&&(t.label+=this.getFieldTooltip(e)),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_checkbox=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.checkbox(e.values,"checkbox")),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_date=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateDateFieldHtml(e.values)),t},generateDateFieldHtml:function(e){var t,i,o="";return t=this.elementData(e),this.generateTooltipHtml(e,t),i='<input id="date-'+this.model.get("cid")+'" type="date" data-type="'+e.picker+'" name="'+e.name+'" '+t.holds_private_data+t.class+t.required+t.placeholder+"/>",i=this.generateIconHtml(e,i),o=this.generateLabelHtml(o,i,t.label)},onRender:function(){this.afterPatch()},beforePatch:function(){var e;"function"==typeof jQuery("#fb-preview")[0].contentWindow.flatpickr&&(e=jQuery("#fb-preview")[0].contentWindow.flatpickr("#date-"+this.model.get("cid"),{}))&&"function"==typeof e.destroy&&e.destroy()},afterPatch:function(){var e=this;setTimeout(function(){var t=jQuery("#fb-preview")[0].contentWindow.jQuery(e.$el.find('input[type="date"]')),i=t.attr("data-type"),o="custom"===i;"native"!==i&&"function"==typeof t.flatpickr&&t.flatpickr({defaultDate:(new Date).getTime(),disableMobile:o})},200)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_select=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateSelectField(e.values)),t},generateSelectField:function(e){var t,i,o="",n="";return void 0!==e.options&&e.options?(e.options=JSON.parse(FusionPageBuilderApp.base64Decode(e.options)),t=this.elementData(e),""!==e.tooltip&&(t.label+=this.getFieldTooltip(e)),void 0!==e.placeholder&&""!==e.placeholder&&(o+='<option value="" selected disabled>'+e.placeholder+"</option>"),_.each(e.options,function(e){var t=e[0]?" selected ":"",i=e[1].trim(),n=""!==e[2]?e[2].trim():i;o+='<option value="'+n+'" '+t+">"+i+"</option>"}),i='<div class="fusion-select-wrapper">',i+='<select class="fusion-form-input" name="'+e.name+'"'+t.class+t.required+t.style+t.holds_private_data+">",i+=o,i+="</select>",i+='<div class="select-arrow"><svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M1.5 1.75L6 6.25L10.5 1.75" stroke="#6D6D6D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </svg>',i+="</div>",i=this.generateIconHtml(e,i),n=this.generateLabelHtml(n,i,t.label)):n}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_email=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateInputField(e.values,"email")),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_hidden=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.name=e.values.label,t.label=window.fusionAllElements[this.model.get("element_type")].name,t.icon=window.fusionAllElements[this.model.get("element_type")].icon,t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_number=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateInputField(e.values,"number")),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_password=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateInputField(e.values,"password")),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_phone_number=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateInputField(e.values,"phone-number")),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_image_select=FusionPageBuilder.ParentElementView.extend({onInit:function(){this.formData=FusionApp.data.postMeta,this.listenTo(window.FusionEvents,"fusion-rerender-form-inputs",this.reRender)},filterTemplateAtts:function(e){var t={},i=this.elementData(e.values);return this.elementDataValues=i,""!==e.values.tooltip&&(i.label+=this.getFieldTooltip(e.values)),t.outerWrapper=this.outerWrapper(e.values),t.labelPosition=void 0!==this.formData._fusion.label_position?this.formData._fusion.label_position:"above",t.elementLabel=i.label,t.styles=this.buildStyles(e.values),t},getFieldTooltip:function(e){var t="";return""!==e.tooltip&&(t='<div class="fusion-form-tooltip">',t+='<i class="fusion-icon-question-circle"></i>',t+='<span class="fusion-form-tooltip-content">'+e.tooltip+"</span>",t+="</div>"),t},outerWrapper:function(e){var t,i="above",o=this.model.get("params");return void 0!==this.formData._fusion.label_position&&(i=this.formData._fusion.label_position),t="<div ",void 0!==o.id&&""!==o.id&&(t+='id="'+o.id+'" '),t+='class="fusion-form-field fusion-form-field-'+this.model.get("element_type").replace(/_/g,"-")+this.model.get("cid")+" fusion-form-field-"+this.model.get("element_type")+" fusion-form-label-"+i,"floated"===e.form_field_layout&&(t+=" option-inline"),void 0!==o.class&&""!==o.class&&(t+=" "+o.class),t+='"',t+=' data-form-id="'+FusionApp.data.postDetails.post_id+'">'},elementData:function(e){var t={checked:"",required:"",required_label:"",required_placeholder:"",class:"",id:"",placeholder:"",label:"",label_class:"",holds_private_data:"no",upload_size:""};return void 0===e?t:("fusion_form_checkbox"===this.model.get("element_type")&&void 0!==e.checked&&e.checked&&(t.checked=' checked="checked"'),"fusion_form_upload"===this.model.get("element_type")&&void 0!==e.upload_size&&e.upload_size&&(t.upload_size=' data-size="'+e.upload_size+'"'),void 0!==e.required&&"yes"===e.required&&(t.required=' required="true" aria-required="true"',t.required_label=' <abbr class="fusion-form-element-required" title="'+fusionBuilderText.required+'">*</abbr>',t.required_placeholder="*"),t.class=' class="fusion-form-input"',void 0!==e.placeholder&&""!==e.placeholder&&("fusion_form_dropdown"===this.model.get("element_type")?t.placeholder=e.placeholder+t.required_placeholder:t.placeholder=' placeholder="'+e.placeholder+t.required_placeholder+'"'),"fusion_form_checkbox"===this.model.get("element_type")&&(t.label_class=' class="fusion-form-checkbox-label"'),void 0!==e.label&&""!==e.label&&(t.label='<label for="'+e.name+'"'+t.label_class+">"+e.label+t.required_label+"</label>"),t.holds_private_data=' data-holds-private-data="false"',void 0!==e.holds_private_data&&""!==e.holds_private_data&&(t.holds_private_data=' data-holds-private-data="true"'),t)},buildStyles:function(e){var t="",i="",o=".fusion-form-form-wrapper.fusion-form .fusion-form-field.fusion-form-field-fusion-form-image-select"+this.model.get("cid");return""!==e.width&&(t+=o+" .fusion-form-image-select label .fusion-form-image-wrapper{width:"+_.fusionGetValueWithUnit(e.width)+";}"),""!==e.height&&(t+=o+" .fusion-form-image-select label .fusion-form-image-wrapper{height:"+_.fusionGetValueWithUnit(e.height)+";}"),""!==e.border_size_top&&(t+=o+" .fusion-form-image-select label{border-top-width:"+_.fusionGetValueWithUnit(e.border_size_top)+";}"),""!==e.border_size_right&&(t+=o+" .fusion-form-image-select label{border-right-width:"+_.fusionGetValueWithUnit(e.border_size_right)+";}"),""!==e.border_size_bottom&&(t+=o+" .fusion-form-image-select label{border-bottom-width:"+_.fusionGetValueWithUnit(e.border_size_bottom)+";}"),""!==e.border_size_left&&(t+=o+" .fusion-form-image-select label{border-left-width:"+_.fusionGetValueWithUnit(e.border_size_left)+";}"),""!==e.border_radius&&(t+=o+" .fusion-form-image-select label{border-radius:"+_.fusionGetValueWithUnit(e.border_radius)+";}"),""!==e.inactive_color&&(t+=o+" .fusion-form-image-select label{border-color:"+_.fusionGetValueWithUnit(e.inactive_color)+";}"),""!==e.active_color&&(t+=o+" .fusion-form-image-select .fusion-form-input:checked + label{border-color:"+e.active_color+";}",t+=o+" .fusion-form-image-select .fusion-form-input:hover:not(:checked) + label{border-color:"+jQuery.Color(e.active_color).alpha(.5).toRgbaString()+";}"),jQuery.each(["top","right","bottom","left"],function(t,o){var n="padding_"+o;""!==e[n]&&(i+="padding-"+o+":"+_.fusionGetValueWithUnit(e[n])+";")}),""!==i&&(t+=o+" label{"+i+";}"),""!==t&&(t='<style type="text/css">'+t+"</style>"),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_image_select_input=FusionPageBuilder.ChildElementView.extend({onInit:function(){this.formData=FusionApp.data.postMeta},filterTemplateAtts:function(e){var t={},i=window.FusionPageBuilderViewManager.getView(this.model.get("parent")),o=this.model.get("params");return t.imageUrl=e.values.image,t.labelId="HTML+ "+this.model.get("cid"),t.value=""===e.values.name?e.values.label.toLowerCase().replace(" ","_"):e.values.name,t.inputName="input"+this.model.get("cid"),t.elementData=i.elementDataValues,t.checked="yes"===e.values.checked?" checked ":"",t.labelPosition=void 0!==this.formData._fusion.label_position?this.formData._fusion.label_position:"above",t.label=void 0!==o.label&&""!==o.label?e.values.label:"",t.inputType=void 0!==typeof i.model.attributes.params.multiple_select&&"yes"===i.model.attributes.params.multiple_select?"checkbox":"radio",t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_radio=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.checkbox(e.values,"radio")),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_range=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateRangeField(e.values)),t},generateRangeField:function(e){var t,i,o="fusion-form-range-field-container",n="";return t=this.elementData(e),t=this.generateTooltipHtml(e,t),"right"===e.orientation&&(o+=" orientation-right"),i='<div class="'+o+'">',"right"!==e.orientation&&(i+='<input type="text" disabled class="fusion-form-range-value" value="'+e.value+'"/>'),i+='<input type="range" name="'+e.name+'" min="'+e.min+'" max="'+e.max+'" step="'+e.step+'" value="'+e.value+'"'+t.class+t.required+t.placeholder+t.holds_private_data+"/>","right"===e.orientation&&(i+='<input type="text" disabled class="fusion-form-range-value" value="'+e.value+'"/>'),i+="</div>",n=this.generateLabelHtml(n,i,t.label)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_rating=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateRatingField(e.values)),t},generateRatingField:function(e){var t,i,o,n,s="",a="",r="",l="",u="";for(t=this.elementData(e),o=fusionSanitize.number(e.limit),i=e.name;0<o;)r+='<input id="'+(n=o)+"-"+this.model.get("cid")+'" type="radio" value="'+n+'" name="'+i+'"'+t.class+t.required+t.checked+t.holds_private_data+"/>",r+='<label for="'+n+"-"+this.model.get("cid")+'" class="fusion-form-rating-icon">',r+='<i class="'+e.icon+'"></i>',r+="</label>",o--;return(e.icon_color||void 0!==e.icon_size&&""!==e.icon_size)&&(a+=".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area-"+this.model.get("cid")+".fusion-form-rating-area .fusion-form-rating-icon { ",e.icon_color&&(a+="color: "+e.icon_color+";"),void 0!==e.icon_size&&""!==e.icon_size&&(a+="font-size: "+e.icon_size+";"),a+="}"),e.active_icon_color&&(l=jQuery.Color(e.active_icon_color).alpha(.5).toRgbaString(),a+=".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area-"+this.model.get("cid")+".fusion-form-rating-area .fusion-form-input:checked~label i{ color: "+e.active_icon_color+";}",a+=".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area-"+this.model.get("cid")+".fusion-form-rating-area .fusion-form-input:checked:hover ~ label i,",a+=".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area-"+this.model.get("cid")+".fusion-form-rating-area .fusion-form-rating-icon:hover i,",a+=".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area-"+this.model.get("cid")+".fusion-form-rating-area .fusion-form-rating-icon:hover ~ label i,",a+=".fusion-form-form-wrapper .fusion-form-field .fusion-form-rating-area-"+this.model.get("cid")+".fusion-form-rating-area .fusion-form-input:hover ~ label i{ color: "+l+";}"),""!==a&&(s+='<style type="text/css">'+a+"</style>"),s+='<fieldset class="fusion-form-rating-area fusion-form-rating-area-'+this.model.get("cid")+(FusionPageBuilderApp.$el.hasClass("rtl")?" rtl":"")+'">',s+=r,s+="</fieldset>",""!==e.tooltip&&(t.label+=this.getFieldTooltip(e)),u=this.generateLabelHtml(u,s,t.label)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_recaptcha=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){return{}}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_submit=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return this.btnInstance||(this.btnInstance=new FusionPageBuilder.fusion_button({model:this.model,attributes:e}),this.btnInstance.elementTemplate=FusionPageBuilder.template(jQuery("#tmpl-fusion_button-shortcode").html())),t.html=this.btnInstance.render().$el.html(),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_notice=FusionPageBuilder.FormComponentView.extend({alertInstance:{},onInit:function(){this.formData=FusionApp.data.postMeta,this.listenTo(window.FusionEvents,"fusion-render-form-notices",this.reRender)},filterTemplateAtts:function(e){var t={};return this.values=e.values,t.showNotices=void 0===this.formData._fusion.form_confirmation_type||"redirect"!==this.formData._fusion.form_confirmation_type,t.successAlert="",t.errorAlert="",t.showNotices?(e.values.margin_bottom=_.fusionValidateAttrValue(e.values.margin_bottom,"px"),e.values.margin_left=_.fusionValidateAttrValue(e.values.margin_left,"px"),e.values.margin_right=_.fusionValidateAttrValue(e.values.margin_right,"px"),e.values.margin_top=_.fusionValidateAttrValue(e.values.margin_top,"px"),""===e.values.margin_bottom&&(e.values.margin_bottom="20px"),t.style="",""!==e.values.margin_top&&(t.style+="margin-top:"+e.values.margin_top+";"),""!==e.values.margin_right&&(t.style+="margin-right:"+e.values.margin_right+";"),""!==e.values.margin_bottom&&(t.style+="margin-bottom:"+e.values.margin_bottom+";"),""!==e.values.margin_left&&(t.style+="margin-left:"+e.values.margin_left+";"),t.successAlert=""!==e.values.success?this.renderAlert(e.values.success,"success"):"",t.errorAlert=""!==e.values.error?this.renderAlert(e.values.error,"error"):"",t):t},renderAlert:function(e,t){var i,o,n,s,a,r,l=e;try{FusionPageBuilderApp.base64Encode(FusionPageBuilderApp.base64Decode(l))===l&&(l=FusionPageBuilderApp.base64Decode(l),l=_.unescape(l))}catch(e){}return void 0===this.alertInstance[t]?("fusion_alert"in fusionAllElements&&(o=fusionAllElements.fusion_alert.params,s=fusionAllElements.fusion_alert.shortcode),n={},_.each(o,function(e){n[e.param_name]=_.isObject(e.value)?e.default:e.value}),n.open_settings="false",n.element_content=l,n.type=t,n.margin_top=this.values.margin_top,n.margin_right=this.values.margin_right,n.margin_bottom=this.values.margin_bottom,n.margin_left=this.values.margin_left,a={type:"element",added:"manually",element_type:s,params:n,parent:this.model.get("cid"),multi:!1,cid:FusionPageBuilderViewManager.generateCid(),silent:!0},r=new FusionPageBuilder.Element(a),this.alertInstance[t]=new FusionPageBuilder.fusion_alert({model:r})):((i=this.alertInstance[t].model.get("params")).element_content=l,i.margin_top=this.values.margin_top,i.margin_right=this.values.margin_right,i.margin_bottom=this.values.margin_bottom,i.margin_left=this.values.margin_left,this.alertInstance[t].model.set("params",i)),this.alertInstance[t].render().$el.html()}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_text=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateInputField(e.values,"text")),t}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_textarea=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateTextareaField(e.values)),t},generateTextareaField:function(e){var t,i,o="";return t=this.elementData(e),t=this.generateTooltipHtml(e,t),i='<textarea cols="40" rows="'+e.rows+'" name="'+e.name+'"'+t.class+t.required+t.placeholder+t.holds_private_data+"></textarea>",i=this.generateIconHtml(e,i),o=this.generateLabelHtml(o,i,t.label)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_time=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateTimeField(e.values)),t},generateTimeField:function(e){var t,i,o="";return t=this.elementData(e),this.generateTooltipHtml(e,t),i='<input id="time-'+this.model.get("cid")+'" type="time" data-type="'+e.picker+'" data-clock="'+e.clock+'" name="'+e.name+'" '+t.holds_private_data+t.class+t.required+t.placeholder+"/>",i=this.generateIconHtml(e,i),o=this.generateLabelHtml(o,i,t.label)},onRender:function(){this.afterPatch()},beforePatch:function(){var e;"function"==typeof jQuery("#fb-preview")[0].contentWindow.flatpickr&&(e=jQuery("#fb-preview")[0].contentWindow.flatpickr("#time-"+this.model.get("cid"),{}))&&"function"==typeof e.destroy&&e.destroy()},afterPatch:function(){var e=this;setTimeout(function(){var t=jQuery("#fb-preview")[0].contentWindow.jQuery(e.$el.find('input[type="time"]')),i=t.attr("data-type"),o="custom"===i,n="full"===t.attr("data-clock");"native"!==i&&"function"==typeof t.flatpickr&&t.flatpickr({allowInput:!0,disableMobile:o,enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:n})},200)}})});FusionPageBuilder=FusionPageBuilder||{};jQuery,jQuery(document).ready(function(){FusionPageBuilder.fusion_form_upload=FusionPageBuilder.FormComponentView.extend({filterTemplateAtts:function(e){var t={};return t.styles=this.buildStyles(e.values),t.html=this.generateFormFieldHtml(this.generateUploadField(e.values)),t},generateUploadField:function(e){var t,i,o="";return e.class=""!==e.class?e.class+" fusion-form-file-upload":"fusion-form-file-upload",t=this.elementData(e),(t=this.generateTooltipHtml(e,t)).accept=void 0!==e.extensions&&""!==e.extensions?'accept="'+e.extensions+'"':"",i='<div class="fusion-form-upload-field-container" style="undefined">',i+='<input type="file" name="'+e.name+'" value="" '+t.class+t.accept+t.required+t.placeholder+t.upload_size+"/>",i+='<input type="text" disabled value="" class="fusion-form-upload-field" '+t.required+t.placeholder+t.holds_private_data+"/>",i+='<a class="fusion-button button-flat button-medium button-default button-1 fusion-button-default-span fusion-button-default-type fusion-form-upload-field-button" style="border-radius:0;"><span class="fusion-button-text">'+fusionBuilderText.choose_file+"</span></a>",i+="</div>",i=this.generateIconHtml(e,i),o=this.generateLabelHtml(o,i,t.label)}})});