function fusionResizeCrossfadeImages(e){var i=e.height();e.find("img").each(function(){var e=jQuery(this).height();e<i&&jQuery(this).css("margin-top",(i-e)/2+"px")})}function fusionResizeCrossfadeImagesContainer(e){var i=0;e.find("img").each(function(){var e=jQuery(this).height();e>i&&(i=e)}),e.css("height",i)}jQuery(window).on("load",function(){jQuery(".product-images").each(function(){!jQuery(this).find("img").length&&jQuery(this).find(".onsale").length&&jQuery(this).css("min-height","45px")}),jQuery(window).resize(function(){jQuery(".crossfade-images").each(function(){fusionResizeCrossfadeImagesContainer(jQuery(this)),fusionResizeCrossfadeImages(jQuery(this))})}),jQuery(".crossfade-images").each(function(){fusionResizeCrossfadeImagesContainer(jQuery(this)),fusionResizeCrossfadeImages(jQuery(this))})}),jQuery(document).ready(function(){var e,i,t,o,n,s;for(jQuery("body").on("click",".add_to_cart_button.ajax_add_to_cart",function(){var e=jQuery(this).closest(".product, li").find(".cart-loading");e.find("i").removeClass("fusion-icon-check-square-o").addClass("fusion-icon-spinner"),e.fadeIn(),setTimeout(function(){e.find("i").hide().removeClass("fusion-icon-spinner").addClass("fusion-icon-check-square-o").fadeIn(),e.closest(".fusion-clean-product-image-wrapper, li").addClass("fusion-item-in-cart")},2e3)}),jQuery(".products .product, .fusion-woo-slider li").mouseenter(function(){var e=jQuery(this).find(".cart-loading");e.find("i").hasClass("fusion-icon-check-square-o")&&e.fadeIn()}).mouseleave(function(){var e=jQuery(this).find(".cart-loading");e.find("i").hasClass("fusion-icon-check-square-o")&&e.fadeOut()}),e=avadaWooCommerceVars.title_style_type.split(" "),i="","",t="title-heading-left",o=0;o<e.length;o++)i+=" sep-"+e[o];i.indexOf("underline"),jQuery("body").hasClass("rtl")&&(t="title-heading-right"),jQuery(".woocommerce.single-product .related.products > h2").each(function(){jQuery(this).replaceWith(function(){return'<div class="fusion-title title'+i+'"><h'+avadaWooCommerceVars.related_products_heading_size+' class="'+t+'">'+jQuery(this).html()+"</h"+avadaWooCommerceVars.related_products_heading_size+'><div class="title-sep-container"><div class="title-sep'+i+' "></div></div></div>'})}),jQuery(".woocommerce.single-product .upsells.products > h2").each(function(){jQuery(this).replaceWith(function(){return'<div class="fusion-title title'+i+'"><h3 class="'+t+'">'+jQuery(this).html()+'</h3><div class="title-sep-container"><div class="title-sep'+i+' "></div></div></div>'})}),jQuery(".products-6 li, .products-5 li, .products-4 li, .products-3 li, .products-2 li").removeClass("last"),jQuery("body").on("click",".fusion-quick-view",function(e){var i,t=jQuery(".fusion-woocommerce-quick-view-overlay"),o=jQuery(".fusion-woocommerce-quick-view-container"),a=o.find(".fusion-wqv-preview-image"),r=o.find(".fusion-wqv-content"),d=o.find(".fusion-wqv-close"),u=o.find(".fusion-wqv-loader"),c=jQuery(this).data("product-id"),f=jQuery(this).closest(".product"),l=f.length?f:jQuery(this).closest(".fusion-carousel-item"),h=l.find(".wp-post-image"),p=l.find(".onsale"),y=l.find(".fusion-out-of-stock"),m=l.find(".product-title").length?l.find(".product-title"):l.find(".fusion-rollover-title"),v=l.find(".fusion-price-rating").length?l.find(".fusion-price-rating"):l.find(".price"),g=parseInt(h.height(),10)/parseInt(h.width(),10),w={},j=!1;e.preventDefault(),jQuery("body").addClass("fusion-wqv-open"),jQuery(".fusion-wqv-open").on("keydown",function(e){27===e.keyCode&&jQuery(".fusion-wqv-close button").trigger("click")}),void 0!==c&&(r.empty(),u.find(".entry-title, .star-rating, .price").empty(),jQuery(".fusion-footer-parallax").length&&(jQuery("#main").css("z-index","auto"),"fixed"===jQuery(".fusion-footer-parallax").css("position")&&(jQuery(".fusion-footer-parallax").css("z-index","-1"),jQuery("#sliders-container").find('.tfs-slider[data-parallax="1"]').length&&jQuery("#sliders-container").css("z-index","auto"))),o.stop().fadeIn("200"),a.fadeIn("200").html(h.clone()),t.stop().fadeIn("400"),p.length&&a.prepend(p.clone()),y.length&&(a.prepend(y.clone()),p.length&&a.find(".onsale").addClass("sold-out")),l.find("> span, > a, > div").fadeTo("200","0"),l.addClass("fusion-faded-out"),w.startTop=h.offset().top-jQuery(window).scrollTop(),w.startLeft=h.offset().left,w.startWidth=h.width(),w.startHeight=h.height(),w.endWidth=400,1.77<1/g&&(w.endWidth=500),1.77<g&&(w.endWidth=300),w.endHeight=Math.floor(w.endWidth/w.startWidth*w.startHeight),w.endTop=Math.round((jQuery(window).height()-w.endHeight)/2),w.endLeft=Math.round((jQuery(window).width()-w.endWidth)/2),w.finalWidth=Math.round(w.endWidth+500),500>jQuery(window).width()-w.endWidth&&(w.finalWidth=Math.round(jQuery(window).width()-20)),w.finalLeft=Math.round((jQuery(window).width()-w.finalWidth)/2),o.css({top:w.startTop,left:w.startLeft,width:w.startWidth,height:w.startHeight,"background-color":avadaWooCommerceVars.shop_page_bg_color}),a.css({"max-width":w.endWidth,"max-height":w.endHeight}),a.find("img").removeAttr("style"),setTimeout(function(){o.animate({top:w.endTop+"px",left:w.endLeft+"px",width:w.endWidth+"px",height:w.endHeight+"px"},800,"easeInOutCubic")},200),setTimeout(function(){o.animate({left:w.finalLeft+"px",width:w.finalWidth+"px"},600,"easeInOutCubic",function(){jQuery(this).addClass("complete"),jQuery(this).css("top",""),jQuery(this).css("left","")})},1e3),setTimeout(function(){d.fadeIn("300"),40>avadaWooCommerceVars.shop_page_bg_color_lightness&&d.find("button").addClass("light"),j=!0,o.hasClass("fusion-quick-view-loaded")||(m.length&&(u.find(".entry-title").html(m.text()),parseFloat(avadaWooCommerceVars.post_title_font_size)<parseFloat(u.find(".entry-title").css("font-size"))&&u.find(".entry-title").css("font-size",parseFloat(avadaWooCommerceVars.post_title_font_size)+"px")),v.length&&(u.find(".star-rating").show(),v.hasClass("fusion-price-rating")?u.find(".fusion-price-rating").html(v.children().clone()):u.find(".fusion-price-rating .price").html(v.clone()),u.find(".star-rating").is(":empty")&&u.find(".star-rating").hide()),u.css("left","calc(100% - "+Math.round((w.finalWidth-w.endWidth)/2)+"px)"),u.stop().fadeTo("300","1"))},1600),jQuery.post(avadaWooCommerceVars.ajaxurl,{action:"fusion_quick_view_load",nonce:quickViewNonce,product:jQuery(this).data("product-id")},function(e){"undefined"==typeof wc_add_to_cart_variation_params?e+='<script type="text/javascript">var wc_add_to_cart_variation_params = {};<\/script>':e+='<script type="text/javascript">var wc_add_to_cart_variation_params = '+JSON.stringify(wc_add_to_cart_variation_params)+";<\/script>",o.addClass("fusion-quick-view-loaded"),n=setInterval(function(){j&&(o.addClass("fusion-animate-content fusion-quick-view-loaded"),o.find(".fusion-wqv-content").show(),setTimeout(function(){r.html(e),r.find(".woocommerce-product-gallery").css("width",w.endWidth+"px"),r.find(".product").not(".bundled_product").css("max-height",w.endHeight+"px"),"undefined"!=typeof productBackgroundColor&&(o.css("background-color",productBackgroundColor),40>productBackgroundColorLightness&&d.find("button").addClass("light")),u.stop().fadeTo("300","0"),o.find(".entry-summary").animate({opacity:"1"},500,"easeInOutCubic",function(){jQuery(this).scrollTop(0)}),o.find(".entry-summary").children().animate({"padding-top":"0"},500,"easeInOutCubic")},400),setTimeout(function(){(i=o.find(".fusion-button-view-details")).css("top",i.height()),i.animate({opacity:"1",top:"0"},200,"easeInOutCubic")},700),setTimeout(function(){o.removeClass("fusion-animate-content"),jQuery("body").trigger("quick-view-displayed")},900),setTimeout(function(){fusionInitPostFlexSlider(),jQuery(window).trigger("AddAvadaSelect"),"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()}),avadaAddQuantityBoxes()},400),s=setInterval(function(){10>Math.abs(o.find(".flex-active-slide").width()-o.find(".fusion-wqv-preview-image").width())&&(o.find(".fusion-wqv-preview-image").fadeOut("400"),clearInterval(s))},500),clearInterval(n))},25)}))}),jQuery(".fusion-wqv-close button").on("click",function(){var e=jQuery(this).closest(".fusion-woocommerce-quick-view-container");e.removeClass("fusion-quick-view-loaded"),clearInterval(n),clearInterval(s),jQuery(".fusion-wqv-open").off("keydown"),jQuery("body").removeClass("fusion-wqv-open"),jQuery(".fusion-woocommerce-quick-view-overlay").fadeOut("400"),e.stop().animate({width:e.width()/2,height:e.height()/2,opacity:"0"},300,"easeInOutCubic",function(){jQuery(this).hide(),jQuery(this).removeAttr("style"),jQuery(this).removeClass("complete"),jQuery(this).find(".fusion-wqv-preview-image").removeAttr("style"),jQuery(this).find(".entry-title").removeAttr("style"),jQuery(".fusion-footer-parallax").length&&(jQuery("#main").css("z-index",""),jQuery(".fusion-footer-parallax").css("z-index",""),jQuery("#sliders-container").css("z-index",""))}),e.find(".fusion-wqv-close").fadeOut("300"),jQuery(".fusion-faded-out").find("> span, > a, > div").fadeTo("300","1",function(){jQuery(this).css("opacity","")}),jQuery(".fusion-faded-out").removeClass("fusion-faded-out")}),jQuery(document).on("click",".fusion-woocommerce-quick-view-overlay",function(e){jQuery(".fusion-wqv-close button").trigger("click")}),jQuery(window).on("resize",function(e){var i=jQuery(".fusion-woocommerce-quick-view-container"),t=i.find(".woocommerce-product-gallery").width(),o=jQuery(window).width();jQuery("body").hasClass("fusion-wqv-open")&&(i.width()<o-20&&t+500<=o-20?i.width(t+500):i.width(o-20))})});